---
layout: post
title: "微信小程序-科学计算器微信小程序javapython"
date: 2024-12-04 18:50:37 +0800
description: "微信小程序之科学计算器 （微信小程序+java+python）先把"
keywords: "微信小程序实现科学计算器"
categories: ['微信小程序', 'Springboot']
tags: ['开发语言', '小程序', '后端', 'Python', 'Java']
artid: "121407637"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=121407637
    alt: "微信小程序-科学计算器微信小程序javapython"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     微信小程序 科学计算器（微信小程序+java+python）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_javapython_0">
     </a>
     微信小程序之科学计算器 （微信小程序+java+python）
    </h2>
    <h4>
     <a id="_1">
     </a>
     先把自己的小程序和页面贴出来
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/010a6b7fad39c585f572d32f9aa2db7a.jpeg">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/85de9e96aa6e849dd8f350d898cb9235.png"/>
     </img>
    </p>
    <h4>
     <a id="1_5">
     </a>
     1.前后端实现步骤：
    </h4>
    <p>
     1.前端采用的就是微信小程序开发工具，后端采用的是以springboot为基础，调用python中的Math类进行开发。
     <br/>
     2.开发中遇到的难题不多
     <br/>
     （1）小程序中主要就是光标的定位，如何在对应位置进行增删。
     <br/>
     （2）后端遇到的问题，将 python 代码集成到 java 中，总体难度不大。（全网都是教程）
     <br/>
     （3）在url中存在转义字符 如 ‘+’ 等问题处理方案。
     <br/>
     （4） 发布到linux遇到的坑。理论上来讲，java调用的pythond 的包，不存在平台的适用性，但是作死的将python文件命名为中文，导致一直调用失败。
    </p>
    <h4>
     <a id="2__12">
     </a>
     2.微信小程序 代码展示：
    </h4>
    <p>
     xxx.wxml
    </p>
    <pre><code class="prism language-java"><span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"page"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"section"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>textarea focus<span class="token operator">=</span><span class="token string">"true"</span> auto<span class="token operator">-</span>focus cursor<span class="token operator">=</span><span class="token string">"1"</span> bindfocus<span class="token operator">=</span><span class="token string">"bindfocus"</span> bindinput<span class="token operator">=</span><span class="token string">"bindinput2"</span> data<span class="token operator">-</span>set<span class="token operator">=</span><span class="token string">"{<!-- -->{textarea}}"</span> style<span class="token operator">=</span><span class="token string">" width:100%;background-color: #ddd;"</span> value<span class="token operator">=</span><span class="token string">"{<!-- -->{textarea}}"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>textareaa<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>textarea<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>  <span class="token operator">--</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>view value<span class="token operator">=</span><span class="token string">"{<!-- -->{result}}"</span><span class="token operator">&gt;</span>运行结果为：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>result<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>textarea focus<span class="token operator">=</span><span class="token string">"true"</span> auto<span class="token operator">-</span>focus cursor<span class="token operator">=</span><span class="token string">"1"</span> style<span class="token operator">=</span><span class="token string">"background-color: crimson;"</span> bindinput<span class="token operator">=</span><span class="token string">"ceshi_textarea"</span>  data<span class="token operator">-</span>set<span class="token operator">=</span><span class="token string">"{<!-- -->{textarea}}"</span>  value<span class="token operator">=</span><span class="token string">"{<!-- -->{textarea}}"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>textarea<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>view style<span class="token operator">=</span><span class="token string">"width: 100%;height:12%;background-color: #222;"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>text style<span class="token operator">=</span><span class="token string">" width:100%;height:5%;"</span> value<span class="token operator">=</span><span class="token string">"{<!-- -->{result}}"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"view_1"</span> style<span class="token operator">=</span><span class="token string">" width:100%;background-color: #ddd;"</span><span class="token operator">&gt;</span>
      <span class="token generics"><span class="token punctuation">&lt;</span>view <span class="token punctuation">&gt;</span></span>
        <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn_1"</span> bindtap<span class="token operator">=</span><span class="token string">"btn_zuo"</span><span class="token operator">&gt;</span>←<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn_1"</span> bindtap<span class="token operator">=</span><span class="token string">"btn_left"</span><span class="token operator">&gt;</span>delete_left<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
      <span class="token generics"><span class="token punctuation">&lt;</span>view<span class="token punctuation">&gt;</span></span>
        <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn_1"</span> bindtap<span class="token operator">=</span><span class="token string">"btn_you"</span><span class="token operator">&gt;</span>→<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn_1"</span> bindtap<span class="token operator">=</span><span class="token string">"btn_clear"</span><span class="token operator">&gt;</span>delete_all<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tui-table-view"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">'sort-ct-item'</span> wx<span class="token operator">:</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">'{<!-- -->{list_1}}'</span> wx<span class="token operator">:</span><span class="token keyword">for</span><span class="token operator">-</span>index<span class="token operator">=</span><span class="token string">"indexs"</span> wx<span class="token operator">:</span><span class="token keyword">for</span><span class="token operator">-</span>item<span class="token operator">=</span><span class="token string">"items"</span> wx<span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"indexs"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tui-col-1"</span> data<span class="token operator">-</span>set<span class="token operator">=</span><span class="token string">"{<!-- -->{items}}"</span> bindtap<span class="token operator">=</span><span class="token string">"copyBtn"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">'price'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>text style<span class="token operator">=</span><span class="token string">""</span> data<span class="token operator">-</span>set<span class="token operator">=</span><span class="token string">"{<!-- -->{items}}"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>items<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>view style<span class="token operator">=</span><span class="token string">"width: 100%;"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">'sort-ct-item'</span> wx<span class="token operator">:</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">'{<!-- -->{list_2}}'</span> wx<span class="token operator">:</span><span class="token keyword">for</span><span class="token operator">-</span>index<span class="token operator">=</span><span class="token string">"indexs"</span> wx<span class="token operator">:</span><span class="token keyword">for</span><span class="token operator">-</span>item<span class="token operator">=</span><span class="token string">"items"</span> wx<span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"indexs"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tui-col-3"</span> data<span class="token operator">-</span>set<span class="token operator">=</span><span class="token string">"{<!-- -->{items}}"</span> bindtap<span class="token operator">=</span><span class="token string">"copyBtn"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">'price'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>text style<span class="token operator">=</span><span class="token string">"border-radius: 5rpx;"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>items<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>button bindtap<span class="token operator">=</span><span class="token string">"btn_submit"</span><span class="token operator">&gt;</span>提交<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
</code></pre>
    <p>
     wxss.wxml
    </p>
    <pre><code class="prism language-java"><span class="token comment">/* pages/kexuejisuanqi/kexuejisuanqi.wxss */</span>
<span class="token comment">/* pages/科学计算器/科学计算器.wxss */</span>
<span class="token punctuation">.</span>page<span class="token punctuation">{<!-- --></span>
  width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
  height<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>section<span class="token punctuation">{<!-- --></span>
  position<span class="token operator">:</span> fixed<span class="token punctuation">;</span>
  bottom<span class="token operator">:</span> <span class="token number">20</span>rpx<span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> burlywood<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>tui<span class="token operator">-</span>table<span class="token operator">-</span>view<span class="token punctuation">{<!-- --></span>
  display<span class="token operator">:</span> <span class="token operator">-</span>webkit<span class="token operator">-</span>flex<span class="token punctuation">;</span>
  display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
  justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
  flex<span class="token operator">-</span>wrap<span class="token operator">:</span> wrap<span class="token punctuation">;</span>
  width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>tui<span class="token operator">-</span>col<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">{<!-- --></span>
 <span class="token comment">/* flex: 0 0 auto; */</span>
  <span class="token comment">/* width: 19%; */</span>
  text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
  color<span class="token operator">:</span> #<span class="token number">797979</span><span class="token punctuation">;</span>
  padding<span class="token operator">:</span> <span class="token number">15</span>rpx <span class="token punctuation">;</span>
  margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">10</span>rpx<span class="token punctuation">;</span>
  margin<span class="token operator">-</span>bottom<span class="token operator">:</span> <span class="token number">10</span>rpx<span class="token punctuation">;</span>
  font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">30</span>rpx<span class="token punctuation">;</span>
  border<span class="token operator">:</span> <span class="token number">4</span>rpx solid black<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>tui<span class="token operator">-</span>col<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">/* flex: 0 0 auto; */</span>
   <span class="token comment">/* width: 19%; */</span>
   text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
   color<span class="token operator">:</span> #<span class="token number">797979</span><span class="token punctuation">;</span>
   padding<span class="token operator">:</span> <span class="token number">18</span>rpx <span class="token punctuation">;</span>
   margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">10</span>rpx<span class="token punctuation">;</span>
   margin<span class="token operator">-</span>bottom<span class="token operator">:</span> <span class="token number">10</span>rpx<span class="token punctuation">;</span>
   font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">40</span>rpx<span class="token punctuation">;</span>
   border<span class="token operator">:</span> <span class="token number">4</span>rpx solid black<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

<span class="token punctuation">.</span>view_1<span class="token punctuation">{<!-- --></span>
  display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>btn_1<span class="token punctuation">{<!-- --></span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span> <span class="token number">15</span>rpx<span class="token punctuation">;</span>
  padding<span class="token operator">:</span> <span class="token number">10</span>rpx <span class="token number">0</span><span class="token punctuation">;</span>
  margin<span class="token operator">:</span> <span class="token number">15</span>rpx<span class="token punctuation">;</span>
  font<span class="token operator">-</span>family<span class="token operator">:</span><span class="token string">'Courier New'</span><span class="token punctuation">,</span> <span class="token class-name">Courier</span><span class="token punctuation">,</span> monospace<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     xxx.js
    </p>
    <pre><code class="prism language-java"><span class="token comment">// pages/kexuejisuanqi/kexuejisuanqi.js</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">Page</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>

  <span class="token comment">/**
   * 页面的初始数据
   */</span>
  data<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    list_1<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span>
      <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">,</span>
      <span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">,</span>
      <span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token string">'+'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      <span class="token string">'('</span><span class="token punctuation">,</span> <span class="token string">')'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    list_2<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// 绝对值</span>
      <span class="token string">'fabs'</span><span class="token punctuation">,</span>
      <span class="token comment">//阶乘 整数阶乘</span>
      <span class="token string">'factorial'</span><span class="token punctuation">,</span>
      <span class="token comment">//e 次 x 幂</span>
      <span class="token string">'exp'</span><span class="token punctuation">,</span>
      <span class="token comment">//返回 x 的自然对数（底为 e ）</span>
      <span class="token string">'log'</span><span class="token punctuation">,</span>
      <span class="token comment">//将返回 x 的 y 次幂   两个参数</span>
      <span class="token string">'pow'</span><span class="token punctuation">,</span>
      <span class="token comment">//返回 x 的平方根。</span>
      <span class="token string">'sqrt'</span><span class="token punctuation">,</span>

      <span class="token comment">//三角函数         //返回以弧度为单位的 x 的反余弦值。 结果范围在 0 到 pi 之间。</span>
      <span class="token comment">//返回以弧度为单位的 x 的反余弦值。 结果范围在 0 到 pi 之间。</span>
      <span class="token string">'acos'</span><span class="token punctuation">,</span>
      <span class="token comment">//返回以弧度为单位的 x 的反正弦值。 结果范围在 -pi/2 到 pi/2 之间。</span>
      <span class="token string">'asin'</span><span class="token punctuation">,</span>
      <span class="token comment">//返回以弧度为单位的 x 的反正切值。 结果范围在 -pi/2 到 pi/2 之间。</span>
      <span class="token string">'atan'</span><span class="token punctuation">,</span>
      <span class="token comment">//返回 x 弧度的余弦值。</span>
      <span class="token string">'sin'</span><span class="token punctuation">,</span>
      <span class="token string">'cos'</span><span class="token punctuation">,</span>
      <span class="token string">'tan'</span><span class="token punctuation">,</span>

      <span class="token comment">//角度弧度转换</span>
      <span class="token comment">//将角度 x 从弧度转换为度数</span>
      <span class="token string">'degrees'</span><span class="token punctuation">,</span>
      <span class="token comment">//角度 x 从度数转换为弧度。</span>
      <span class="token string">'radians'</span><span class="token punctuation">,</span>

      <span class="token comment">//双曲函数</span>
      <span class="token comment">//返回 x 的反双曲余弦值</span>
      <span class="token string">'acosh'</span><span class="token punctuation">,</span>
      <span class="token comment">//返回 x 的反双曲正弦值。</span>
      <span class="token string">'asinh'</span><span class="token punctuation">,</span>
      <span class="token comment">//返回 x 的反双曲正切值。</span>
      <span class="token string">'atanh'</span><span class="token punctuation">,</span>
      <span class="token comment">//返回 x 的双曲余弦值。</span>
      <span class="token string">'cosh'</span><span class="token punctuation">,</span>
      <span class="token comment">//返回 x 的双曲正弦值。</span>
      <span class="token string">'sinh'</span><span class="token punctuation">,</span>
      <span class="token comment">//返回 x 的双曲正切值。</span>
      <span class="token string">'tanh'</span><span class="token punctuation">,</span>
      <span class="token comment">//返回 x 处的 伽马函数 值。</span>
      <span class="token string">'gamma'</span><span class="token punctuation">,</span>
      <span class="token comment">// 返回Gamma函数在 x 绝对值的自然对数。</span>
      <span class="token string">'lgamma'</span><span class="token punctuation">,</span>

      <span class="token comment">//常量</span>
      <span class="token comment">//pi</span>
      <span class="token string">'π'</span><span class="token punctuation">,</span>
      <span class="token comment">//e</span>
      <span class="token string">'e'</span><span class="token punctuation">,</span>
      <span class="token comment">//lgamma</span>
      <span class="token string">'lgamma'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    textarea<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    cursor<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    guangbiao<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    guangbiaoqidong<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    result<span class="token operator">:</span><span class="token string">''</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  btn_left<span class="token operator">:</span><span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'btn_left'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> textarea <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">;</span>
    <span class="token keyword">var</span> str <span class="token operator">=</span> textarea<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> str2 <span class="token operator">=</span> textarea<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor<span class="token punctuation">)</span>
    <span class="token keyword">var</span> str3 <span class="token operator">=</span> str <span class="token operator">+</span> str2<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      textarea<span class="token operator">:</span> str3<span class="token punctuation">,</span>
      cursor<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">//固定位置插入| 光标</span>
  btn_charu2<span class="token operator">:</span> function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">;</span>
    <span class="token keyword">var</span> t1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> t2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      textarea<span class="token operator">:</span> t1 <span class="token operator">+</span> <span class="token string">"|"</span> <span class="token operator">+</span> t2<span class="token punctuation">,</span>
      <span class="token comment">// cursor: this.data.cursor + 1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//删除固定位置的光标 |</span>
  btn_delete2<span class="token operator">:</span> function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// console.log(i)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'|'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea <span class="token operator">=</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'|'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//光标向左移动</span>
  btn_zuo<span class="token operator">:</span> function <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>guangbiaoqidong <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>guangbiaoqidong <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sendCode</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// this.hidden_view()</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      cursor<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//光标向右移动</span>
  btn_you<span class="token operator">:</span> function <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>guangbiaoqidong <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>guangbiaoqidong <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sendCode</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      cursor<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//光标 定时器</span>
  sendCode<span class="token operator">:</span> function <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span>function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>guangbiao <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// console.log('1')</span>
        that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>guangbiao <span class="token operator">=</span> <span class="token boolean">true</span>
        that<span class="token punctuation">.</span><span class="token function">btn_charu2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// console.log('2')</span>
        that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>guangbiao <span class="token operator">=</span> <span class="token boolean">false</span>
        that<span class="token punctuation">.</span><span class="token function">btn_delete2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//删除 | 定时器</span>
  deleteCode<span class="token operator">:</span> function <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span>function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor <span class="token operator">==</span> i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'|'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'|'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>guangbiao <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  btn_clear<span class="token operator">:</span> function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      textarea<span class="token operator">:</span> <span class="token string">""</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">/**
   * 获取点击的 按钮 ，并将值显示在 textarea
   */</span>
  copyBtn<span class="token operator">:</span> function <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> now_args <span class="token operator">=</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>set
    <span class="token keyword">if</span> <span class="token punctuation">(</span>now_args <span class="token operator">==</span> <span class="token string">'log'</span><span class="token operator">||</span>now_args <span class="token operator">==</span> <span class="token string">'pow'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      now_args <span class="token operator">=</span> now_args <span class="token operator">+</span> <span class="token string">'(?,?)'</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>now_args <span class="token operator">!=</span> <span class="token string">"."</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"π"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"e"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"lgamma"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"0"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"1"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"2"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"3"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"4"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"5"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"6"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"7"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"8"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"9"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"("</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">")"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"/"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"*"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"+"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"-"</span> <span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"log(?,?)"</span><span class="token operator">&amp;&amp;</span> now_args <span class="token operator">!=</span> <span class="token string">"pow(?,?)"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      now_args <span class="token operator">=</span> now_args <span class="token operator">+</span> <span class="token string">'(?)'</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
    <span class="token comment">//将值添加到光标处：</span>
    <span class="token keyword">var</span> textarea <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">;</span>
    <span class="token keyword">var</span> str <span class="token operator">=</span> textarea<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor<span class="token punctuation">)</span>
    <span class="token keyword">var</span> str2 <span class="token operator">=</span> textarea<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor<span class="token punctuation">)</span>
    <span class="token comment">// var textarea = "";</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>cursor <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">var</span> textarea <span class="token operator">=</span> str2 <span class="token operator">+</span> now_args<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        textarea<span class="token operator">:</span> textarea
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">var</span> textarea <span class="token operator">=</span> str <span class="token operator">+</span> now_args <span class="token operator">+</span> str2<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        textarea<span class="token operator">:</span> textarea
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// textarea = str + now_args + str2;</span>

    <span class="token punctuation">}</span>
    <span class="token comment">// var textarea = this.data.textarea + now_args；</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  bindTextAreaBlur<span class="token operator">:</span> function <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"bindTextAreaBlur!!!-&gt;"</span> <span class="token operator">+</span> args<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>



  btn_submit<span class="token operator">:</span> function <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'btn_submit-&gt;args='</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      textarea<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"textarea="</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// console.log(i)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'|'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea <span class="token operator">=</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'|'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'+'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea <span class="token operator">=</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'+'</span><span class="token punctuation">,</span> <span class="token string">'%2B'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'('</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea <span class="token operator">=</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'('</span><span class="token punctuation">,</span> <span class="token string">'%28'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">')'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea <span class="token operator">=</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">')'</span><span class="token punctuation">,</span> <span class="token string">'%29'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> biaodashi <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>address <span class="token operator">+</span> <span class="token string">"getNum?content='"</span> <span class="token operator">+</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea <span class="token operator">+</span> <span class="token string">"'"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    wx<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      url<span class="token operator">:</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>address <span class="token operator">+</span> <span class="token string">'getNum?content="'</span> <span class="token operator">+</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>textarea <span class="token operator">+</span> <span class="token string">'"'</span><span class="token punctuation">,</span>
      <span class="token comment">// data:{<!-- --></span>
      <span class="token comment">//   content:that.data.textarea</span>
      <span class="token comment">// },</span>
      timeout<span class="token operator">:</span> <span class="token number">150000</span><span class="token punctuation">,</span>
      success<span class="token operator">:</span> function <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'success=&gt;'</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
        that<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
          result<span class="token operator">:</span> args<span class="token punctuation">.</span>data
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    that<span class="token punctuation">.</span><span class="token function">btn_clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * 生命周期函数--监听页面加载
   */</span>
  onLoad<span class="token operator">:</span> function <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * 生命周期函数--监听页面初次渲染完成
   */</span>
  onReady<span class="token operator">:</span> function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * 生命周期函数--监听页面显示
   */</span>
  onShow<span class="token operator">:</span> function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * 生命周期函数--监听页面隐藏
   */</span>
  onHide<span class="token operator">:</span> function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * 生命周期函数--监听页面卸载
   */</span>
  onUnload<span class="token operator">:</span> function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * 页面相关事件处理函数--监听用户下拉动作
   */</span>
  onPullDownRefresh<span class="token operator">:</span> function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * 页面上拉触底事件的处理函数
   */</span>
  onReachBottom<span class="token operator">:</span> function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * 用户点击右上角分享
   */</span>
  onShareAppMessage<span class="token operator">:</span> function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="3springboot_427">
     </a>
     3.springboot重点代码展示
    </h4>
    <p>
     1.先把python的jar包放上来吧
    </p>
    <pre><code class="prism language-java">        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>python<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>jython<span class="token operator">-</span>standalone<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.7</span><span class="token number">.2</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
</code></pre>
    <p>
     2.controller 类
     <br/>
     该类接收来自网络上的包
    </p>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>demo<span class="token punctuation">.</span></span><span class="token class-name">Util<span class="token punctuation">.</span>JiSuan_Util</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>python<span class="token punctuation">.</span>antlr<span class="token punctuation">.</span>ast<span class="token punctuation">.</span></span><span class="token class-name">Str</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestParam</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ResponseBody</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JiSuanQiController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"getNum"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token class-name">String</span> <span class="token function">getJiSuanQi</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"content"</span><span class="token punctuation">,</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> content<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">//主要处理一些出现的字符， </span>
        content<span class="token operator">=</span>content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"\""</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        content<span class="token operator">=</span>content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"|"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//exp是因为自己代码的匹配原则，与e冲突。</span>
        content<span class="token operator">=</span>content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"exp"</span><span class="token punctuation">,</span><span class="token string">"ttt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//三个是转义字符传递 </span>
        content<span class="token operator">=</span>content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"%2B"</span><span class="token punctuation">,</span><span class="token string">"+"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        content<span class="token operator">=</span>content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"%28"</span><span class="token punctuation">,</span><span class="token string">"("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        content<span class="token operator">=</span>content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"%29"</span><span class="token punctuation">,</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> num<span class="token operator">=</span><span class="token class-name">JiSuan_Util</span><span class="token punctuation">.</span><span class="token function">getNum</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"JiSuan_Util---&gt;"</span><span class="token operator">+</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre>
    <p>
     3.两个工具类，实现连接python，及接收返回结果
     <br/>
     (1) JiSuan_Util.java
    </p>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>python<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">PyFunction</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>python<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">PyObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>python<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">PyString</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>python<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">PythonInterpreter</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 实现功能 将前端传进来的表达式 ，进行优化 函数表达式 前面加上 math. 关键字 提交 python处理
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JiSuan_Util</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">PythonInterpreter</span> interpreter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PythonInterpreter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * python 处理 表达式 并返回结果
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token class-name">String</span> expression<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        interpreter<span class="token punctuation">.</span><span class="token function">execfile</span><span class="token punctuation">(</span><span class="token string">"/jisuanqi.py"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        interpreter.execfile("D:\\D\\python空间\\微信小程序\\计算器\\计算器.py");</span>
        <span class="token comment">// 第一个参数为期望获得的函数（变量）的名字，第二个参数为期望返回的对象类型</span>
        <span class="token class-name">PyFunction</span> pyFunction <span class="token operator">=</span> interpreter<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"add"</span><span class="token punctuation">,</span> <span class="token class-name">PyFunction</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//调用函数，如果函数需要参数，在Java中必须先将参数转化为对应的“Python类型”</span>
        <span class="token class-name">PyObject</span> pyobj <span class="token operator">=</span> pyFunction<span class="token punctuation">.</span><span class="token function">__call__</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PyString</span><span class="token punctuation">(</span><span class="token function">processExpression</span><span class="token punctuation">(</span>expression<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"the anwser is: "</span> <span class="token operator">+</span> pyobj<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> pyobj<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 加工表达式
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">processExpression</span><span class="token punctuation">(</span><span class="token class-name">String</span> expression<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"processExpression-&gt;"</span><span class="token operator">+</span>expression<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> expression<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span> <span class="token class-name">MyMath</span><span class="token punctuation">.</span><span class="token function">getMyMath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token class-name">MyMath</span><span class="token punctuation">.</span><span class="token function">getMyMath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getWx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">MyMath</span><span class="token punctuation">.</span><span class="token function">getMyMath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPython</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"str-&gt;"</span><span class="token operator">+</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre>
    <p>
     (2)MyMath.java
    </p>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyMath</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> wx<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> python<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token class-name">String</span> wx<span class="token punctuation">,</span> <span class="token class-name">String</span> python<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>wx <span class="token operator">=</span> wx<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>python <span class="token operator">=</span> python<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getWx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> wx<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setWx</span><span class="token punctuation">(</span><span class="token class-name">String</span> wx<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>wx <span class="token operator">=</span> wx<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPython</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> python<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPython</span><span class="token punctuation">(</span><span class="token class-name">String</span> python<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>python <span class="token operator">=</span> python<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"MyMath{"</span> <span class="token operator">+</span>
                <span class="token string">"wx='"</span> <span class="token operator">+</span> wx <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">", python='"</span> <span class="token operator">+</span> python <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 注：pow 函数为两个参数
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyMath</span><span class="token punctuation">&gt;</span></span> <span class="token function">getMyMath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyMath</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyMath</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//绝对值</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"fabs"</span><span class="token punctuation">,</span><span class="token string">"math.fabs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//以一个整数返回 x 的阶乘。 如果 x 不是整数或为负数时则将引发 ValueError。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"factorial"</span><span class="token punctuation">,</span><span class="token string">"math.factorial"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回给定的整数参数的最大公约数。 如果有一个参数非零，则返回值将是能同时整除所有参数的最大正整数。 如果所有参数为零，则返回值为 0。 不带参数的 gcd() 返回 0。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"gcd"</span><span class="token punctuation">,</span><span class="token string">"math.gcd"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回给定的整数参数的最小公倍数。 如果所有参数均非零，则返回值将是为所有参数的整数倍的最小正整数。 如果参数之一为零，则返回值为 0。 不带参数的 lcm() 返回 1。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"lcm"</span><span class="token punctuation">,</span><span class="token string">"math.lcm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//使用一个参数，返回 x 的自然对数（底为 e ）。[自定义补充：必须为一个参数]</span>
        <span class="token comment">//将返回 x 的 y 次幂。  该值参数为两个</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"pow"</span><span class="token punctuation">,</span><span class="token string">"math.pow"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回 x 的平方根。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"sqrt"</span><span class="token punctuation">,</span><span class="token string">"math.sqrt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//三角函数</span>
        <span class="token comment">//返回以弧度为单位的 x 的反余弦值。 结果范围在 0 到 pi 之间。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"acos"</span><span class="token punctuation">,</span><span class="token string">"math.acos"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回以弧度为单位的 x 的反正弦值。 结果范围在 -pi/2 到 pi/2 之间。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"asin"</span><span class="token punctuation">,</span><span class="token string">"math.asin"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回以弧度为单位的 x 的反正切值。 结果范围在 -pi/2 到 pi/2 之间。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"atan"</span><span class="token punctuation">,</span><span class="token string">"math.atan"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回 x 弧度的余弦值。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"cos"</span><span class="token punctuation">,</span><span class="token string">"math.cos"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"sin"</span><span class="token punctuation">,</span><span class="token string">"math.sin"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"atan"</span><span class="token punctuation">,</span><span class="token string">"math.atan"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//角度弧度转换</span>
        <span class="token comment">//将角度 x 从弧度转换为度数</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"degrees"</span><span class="token punctuation">,</span><span class="token string">"math.degrees"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//角度 x 从度数转换为弧度。将</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"radians"</span><span class="token punctuation">,</span><span class="token string">"math.radians"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//双曲函数:</span>
        <span class="token comment">//返回 x 的反双曲余弦值</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"acosh"</span><span class="token punctuation">,</span><span class="token string">"math.acosh"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回 x 的反双曲正弦值。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"asinh"</span><span class="token punctuation">,</span><span class="token string">"math.asinh"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回 x 的反双曲正切值。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"atanh"</span><span class="token punctuation">,</span><span class="token string">"math.atanh"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回 x 的双曲余弦值。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"cosh"</span><span class="token punctuation">,</span><span class="token string">"math.cosh"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回 x 的双曲正弦值。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"sinh"</span><span class="token punctuation">,</span><span class="token string">"math.sinh"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回 x 的双曲正切值。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"tanh"</span><span class="token punctuation">,</span><span class="token string">"math.tanh"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//返回 x 处的 伽马函数 值。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"gamma"</span><span class="token punctuation">,</span><span class="token string">"math.gamma"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回Gamma函数在 x 绝对值的自然对数。</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"lgamma"</span><span class="token punctuation">,</span><span class="token string">"math.lgamma"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//常量</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"π"</span><span class="token punctuation">,</span><span class="token string">"math.pi"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"e"</span><span class="token punctuation">,</span><span class="token string">"math.e"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"lgamma"</span><span class="token punctuation">,</span><span class="token string">"math.lgamma"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"log"</span><span class="token punctuation">,</span><span class="token string">"math.log"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//返回 e 次 x 幂</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token string">"ttt"</span><span class="token punctuation">,</span><span class="token string">"math.exp"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre>
    <ol start="3">
     <li>
      python代码 很简单（三行）
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">math</span>

def <span class="token function">calculator</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">:</span>

    <span class="token keyword">return</span> <span class="token function">eval</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>


</code></pre>
    <h4>
     <a id="_640">
     </a>
     四、心得
    </h4>
    <ol>
     <li>
      本文中 微信小程序 只是将算式表达式传递给java，由java处理完成，交给python计算结果。在这里，对算式表达式的处理，可以在三个地方，微信小程序，java，python。根据自己对哪个语言精通，可以调节。
     </li>
     <li>
      java中也有自己的math包，如果觉得python难，可以网上查阅一下。
     </li>
     <li>
      微信小程序端 有个取巧指出，让用户自己书写函数，这样微信小程序 端将大大简单，但java 端难度将增大。
     </li>
    </ol>
    <h4>
     <a id="__644">
     </a>
     五 、扫码呀！瞅啥
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/7c2016923523ede4b0b8321a3bd5a709.jpeg"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f6d696e79656c696e672f:61727469636c652f64657461696c732f313231343037363337" class_="artid" style="display:none">
 </p>
</div>


