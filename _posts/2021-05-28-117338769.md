---
layout: post
title: 28分钟完成一款Python游戏,客服戏翻总裁牌
date: 2021-05-28 00:33:49 +0800
description: "这篇博客介绍了如何使用Python的pygame库开发
keywords: 用python实现的卡牌游戏画面
categories: ['精彩技术文']
tags: ['游戏开发', '游戏', 'Python', 'Pygame', 'Opengl']
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=117338769
    alt: 28分钟完成一款Python游戏,客服戏翻总裁牌
artid: 117338769
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     28分钟完成一款Python游戏，《客服戏翻总裁牌》
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="_1">
     </a>
     游戏背景
    </h3>
    <blockquote>
     <p>
      本篇博客创意来源：
      <strong>
       CSDN 新星计划 Python 赛道群
      </strong>
      <br/>
      本游戏开发难度：
      <strong>
       入门级
      </strong>
      <br/>
      游戏试用场景：
      <strong>
       年会抽奖
      </strong>
      ，
      <strong>
       少儿编程
      </strong>
      <br/>
      游戏需求描述：
      <strong>
       随机生成一定数量的格子，然后埋入总裁头像，抽中总裁奖励奥迪一辆
      </strong>
      。
     </p>
    </blockquote>
    <h3>
     <a id="_7">
     </a>
     准备素材
    </h3>
    <p>
     没错，CSDN 总裁和副总裁，请把专业团队打在评论区。
    </p>
    <p>
     稍后游戏中，我们将使用二者头像，制作一款充满
     <strong>
      金钱味道
     </strong>
     的游戏。
    </p>
    <p>
     游戏使用的 Python 框架是 pygame，该库小巧轻便，非常好使。
    </p>
    <h3>
     <a id="_16">
     </a>
     制作游戏背景
    </h3>
    <p>
     为了让游戏充满
     <strong>
      金钱
     </strong>
     味道，我特意制作了一个游戏背景图片。接下来就使用 pygame 实现一下吧。
    </p>
    <p>
     通过
     <code>
      pygame.image.load
     </code>
     加载背景图，如果背景图尺寸不合适，可以通过
     <code>
      pygame.transform.scale
     </code>
     对素材进行缩放。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> sys
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span><span class="token builtin">locals</span> <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token keyword">class</span> <span class="token class-name">Game</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"总裁翻牌"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">set_bg</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        bg <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/bg.png"</span><span class="token punctuation">)</span>
        <span class="token comment"># width, height = bg.get_size()</span>
        <span class="token comment"># 素材缩小</span>
        <span class="token comment"># pygame.transform.scale(bg,(width,height))</span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>bg<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> QUIT<span class="token punctuation">:</span>
                    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

            self<span class="token punctuation">.</span>set_bg<span class="token punctuation">(</span><span class="token punctuation">)</span>
            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    g <span class="token operator">=</span> Game<span class="token punctuation">(</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>
    <p>
     缩放这部分可以学习如下内容：
    </p>
    <pre><code class="prism language-python"><span class="token comment"># 快速缩放，size 相同，缩小后会增大像素密度</span>
pygame<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 平滑缩放，size 会变化，像素密度比较平均</span>
pygame<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>smoothscale<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     运行 Python 代码，一张充满金钱味道的图片展现在了眼前。
    </p>
    <p>
     <img alt="零基础学python要多久 python自学行吗 免费python全套教程" src="https://i-blog.csdnimg.cn/blog_migrate/6629b83ea63c29170059d77ce10b9ff3.png#pic_center" width="500"/>
    </p>
    <p>
     既然游戏设置了 900x600 大小，下面需要进行简单的计算，在此游戏窗口内可以放置多少总裁牌子。
    </p>
    <p>
     为了让大家看的更加清晰，制作一张说明图，如下所示，除了各个方格之间的距离，注意下图各个方格的左上角坐标。
    </p>
    <p>
     <img alt="零基础学python要多久 python自学行吗 免费python全套教程" src="https://i-blog.csdnimg.cn/blog_migrate/1e99563970e0c083b150568b3111a160.png">
      <br/>
      直接使用硬编码的办法，实现对方格渲染的计算，下述代码用到了 pygame 中的精灵类，Card 类继承自该类。
     </img>
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> sys
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span><span class="token builtin">locals</span> <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token keyword">class</span> <span class="token class-name">Card</span><span class="token punctuation">(</span>pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Sprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/card.png"</span><span class="token punctuation">)</span>
        width<span class="token punctuation">,</span> height <span class="token operator">=</span> self<span class="token punctuation">.</span>image<span class="token punctuation">.</span>get_size<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>rect <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Game</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"总裁翻牌"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>start_point <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">set_bg</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        bg <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/bg.png"</span><span class="token punctuation">)</span>
        <span class="token comment"># width, height = bg.get_size()</span>
        <span class="token comment"># 素材缩小</span>
        <span class="token comment"># pygame.transform.scale(bg,(width,height))</span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>bg<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 绘制牌子</span>
    <span class="token keyword">def</span> <span class="token function">set_card</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">for</span> num <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> num <span class="token operator">//</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                x <span class="token operator">=</span> num <span class="token operator">*</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token number">40</span>
                y <span class="token operator">=</span> <span class="token number">45</span>
            <span class="token keyword">elif</span> num <span class="token operator">//</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                x <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token number">40</span>
                y <span class="token operator">=</span> <span class="token number">175</span>
            <span class="token keyword">elif</span> num <span class="token operator">//</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
                x <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token number">40</span>
                y <span class="token operator">=</span> <span class="token number">305</span>
            <span class="token keyword">elif</span> num <span class="token operator">//</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
                x <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token number">40</span>
                y <span class="token operator">=</span> <span class="token number">435</span>
            card <span class="token operator">=</span> Card<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>card<span class="token punctuation">.</span>image<span class="token punctuation">,</span> card<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        x <span class="token operator">=</span> <span class="token number">40</span>
        y <span class="token operator">=</span> <span class="token number">45</span>
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> QUIT<span class="token punctuation">:</span>
                    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

            self<span class="token punctuation">.</span>set_bg<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>set_card<span class="token punctuation">(</span><span class="token punctuation">)</span>

            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    g <span class="token operator">=</span> Game<span class="token punctuation">(</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     代码运行得到如下，卡片使用铜钱图片即可，素材提前进行了裁剪。
     <br/>
     <img alt="零基础学python要多久 python自学行吗 免费python全套教程" src="https://i-blog.csdnimg.cn/blog_migrate/49b8d91278ed6ada314186796ed4c923.png"/>
    </p>
    <h3>
     <a id="_150">
     </a>
     卡片点击事件
    </h3>
    <p>
     下面要实现的一个重要操作，鼠标可点击卡片区域。
    </p>
    <p>
     基于上文的代码，进行了一点点的封装，具体实现如下：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> sys
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span><span class="token builtin">locals</span> <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token keyword">class</span> <span class="token class-name">Card</span><span class="token punctuation">(</span>pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Sprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/card.png"</span><span class="token punctuation">)</span>
        width<span class="token punctuation">,</span> height <span class="token operator">=</span> self<span class="token punctuation">.</span>image<span class="token punctuation">.</span>get_size<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>rect <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Game</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"总裁翻牌"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>card_nums <span class="token operator">=</span> <span class="token number">28</span>
        self<span class="token punctuation">.</span>points <span class="token operator">=</span> self<span class="token punctuation">.</span>all_point<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
	<span class="token comment"># 封装坐标计算函数</span>
    <span class="token keyword">def</span> <span class="token function">all_point</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        points <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> num <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>card_nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> num <span class="token operator">//</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                x <span class="token operator">=</span> num <span class="token operator">*</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token number">40</span>
                y <span class="token operator">=</span> <span class="token number">45</span>
            <span class="token keyword">elif</span> num <span class="token operator">//</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                x <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token number">40</span>
                y <span class="token operator">=</span> <span class="token number">175</span>
            <span class="token keyword">elif</span> num <span class="token operator">//</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
                x <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token number">40</span>
                y <span class="token operator">=</span> <span class="token number">305</span>
            <span class="token keyword">elif</span> num <span class="token operator">//</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
                x <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token number">40</span>
                y <span class="token operator">=</span> <span class="token number">435</span>
            points<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> points

    <span class="token keyword">def</span> <span class="token function">set_bg</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        bg <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/bg.png"</span><span class="token punctuation">)</span>
        <span class="token comment"># width, height = bg.get_size()</span>
        <span class="token comment"># 素材缩小</span>
        <span class="token comment"># pygame.transform.scale(bg,(width,height))</span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>bg<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 绘制牌子</span>
    <span class="token keyword">def</span> <span class="token function">set_card</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">for</span> num <span class="token keyword">in</span> self<span class="token punctuation">.</span>points<span class="token punctuation">:</span>
            x<span class="token punctuation">,</span> y <span class="token operator">=</span> num
            card <span class="token operator">=</span> Card<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>card<span class="token punctuation">.</span>image<span class="token punctuation">,</span> card<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>

    <span class="token comment"># 计算鼠标点击卡片</span>
    <span class="token keyword">def</span> <span class="token function">mouse_card</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> mosx<span class="token punctuation">,</span> mosy<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> x<span class="token punctuation">,</span> y <span class="token keyword">in</span> self<span class="token punctuation">.</span>points<span class="token punctuation">:</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>mosx <span class="token operator">&gt;=</span> x <span class="token keyword">and</span> mosx <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>mosy <span class="token operator">&gt;=</span> y <span class="token keyword">and</span> mosy <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>y <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"点了"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> QUIT<span class="token punctuation">:</span>
                    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

                <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> MOUSEBUTTONDOWN<span class="token punctuation">:</span>
                    mosx<span class="token punctuation">,</span> mosy <span class="token operator">=</span> event<span class="token punctuation">.</span>pos
                    self<span class="token punctuation">.</span>mouse_card<span class="token punctuation">(</span>mosx<span class="token punctuation">,</span> mosy<span class="token punctuation">)</span>

            self<span class="token punctuation">.</span>set_bg<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>set_card<span class="token punctuation">(</span><span class="token punctuation">)</span>

            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    g <span class="token operator">=</span> Game<span class="token punctuation">(</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     此时当你点击任意卡片的时候，会提示是否被点中，同时将坐标生成函数进行了封装与提炼。
    </p>
    <pre><code class="prism language-python"> <span class="token keyword">def</span> <span class="token function">all_point</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        points <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> num <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>card_nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> num <span class="token operator">//</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                x <span class="token operator">=</span> num <span class="token operator">*</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token number">40</span>
                y <span class="token operator">=</span> <span class="token number">45</span>
            <span class="token keyword">elif</span> num <span class="token operator">//</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                x <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token number">40</span>
                y <span class="token operator">=</span> <span class="token number">175</span>
            <span class="token keyword">elif</span> num <span class="token operator">//</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
                x <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token number">40</span>
                y <span class="token operator">=</span> <span class="token number">305</span>
            <span class="token keyword">elif</span> num <span class="token operator">//</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
                x <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token number">40</span>
                y <span class="token operator">=</span> <span class="token number">435</span>
            points<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> points
</code></pre>
    <p>
     只获取被点中还不可以，还需要进行翻牌，这步操作需要使用 Python 中的
     <code>
      enumerate
     </code>
     函数，循环的同时获取序号。
    </p>
    <pre><code class="prism language-python">   <span class="token comment"># 计算鼠标点击卡片</span>
    <span class="token keyword">def</span> <span class="token function">mouse_card</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> mosx<span class="token punctuation">,</span> mosy<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>points<span class="token punctuation">)</span><span class="token punctuation">:</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>mosx <span class="token operator">&gt;=</span> x <span class="token keyword">and</span> mosx <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>mosy <span class="token operator">&gt;=</span> y <span class="token keyword">and</span> mosy <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>y <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"翻牌，点到卡片序号为"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
</code></pre>
    <p>
     <img alt="零基础学python要多久 python自学行吗 免费python全套教程" src="https://i-blog.csdnimg.cn/blog_migrate/0f743769777f2734cef0377c42a2fc80.png#pic_center" width="200"/>
    </p>
    <h3>
     <a id="_278">
     </a>
     翻总裁的牌
    </h3>
    <p>
     上文实现的是翻牌触发，下面实现牌面的转换。此时用到的依旧是对卡片顺序的验证，修改逻辑代码如下，只展示有变化部分代码。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> sys
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span><span class="token builtin">locals</span> <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token keyword">class</span> <span class="token class-name">Card</span><span class="token punctuation">(</span>pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Sprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> card_state<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/card.png"</span><span class="token punctuation">)</span>
        width<span class="token punctuation">,</span> height <span class="token operator">=</span> self<span class="token punctuation">.</span>image<span class="token punctuation">.</span>get_size<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>rect <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
        <span class="token comment"># 切换卡片牌面</span>
        self<span class="token punctuation">.</span>card_state <span class="token operator">=</span> card_state

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 当牌面为 2 时显示哭脸</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>card_state <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/cry.png"</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Game</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"总裁翻牌"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>card_nums <span class="token operator">=</span> <span class="token number">28</span>
        self<span class="token punctuation">.</span>points <span class="token operator">=</span> self<span class="token punctuation">.</span>all_point<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 点击卡片记录数组</span>
        self<span class="token punctuation">.</span>click_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">set_bg</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        bg <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/bg.png"</span><span class="token punctuation">)</span>
        <span class="token comment"># width, height = bg.get_size()</span>
        <span class="token comment"># 素材缩小</span>
        <span class="token comment"># pygame.transform.scale(bg,(width,height))</span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>bg<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 绘制牌子</span>
    <span class="token keyword">def</span> <span class="token function">set_card</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i<span class="token punctuation">,</span> num <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>points<span class="token punctuation">)</span><span class="token punctuation">:</span>
            x<span class="token punctuation">,</span> y <span class="token operator">=</span> num
            card_state <span class="token operator">=</span> <span class="token number">1</span>
            <span class="token comment"># 卡片是否被点击</span>
            <span class="token keyword">if</span> i <span class="token keyword">in</span> self<span class="token punctuation">.</span>click_list<span class="token punctuation">:</span>
                card_state <span class="token operator">=</span> <span class="token number">2</span>

            card <span class="token operator">=</span> Card<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> card_state<span class="token punctuation">)</span>
            card<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>card<span class="token punctuation">.</span>image<span class="token punctuation">,</span> card<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>

    <span class="token comment"># 计算鼠标点击卡片</span>
    <span class="token keyword">def</span> <span class="token function">mouse_card</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> mosx<span class="token punctuation">,</span> mosy<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>points<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>mosx <span class="token operator">&gt;=</span> x <span class="token keyword">and</span> mosx <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>mosy <span class="token operator">&gt;=</span> y <span class="token keyword">and</span> mosy <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>y <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"翻牌，点到卡片序号为"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>click_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
</code></pre>
    <p>
     运行代码得到如下效果，点一个哭一个。
    </p>
    <p>
     <img alt="零基础学python要多久 python自学行吗 免费python全套教程" src="https://i-blog.csdnimg.cn/blog_migrate/d1deb7c596f8a29447bbd15447d5eb03.gif#pic_center"/>
    </p>
    <h3>
     <a id="_CSDN__347">
     </a>
     翻开 CSDN 总裁之牌
    </h3>
    <p>
     游戏已经到了最后一步，下面可以实现抽总裁卡，Card 类增加几个状态，即可实现。
    </p>
    <pre><code class="prism language-python">    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 当牌面为 2 时显示哭脸</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>card_state <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/cry.png"</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> self<span class="token punctuation">.</span>card_state <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/fuzong.png"</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> self<span class="token punctuation">.</span>card_state <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/zong.jpg"</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     为了游戏的趣味性，加入随机效果，使用 numpy 搞定。
    </p>
    <pre><code class="prism language-python"> <span class="token comment"># 随机生成数组，中奖为1，不中奖为0</span>
        self<span class="token punctuation">.</span>win_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>win_list<span class="token punctuation">)</span>
</code></pre>
    <p>
     最终的游戏代码为：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> sys
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span><span class="token builtin">locals</span> <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np


<span class="token keyword">class</span> <span class="token class-name">Card</span><span class="token punctuation">(</span>pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Sprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> card_state<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/card.png"</span><span class="token punctuation">)</span>
        width<span class="token punctuation">,</span> height <span class="token operator">=</span> self<span class="token punctuation">.</span>image<span class="token punctuation">.</span>get_size<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>rect <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
        <span class="token comment"># 切换卡片牌面</span>
        self<span class="token punctuation">.</span>card_state <span class="token operator">=</span> card_state

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 当牌面为 2 时显示哭脸</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>card_state <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/cry.png"</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> self<span class="token punctuation">.</span>card_state <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/fuzong.png"</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> self<span class="token punctuation">.</span>card_state <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/zong.jpg"</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Game</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"总裁翻牌"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>card_nums <span class="token operator">=</span> <span class="token number">28</span>
        self<span class="token punctuation">.</span>points <span class="token operator">=</span> self<span class="token punctuation">.</span>all_point<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 点击卡片记录数组</span>
        self<span class="token punctuation">.</span>click_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        <span class="token comment"># 随机生成数组，中奖为1，不中奖为0</span>
        self<span class="token punctuation">.</span>win_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">all_point</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">set_bg</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        bg <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"images/bg.png"</span><span class="token punctuation">)</span>
        <span class="token comment"># width, height = bg.get_size()</span>
        <span class="token comment"># 素材缩小</span>
        <span class="token comment"># pygame.transform.scale(bg,(width,height))</span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>bg<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 绘制牌子</span>
    <span class="token keyword">def</span> <span class="token function">set_card</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i<span class="token punctuation">,</span> num <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>points<span class="token punctuation">)</span><span class="token punctuation">:</span>
            x<span class="token punctuation">,</span> y <span class="token operator">=</span> num
            card_state <span class="token operator">=</span> <span class="token number">1</span>
            <span class="token comment"># 卡片是否被点击</span>
            <span class="token keyword">if</span> i <span class="token keyword">in</span> self<span class="token punctuation">.</span>click_list<span class="token punctuation">:</span>
                card_state <span class="token operator">=</span> <span class="token number">2</span>
            <span class="token comment"># 卡片是否被点击</span>
            <span class="token keyword">if</span> i <span class="token keyword">in</span> self<span class="token punctuation">.</span>click_list <span class="token keyword">and</span> self<span class="token punctuation">.</span>win_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                card_state <span class="token operator">=</span> <span class="token number">3</span>
            <span class="token comment"># 卡片是否被点击</span>
            <span class="token keyword">if</span> i <span class="token keyword">in</span> self<span class="token punctuation">.</span>click_list <span class="token keyword">and</span> self<span class="token punctuation">.</span>win_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
                card_state <span class="token operator">=</span> <span class="token number">4</span>

            card <span class="token operator">=</span> Card<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> card_state<span class="token punctuation">)</span>
            card<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>card<span class="token punctuation">.</span>image<span class="token punctuation">,</span> card<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>

    <span class="token comment"># 计算鼠标点击卡片</span>
    <span class="token keyword">def</span> <span class="token function">mouse_card</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> mosx<span class="token punctuation">,</span> mosy<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>points<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>mosx <span class="token operator">&gt;=</span> x <span class="token keyword">and</span> mosx <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>mosy <span class="token operator">&gt;=</span> y <span class="token keyword">and</span> mosy <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>y <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"翻牌，点到卡片序号为"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>click_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> QUIT<span class="token punctuation">:</span>
                    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

                <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> MOUSEBUTTONDOWN<span class="token punctuation">:</span>
                    mosx<span class="token punctuation">,</span> mosy <span class="token operator">=</span> event<span class="token punctuation">.</span>pos
                    self<span class="token punctuation">.</span>mouse_card<span class="token punctuation">(</span>mosx<span class="token punctuation">,</span> mosy<span class="token punctuation">)</span>

            self<span class="token punctuation">.</span>set_bg<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>set_card<span class="token punctuation">(</span><span class="token punctuation">)</span>

            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    g <span class="token operator">=</span> Game<span class="token punctuation">(</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     <img alt="零基础学python要多久 python自学行吗 免费python全套教程" src="https://i-blog.csdnimg.cn/blog_migrate/3c19c645d64ca30b10e5c3d6541b3b75.gif#pic_center">
      <br/>
      完整代码下载：
      <a href="https://codechina.csdn.net/hihell/python120/-/tree/master/%E5%B0%8F%E6%B8%B8%E6%88%8F/%E6%80%BB%E8%A3%81%E7%BF%BB%E7%89%8C" rel="nofollow">
       下载地址
      </a>
     </img>
    </p>
    <h3>
     <a id="ID_484">
     </a>
     上一篇博客中奖ID如下：
    </h3>
    <p>
     恭喜
     <code>
      Xiao_Chen001
     </code>
     ，抓紧联系擦姐吧。
    </p>
    <p>
     <img alt="零基础学python要多久 python自学行吗 免费python全套教程" src="https://i-blog.csdnimg.cn/blog_migrate/2296c5defd5c0bbb395e29a57c128bb5.png#pic_center"/>
    </p>
    <h3>
     <a id="_490">
     </a>
     抽奖环节
    </h3>
    <p>
     <mark>
      只要评论数过 50
      <br/>
      随机抽取一名幸运读者
      <br/>
      奖励 39.9 元爬虫 100 例专栏 1 折购买券一份，只需 3.99 元
     </mark>
    </p>
    <blockquote>
     <p>
      今天是持续写作的第
      <font color="red">
       158
      </font>
      / 200 天。
      <br/>
      求点赞、求评论、求收藏。
     </p>
    </blockquote>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f686968656c6c2f:61727469636c652f64657461696c732f313137333338373639" class_="artid" style="display:none">
 </p>
</div>


