---
layout: post
title: "使用C连接Mysql数据库保姆级"
date: 2023-11-14 17:22:33 +0800
description: "本片文章，主要在于C#连接MySQL数据库，由于这之间无法建立直接联系，这时候就涉及到了第三方连接工"
keywords: "c# mysql"
categories: ['未分类']
tags: ['数据库', 'Mysql', 'C']
artid: "134403591"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=134403591
  alt: "使用C连接Mysql数据库保姆级"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     使用C#连接Mysql数据库(保姆级)
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <strong>
      ✨前言✨
     </strong>
     <br/>
     本片文章，主要在于C#连接MySQL数据库，由于这之间无法建立直接联系，这时候就涉及到了第三方连接工具.NET，以此来建立C#与MySQL数据库的连接
    </p>
    <blockquote>
     <p>
      🍒欢迎点赞 👍 收藏 ⭐留言评论 📝私信必回哟😁
      <br/>
      🍒博主将持续更新学习记录收获，友友们有任何问题可以在评论区留言
     </p>
    </blockquote>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#MySQL_9" rel="nofollow">
        一，下载与本机MySQL相应版本的连接插件
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#1MySQL_11" rel="nofollow">
          1，查找本机下载的MySQL版本
         </a>
        </li>
        <li>
         <a href="#2MySQL_27" rel="nofollow">
          2，进入MySQL网站下载连接插件
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#C_47" rel="nofollow">
        二，使用C#创建项目进行插件引用
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#1C_49" rel="nofollow">
          1，打开C#创建一个新项目
         </a>
        </li>
        <li>
         <a href="#2_55" rel="nofollow">
          2，引用下载的连接插件
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#_65" rel="nofollow">
        三，进行连接（代码测试）
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#1_67" rel="nofollow">
          1，检测是否能连接成功
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#_110" rel="nofollow">
        四，运行异常注意事项
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#1_116" rel="nofollow">
          1，引用异常报错
         </a>
        </li>
        <li>
         <a href="#2_130" rel="nofollow">
          2，目标框架配置文件不匹配
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="MySQL_9">
     </a>
     一，下载与本机MySQL相应版本的连接插件
    </h2>
    <h3>
     <a id="1MySQL_11">
     </a>
     1，查找本机下载的MySQL版本
    </h3>
    <p>
     可直接按
     <strong>
      Windows+R键
     </strong>
     输入：
     <strong>
      cmd
     </strong>
     <br/>
     进入一个代码输框如下：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e56ec1bc8397a71836db450da9a1a0bb.png">
      <strong>
       然后直接进行MySQL登录
      </strong>
     </img>
    </p>
    <pre><code class="prism language-sql"><span class="token comment">-- 输入账号密码</span>
mysql <span class="token operator">-</span>u 创建MySQl时的账号 <span class="token operator">-</span>p
password 密码
</code></pre>
    <p>
     <strong>
      如下：
     </strong>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/753e2fcdd3a4cd4352a96894cce2574a.png">
      <br/>
      <strong>
       而后可直接去下载与之相应版本的.NET连接插件
      </strong>
     </img>
    </p>
    <h3>
     <a id="2MySQL_27">
     </a>
     2，进入MySQL网站下载连接插件
    </h3>
    <p>
     <strong>
      点击该链接
     </strong>
     直接进入以下界面：
    </p>
    <p>
     😮
     <a href="https://dev.mysql.com/downloads/" rel="nofollow">
      https://dev.mysql.com/downloads/
     </a>
     🤔
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/badd2912416e25b12c7e20545ab834a1.png">
      <strong>
       单击以上.NET连接器，进入如下界面
      </strong>
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/25508fa589ea9c27a8c3d52704b7e40f.png">
       <br/>
       <strong>
        而后进入如下界面
       </strong>
      </img>
     </img>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/7118a63a617b84381934f19e42c9efda.png"/>
    </p>
    <p>
     <strong>
      下载后直接一直下一步安装即可
     </strong>
     <br/>
     <strong>
      要注意的是
     </strong>
     ，记得文件安装的位置免得半天都找不到
    </p>
    <p>
     <strong>
      安装后，找到文件下载的位置，
     </strong>
     <br/>
     <strong>
      下图是我的位置，如果你的位置正确 会有下面标记的两个dll文件
     </strong>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1a691eb54338cdfb34b256aa0dd5398c.png"/>
    </p>
    <h2>
     <a id="C_47">
     </a>
     二，使用C#创建项目进行插件引用
    </h2>
    <h3>
     <a id="1C_49">
     </a>
     1，打开C#创建一个新项目
    </h3>
    <p>
     <strong>
      创建一个项目(我用的是Visual Studio 2012)，创建成功后添加引用
     </strong>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/c4ffecd55745168a2ea34d3190009e1a.png"/>
    </p>
    <h3>
     <a id="2_55">
     </a>
     2，引用下载的连接插件
    </h3>
    <p>
     <strong>
      单击浏览后，找到以上下载的引用文件位置，选中添加，确定 即可
     </strong>
     👍
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3c9a367a2916e6f9d50ffdcc86fde27a.png"/>
    </p>
    <p>
     <strong>
      查看引用是否添加成功，可直接观看，或者打开属性页
     </strong>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/db9968e776875fd55e9dd04c81937aca.png"/>
    </p>
    <h2>
     <a id="_65">
     </a>
     三，进行连接（代码测试）
    </h2>
    <h3>
     <a id="1_67">
     </a>
     1，检测是否能连接成功
    </h3>
    <p>
     <strong>
      测试关键代码
     </strong>
    </p>
    <pre><code class="prism language-csharp"><span class="token comment">// 第一步：首先要包装引用对象</span>
<span class="token keyword">using</span> <span class="token namespace">MySql<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>MySqlClient</span><span class="token punctuation">;</span>

<span class="token comment">// 第二步：创建一个连接字符串</span>
<span class="token class-name"><span class="token keyword">string</span></span> mysqlcon <span class="token operator">=</span> <span class="token string">"server=localhost;database=goodsdb;user=root;password=root"</span><span class="token punctuation">;</span>
<span class="token comment">//注：</span>
<span class="token comment">//server = 本机服务器名</span>
<span class="token comment">//database = 数据库名</span>
<span class="token comment">//user = MySQL 账号</span>
<span class="token comment">//password = MySQL 密码</span>

<span class="token comment">// 第三步：MySQL 创建连接对象</span>
<span class="token class-name">MySqlConnection</span> con <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MySqlConnection</span><span class="token punctuation">(</span>mysqlcon<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//第四步：打开连接</span>
con<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//第五步：检测是否连接成功，进行连接成功输出</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"连接成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//第六步：关闭连接</span>
con<span class="token punctuation">.</span><span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>
<strong>
如下图代码进行于 MySQL 数据库连接
</strong>
</p>
<p>
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/23a36228f85c0b31f3fb6678cfdcc55e.png"/>
</p>
<p>
<strong>
可看一下本机 MySQL 数据库是否于创建的连接字符串对应
</strong>
<br/>
<strong>
我这里用的是:（Navicat Premium 16）
</strong>
</p>
<p>
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e81b8071e2b6678c99e27a59a1d143b4.png"/>
</p>
<p>
<strong>
如诺没有异常报错，最后输出的结果如下
</strong>
</p>
<p>
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/04a28af2101c1da1e66d84d3c6bbc9d1.png"/>
</p>
<h2>
<a id="_110">
</a>
四，运行异常注意事项
</h2>
<p>
<strong>
代码输入无误后，运行时如诺：出现以下报错，可看解决方案
</strong>
</p>
<p>
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/9d1e0f38395863372299fc89d67a8f21.png"/>
</p>
<h3>
<a id="1_116">
</a>
1，引用异常报错
</h3>
<p>
<strong>
出现这个问题后可能是，最初引用 dll 文件时位置不对
</strong>
<br/>
<strong>
重新添加引用，----》 右击添加引用 ----》浏览 dll 文件位置
</strong>
<br/>
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/c329bb2008c389860367b3f3ad195870.png"/>
</p>
<p>
<strong>
这里，可直选中一个 MySQL.Date.dll 文件添加即可
</strong>
<br/>
<strong>
添加后，选中新添加的这个 dll 文件 确定 即可，如下
</strong>
</p>
<p>
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ecf31d4d35cd0f1a763cd73816ed020e.png"/>
</p>
<p>
<strong>
由于之前选中的 dll 文件运行时出现异常，可不在选择
</strong>
</p>
<h3>
<a id="2_130">
</a>
2，目标框架配置文件不匹配
</h3>
<p>
<strong>
以上方案更改后仍报错可看如下方案
</strong>
<br/>
<strong>
右击项目单击属性，如下
</strong>
</p>
<p>
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/89d5d11ac28ea0bd158667d8ac5354d9.png"/>
</p>
<p>
<strong>
由于原先的目标框架可能无法支持.NET 连接 MySQL 运行
</strong>
<br/>
<strong>
可直接单击 安装其它框架，往下翻找到如下界面
</strong>
</p>
<p>
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/06144ed6c7c9030bdc5182e40ed4146f.png"/>
</p>
<p>
<strong>
单击 开发者工具包，直接下载即可，
</strong>
<br/>
**注：下载框架避免报错，可下载与之前版本+1 的版本 **
<br/>
<strong>
下载后 重新打开你的（Visual Studio 2012）即可，如下
</strong>
</p>
<p>
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/c2441786bb751fbd123b8b78cbf60c11.png"/>
</p>
<p>
<strong>
这里已经显示了我下载的目标框架版本，选中使用即可
</strong>
<br/>
<strong>
如诺，还有异常，仔细看看自己的代码是否有误
</strong>
</p>
<p>
<strong>
✨ 最后 ✨
</strong>
</p>
<blockquote>
<p>
总结不易，希望 uu 们不要吝啬你们的 👍 哟(＾Ｕ＾)ノ~ＹＯ！！
<br/>
如有问题，欢迎评论区批评指正 😁
</p>
</blockquote>

   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f73776565747365722f:61727469636c652f64657461696c732f313334343033353931" class_="artid" style="display:none">
 </p>
</div>
