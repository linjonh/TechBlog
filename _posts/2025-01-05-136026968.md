---
layout: post
title: "Unity-3D游戏开发脚本编程完整指南制作第一个游戏3D滚球跑酷"
date: 2025-01-05 19:54:53 +0800
description: "制小球左右移动，因此只需要获取横向的输入即可，更为简单直接，即将"
keywords: "unity游戏制作教程"
categories: ['游戏开发', 'Unity', 'Unity', '3D游戏开发脚本编程完整指南', '3D']
tags: ['游戏']
artid: "136026968"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=136026968
    alt: "Unity-3D游戏开发脚本编程完整指南制作第一个游戏3D滚球跑酷"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Unity 3D游戏开发+脚本编程完整指南：制作第一个游戏：3D滚球跑酷
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div>
     <table border="1" cellpadding="1" cellspacing="1">
      <tbody>
       <tr>
        <td>
         教程相关资源
        </td>
        <td>
         <a href="https://download.csdn.net/download/tysonchiu/88807447" title="Unity 3D游戏开发+脚本编程完整指南（工程文件+PPT）.zip">
          Unity 3D游戏开发+脚本编程完整指南（工程文件+PPT）.zip
         </a>
        </td>
       </tr>
      </tbody>
     </table>
    </div>
    <div>
     <span style="color:#222222;">
      本节利用前面的知识来实现第一个较为完整的小游戏，如
     </span>
    </div>
    <div>
     <span style="color:#222222;">
      图
     </span>
     <span style="color:#222222;">
      1-21
     </span>
     <span style="color:#222222;">
      所示。
     </span>
    </div>
    <div>
     <figure class="image">
      <img alt="图1-21 3D滚球跑酷游戏完成效果" height="292" src="https://i-blog.csdnimg.cn/blog_migrate/61e3d8e0b5be44a9344350d7af6d2095.png" width="566">
       <figcaption>
        图1-21 3D滚球跑酷游戏完成效果
       </figcaption>
      </img>
     </figure>
     <p>
     </p>
     <h3>
      <span style="color:#e83426;">
       1.3.1
      </span>
      <span style="color:#e83426;">
       游戏设计
      </span>
     </h3>
     <div>
     </div>
     <div>
      <span style="color:#222222;">
       <strong>
        1.
       </strong>
      </span>
      <span style="color:#000000;">
       功能点分析
      </span>
      <span style="color:#222222;">
       游戏中的小球会以恒定速度向前移动，而玩家控制着小球
      </span>
     </div>
     <div>
      <span style="color:#222222;">
       左右移动来躲避跑道中的黄色障碍物。如果玩家能控制小球在
      </span>
     </div>
     <div>
      <span style="color:#222222;">
       跑道上移动一定距离则视为玩家通过关卡，触碰到障碍物或从
      </span>
     </div>
     <div>
      <span style="color:#222222;">
       跑道上掉落则视为失败。我们需要实现的功能点概括来说分为
      </span>
     </div>
     <div>
      <span style="color:#222222;">
       主角的运动、摄像机的移动和过关与失败的检测等。
      </span>
     </div>
     <div>
      <span style="color:#222222;">
       <strong>
        2.
       </strong>
      </span>
      <span style="color:#000000;">
       场景搭建
      </span>
     </div>
     <div>
      <span style="color:#2e7cbe;">
       01
      </span>
      <span style="color:#222222;">
       创建项目。打开
      </span>
      <span style="color:#222222;">
       Unity Hub
      </span>
      <span style="color:#222222;">
       或者单独的
      </span>
      <span style="color:#222222;">
       Unity
      </span>
      <span style="color:#222222;">
       ，初始模板
      </span>
     </div>
     <div>
      <span style="color:#222222;">
       选择
      </span>
      <span style="color:#222222;">
       3D
      </span>
      <span style="color:#222222;">
       ，如图
      </span>
      <span style="color:#222222;">
       1-22
      </span>
      <span style="color:#222222;">
       所示。建议使用
      </span>
      <span style="color:#222222;">
       Unity 2018.3
      </span>
      <span style="color:#222222;">
       以后的版本，这
      </span>
     </div>
     <div>
      <span style="color:#222222;">
       里使用的
      </span>
      <span style="color:#222222;">
       Unity
      </span>
      <span style="color:#222222;">
       版本为
      </span>
      <span style="color:#222222;">
       2019.2.13f1
      </span>
      <span style="color:#222222;">
       。
      </span>
     </div>
     <div>
      <figure class="image">
       <img alt="图1-22 创建3D工程" height="345" src="https://i-blog.csdnimg.cn/blog_migrate/fbf8484b530fed4622f44181ab6fa8a5.png" width="566">
        <figcaption>
         图1-22 创建3D工程
        </figcaption>
       </img>
      </figure>
      <div>
       <span style="color:#2e7cbe;">
        02
       </span>
       <span style="color:#222222;">
        创建场景内物体。在场景中新建一个
       </span>
       <span style="color:#222222;">
        Cube
       </span>
       <span style="color:#222222;">
        （立方体）作
       </span>
      </div>
      <div>
       <span style="color:#222222;">
        为跑道，将其长度改为
       </span>
       <span style="color:#222222;">
        1000
       </span>
       <span style="color:#222222;">
        ，宽度改为
       </span>
       <span style="color:#222222;">
        8
       </span>
       <span style="color:#222222;">
        （即立方体
       </span>
       <span style="color:#222222;">
        <em>
         z
        </em>
       </span>
       <span style="color:#222222;">
        轴和
       </span>
       <span style="color:#222222;">
        <em>
         x
        </em>
       </span>
       <span style="color:#222222;">
        轴的
       </span>
      </div>
      <div>
       <span style="color:#222222;">
        scale
       </span>
       <span style="color:#222222;">
        ），然后将其位置沿
       </span>
       <span style="color:#222222;">
        <em>
         z
        </em>
       </span>
       <span style="color:#222222;">
        轴前移
       </span>
       <span style="color:#222222;">
        480
       </span>
       <span style="color:#222222;">
        ，如图
       </span>
       <span style="color:#222222;">
        1-23
       </span>
       <span style="color:#222222;">
        所示。
       </span>
      </div>
      <figure class="image">
       <img alt="图1-23 创建跑道" height="260" src="https://i-blog.csdnimg.cn/blog_migrate/cd518a9885d3d4f509ba7fce97700ccc.png" width="566">
        <figcaption>
         图1-23 创建跑道
        </figcaption>
       </img>
      </figure>
      <div>
       <span style="color:#2e7cbe;">
        03
       </span>
       <span style="color:#222222;">
        新建一个
       </span>
       <span style="color:#222222;">
        Sphere
       </span>
       <span style="color:#222222;">
        （球体）作为玩家，重置它的初始位置
       </span>
      </div>
      <div>
       <span style="color:#222222;">
        （选择
       </span>
       <span style="color:#222222;">
        Transform
       </span>
       <span style="color:#222222;">
        组件右上角菜单中的
       </span>
       <span style="color:#222222;">
        Reset
       </span>
       <span style="color:#222222;">
        选项），按住
       </span>
       <span style="color:#222222;">
        Ctrl
       </span>
       <span style="color:#222222;">
        键
       </span>
      </div>
      <div>
       <span style="color:#222222;">
        拖曳球体的
       </span>
       <span style="color:#222222;">
        <em>
         y
        </em>
       </span>
       <span style="color:#222222;">
        轴，使其刚好移动到跑道上。
       </span>
      </div>
      <div>
       <span style="color:#2e7cbe;">
        04
       </span>
       <span style="color:#222222;">
        新建若干个
       </span>
       <span style="color:#222222;">
        Cube
       </span>
       <span style="color:#222222;">
        （立方体）作为障碍物，用上面的方法
       </span>
      </div>
      <div>
       <span style="color:#222222;">
        铺在跑道上面。为了便于区分，新建两个材质分别作为跑道和
       </span>
      </div>
      <div>
       <span style="color:#222222;">
        障碍物的材质，调整好颜色后直接拖曳到物体上即可，如图
       </span>
       <span style="color:#222222;">
        1-
       </span>
      </div>
      <div>
       <span style="color:#222222;">
        24
       </span>
       <span style="color:#222222;">
        所示。
       </span>
      </div>
      <div>
       <figure class="image">
        <img alt="图1-24 调整跑道和物体的颜色" height="252" src="https://i-blog.csdnimg.cn/blog_migrate/58bfa1e74707c0a8fbc90d193b2b8e25.png" width="566">
         <figcaption>
          图1-24 调整跑道和物体的颜色
         </figcaption>
        </img>
       </figure>
       <p>
       </p>
       <blockquote>
        <div>
         <span style="color:#000000;">
          小知识
         </span>
        </div>
        <div>
         <span style="color:#000000;">
          按住
         </span>
         <span style="color:#222222;">
          <strong>
           Ctrl
          </strong>
         </span>
         <span style="color:#000000;">
          键拖曳物体的作用
         </span>
        </div>
        <div>
        </div>
        <div>
         <span style="color:#222222;">
          按住
         </span>
         <span style="color:#222222;">
          Ctrl
         </span>
         <span style="color:#222222;">
          键拖曳物体会让其以一个固定值移动（可以在
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          Edit→Snap Settings
         </span>
         <span style="color:#222222;">
          中修改这个固定值），调整物体的旋转和
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          缩放时也是同理。这个功能在搭建场景时可以很方便地对齐
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          物体的位置，特别是当物体为同一规格大小时。
         </span>
         <span style="color:#222222;">
          Unity
         </span>
         <span style="color:#222222;">
          中还有
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          很多类似的很方便的快捷键，在用到时会介绍。
         </span>
        </div>
       </blockquote>
       <p>
       </p>
       <h3>
        <span style="color:#e83426;">
         1.3.2
        </span>
        <span style="color:#e83426;">
         功能实现
        </span>
       </h3>
       <div>
        <span style="color:#222222;">
         <strong>
          1.
         </strong>
        </span>
        <span style="color:#000000;">
         主角的移动
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         之前的实例中已经提到过如何控制小球的移动，因此此处
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         不再赘述。与之前不同的是，在该案例的设计中，玩家只能控
        </span>
        <span style="color:#222222;">
         制小球左右移动，因此只需要获取横向的输入即可，纵向移动
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         保持一个固定值。编辑好脚本后挂载在小球上，代码如下。
        </span>
       </div>
       <pre><code class="language-cs">public class Player : MonoBehaviour
{
    public float speed;
    public float turnSpeed;

    void Update()
    {
        float x = Input.GetAxis("Horizontal");
        transform.Translate(x * turnSpeed * Time.deltaTime, 0, speed * Time.deltaTime);
    }
}
</code></pre>
       <div>
        <span style="color:#222222;">
         <strong>
          2.
         </strong>
        </span>
        <span style="color:#000000;">
         摄像机的移动
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         摄像机移动的方法可以分为两种。一种是像控制小球一样
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         为摄像机挂载控制脚本，使其与小球保持同步运动。另一种则
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         更为简单直接，即将摄像机设置为小球的子物体，此时摄像机
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         在没有其他代码控制的情况下会与小球保持相对静止，即随着
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         小球移动。这里选择第二种方法，当设置好父子关系后调整摄
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         像机到合适的高度和角度，如图
        </span>
        <span style="color:#222222;">
         1-25
        </span>
        <span style="color:#222222;">
         所示。
        </span>
       </div>
       <div>
        <figure class="image">
         <img alt="图1-25 将摄像机作为球体的子物体" height="378" src="https://i-blog.csdnimg.cn/blog_migrate/8cfd6fc5ce1a9f28437cd4285de98bbf.png" width="566">
          <figcaption>
           图1-25 将摄像机作为球体的子物体
          </figcaption>
         </img>
        </figure>
       </div>
       <blockquote>
        <div>
         <span style="color:#000000;">
          小提示
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          <strong>
           Unity
          </strong>
         </span>
         <span style="color:#000000;">
          中的父子关系
         </span>
        </div>
        <div>
        </div>
        <div>
         <span style="color:#222222;">
          父子关系是
         </span>
         <span style="color:#222222;">
          Unity
         </span>
         <span style="color:#222222;">
          中相当重要的一个概念，此处可以不用
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          深究，在第
         </span>
         <span style="color:#222222;">
          2
         </span>
         <span style="color:#222222;">
          章会详细说明。
         </span>
        </div>
       </blockquote>
       <h3>
        <span style="color:#e83426;">
         1.3.3
        </span>
        <span style="color:#e83426;">
         游戏机制
        </span>
       </h3>
       <div>
        <span style="color:#222222;">
         <strong>
          1.
         </strong>
        </span>
        <span style="color:#000000;">
         游戏失败
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         有两种情况会导致游戏失败，一种是碰到了障碍物，另一
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         种是小球从跑道边缘掉落。
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         碰撞到障碍物与吃金币实例中的原理类似，将障碍物碰撞
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         体上的
        </span>
        <span style="color:#222222;">
         Is Trigger
        </span>
        <span style="color:#222222;">
         选项勾选上，然后在障碍物脚本里的
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         OnTriggerEnter()
        </span>
        <span style="color:#222222;">
         函数中检测碰撞。
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         不过游戏中的障碍物可能会有许多个，如果要一个个地分
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         别做上述修改显然很麻烦，还容易遗漏。因此正确的做法是把
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         其中一个障碍物设为
        </span>
        <span style="color:#222222;">
         Prefab
        </span>
        <span style="color:#222222;">
         （预制体），后面添加的障碍物都以
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         这个
        </span>
        <span style="color:#222222;">
         Prefab
        </span>
        <span style="color:#222222;">
         为模板复制即可。
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         最后注意，要检测物理碰撞还需要在小球上添加
        </span>
        <span style="color:#222222;">
         Rigidbody
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         组件。为了避免不必要的物理计算消耗，在这个游戏中完全用
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         代码控制小球的移动，物理系统仅做检测碰撞使用，因此小球
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         Rigidbody
        </span>
        <span style="color:#222222;">
         组件上的
        </span>
        <span style="color:#222222;">
         Is Kinematic
        </span>
        <span style="color:#222222;">
         选项要勾选上。障碍物脚本里的
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         代码如下。
        </span>
       </div>
       <pre><code class="language-cs">public class Barrier : MonoBehaviour
{
    private void OnTriggerEnter(Collider other)
    {
        // 防止其他物体与障碍物的碰撞被检测，我们只需要障碍物与小球的碰撞被检测到
        if (other.name == "Player")
        {
            Time.timeScale = 0;
        }
    }
}
</code></pre>
       <blockquote>
        <div>
         <span style="color:#000000;">
          小知识
         </span>
        </div>
        <div>
         <span style="color:#000000;">
          什么是预制体？
         </span>
         <span style="color:#222222;">
          <strong>
           Time.timeScale
          </strong>
         </span>
         <span style="color:#000000;">
          是什么？
         </span>
        </div>
        <div>
        </div>
        <div>
         <span style="color:#222222;">
          预制体简单来说就是一个事先定义好的游戏物体，之后
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          可以在游戏中反复使用。最简单的创建预制体的方法是直接
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          将场景内的物体拖曳到
         </span>
         <span style="color:#222222;">
          Project
         </span>
         <span style="color:#222222;">
          窗口中，这时在
         </span>
         <span style="color:#222222;">
          Hierarchy
         </span>
         <span style="color:#222222;">
          （层
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          级）窗口中所有与预制体关联的物体名称都会以蓝色显示
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          （普通物体的名称是黑色）。关于预制体的内容会在第
         </span>
         <span style="color:#222222;">
          2
         </span>
         <span style="color:#222222;">
          章
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          详细说明。
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          Time.timeScale
         </span>
         <span style="color:#222222;">
          表示游戏的运行时间倍率，设置为
         </span>
         <span style="color:#222222;">
          0
         </span>
         <span style="color:#222222;">
          即表
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          示游戏里的时间停滞，
         </span>
         <span style="color:#222222;">
          1
         </span>
         <span style="color:#222222;">
          即正常的时间流逝速度，
         </span>
         <span style="color:#222222;">
          2
         </span>
         <span style="color:#222222;">
          即两倍于
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          正常的时间流逝速度，以此类推。
         </span>
        </div>
       </blockquote>
       <div>
        <span style="color:#222222;">
         小球从跑道边缘掉落时也视为游戏结束。但是由于是直接
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         用代码控制小球移动，与刚体有一点冲突，因此掉落部分的功
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         能同样用代码来实现。在
        </span>
        <span style="color:#222222;">
         Player
        </span>
        <span style="color:#222222;">
         脚本里添加如下代码。
        </span>
       </div>
       <pre><code class="language-cs">void Update()
{
    // 省略的代码部分用省略号表示……

    // 一旦小球位置超出了跑道的范围则直接下落
    if (transform.position.x &lt; -4 || transform.position.x &gt; 4)
    {
        transform.Translate(0, -10 * Time.deltaTime, 0);
    }

    // 下落一定距离之后游戏结束
    if (transform.position.y &lt; -20)
    {
        Time.timeScale = 0;
    }
}
</code></pre>
       <div>
        <span style="color:#222222;">
         当游戏失败结束时应该允许玩家重新开始游戏，这里设置
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         键盘上的
        </span>
        <span style="color:#222222;">
         R
        </span>
        <span style="color:#222222;">
         键为重置游戏的按键，在按
        </span>
        <span style="color:#222222;">
         R
        </span>
        <span style="color:#222222;">
         键后即可重新加载当前
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         场景。在
        </span>
        <span style="color:#222222;">
         Player
        </span>
        <span style="color:#222222;">
         脚本里添加如下代码。
        </span>
       </div>
       <div>
        <pre><code class="language-cs">using UnityEngine.SceneManagement;

public class Player : MonoBehaviour
{
    // 省略的代码部分用省略号表示……

    void Update()
    {
        if (Input.GetKeyDown(KeyCode.R))
        {
            SceneManager.LoadScene(0); // 重新加载场景
            Time.timeScale = 1; // 恢复正常的时间流速
            return;
        }

        // 省略的代码部分用省略号表示……
    }
}
</code></pre>
        <blockquote>
         <div>
          <span style="color:#000000;">
           小提示
          </span>
         </div>
         <div>
          <span style="color:#000000;">
           注意添加头部引用
          </span>
         </div>
         <div>
         </div>
         <div>
          <span style="color:#222222;">
           SceneManager
          </span>
          <span style="color:#222222;">
           这个类型是属于
          </span>
         </div>
         <div>
          <span style="color:#222222;">
           UnityEngine.SceneManagement
          </span>
          <span style="color:#222222;">
           的，因此要添加头部引用后才
          </span>
         </div>
         <div>
          <span style="color:#222222;">
           能调用
          </span>
          <span style="color:#222222;">
           SceneManager.LoadScene(0)
          </span>
          <span style="color:#222222;">
           方法。这里参数
          </span>
          <span style="color:#222222;">
           0
          </span>
          <span style="color:#222222;">
           表示场景
          </span>
         </div>
         <div>
          <span style="color:#222222;">
           的序号，由于游戏现在只有一个场景，因此表示加载当前场
          </span>
         </div>
         <div>
          <span style="color:#222222;">
           景。
          </span>
         </div>
        </blockquote>
       </div>
       <p>
       </p>
       <div>
        <span style="color:#222222;">
         <strong>
          2.
         </strong>
        </span>
        <span style="color:#000000;">
         游戏胜利
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         一般来说游戏都应该有一个最终目标，达成这个目标则视
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         为过关或者胜利。不过也不绝对，类似
        </span>
        <span style="color:#222222;">
         <em>
          Flappy Bird
         </em>
        </span>
        <span style="color:#222222;">
         这样的游戏
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         就没有最终目标。这里还是设置一个完成目标，即玩家跑了一
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         定距离就视为过关。
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         这里使用一个看不见的触发器作为决定距离的终点，确保
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         其范围能够覆盖跑道的宽度，当小球进入范围就表示游戏过
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         关，如图
        </span>
        <span style="color:#222222;">
         1-26
        </span>
        <span style="color:#222222;">
         所示。终点物体脚本的代码如下。
        </span>
       </div>
       <p>
       </p>
       <figure class="image">
        <img alt="图1-26 在终点创建触发器" height="283" src="https://i-blog.csdnimg.cn/blog_migrate/c06dbc85223111fcbd77871d3a4c9fa9.png" width="566">
         <figcaption>
          图1-26 在终点创建触发器
         </figcaption>
        </img>
       </figure>
       <p>
       </p>
       <pre><code class="language-cs">public class End : MonoBehaviour
{
    private void OnTriggerEnter(Collider other)
    {
        if (other.name == "Player")
        {
            Debug.Log("过关");
            Time.timeScale = 0; // 暂停游戏
        }
    }
}
</code></pre>
       <div>
        <span style="color:#222222;">
         至此，这个小游戏的基本代码就完成了，之后会对其进行
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         适当的修改，使其更完整。
        </span>
       </div>
       <div>
       </div>
       <h3>
        <span style="color:#e83426;">
         1.3.4
        </span>
        <span style="color:#e83426;">
         完成和完善游戏
        </span>
       </h3>
       <div>
        <span style="color:#222222;">
         <strong>
          1.
         </strong>
        </span>
        <span style="color:#000000;">
         测试自己的游戏
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         这时候可以开始测试自己设置的关卡难度了，一个好的游
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         戏应当有一个合理的难度曲线。有一个小技巧可以提高这一步
        </span>
        <span style="color:#222222;">
         的效率，即单击场景视窗右上角的坐标轴图标，让场景摄像机
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         迅速切换为对应轴方向的视角，而单击下面的
        </span>
        <span style="color:#222222;">
         Persp
        </span>
        <span style="color:#222222;">
         或
        </span>
        <span style="color:#222222;">
         Iso
        </span>
        <span style="color:#222222;">
         则分别
        </span>
       </div>
       <div>
        <span style="color:#222222;">
         代表切换摄像机为透视模式或正交模式，如图
        </span>
        <span style="color:#222222;">
         1-27
        </span>
        <span style="color:#222222;">
         所示。
        </span>
       </div>
       <div>
        <figure class="image">
         <img alt="图1-27 场景可切换为正交模式显示" height="335" src="https://i-blog.csdnimg.cn/blog_migrate/1330be3e5e612029013fc623a02c02d1.png" width="566">
          <figcaption>
           图1-27 场景可切换为正交模式显示
          </figcaption>
         </img>
        </figure>
        <blockquote>
         <div>
          <span style="color:#000000;">
           小提示
          </span>
         </div>
         <div>
          <span style="color:#000000;">
           场景摄像机不会影响实际游戏画面
          </span>
         </div>
         <div>
         </div>
         <div>
          <span style="color:#222222;">
           场景摄像机指的是在
          </span>
          <span style="color:#222222;">
           Scene
          </span>
          <span style="color:#222222;">
           （场景视窗）里的、仅在编
          </span>
         </div>
         <div>
          <span style="color:#222222;">
           辑模式可用的摄像机。
          </span>
          <span style="color:#222222;">
           Hierarchy
          </span>
          <span style="color:#222222;">
           窗口中的摄像机决定在
          </span>
         </div>
         <div>
          <span style="color:#222222;">
           Game
          </span>
          <span style="color:#222222;">
           窗口里看到的实际游戏画面。注意不要将两者混淆。
          </span>
         </div>
        </blockquote>
        <div>
         <span style="color:#222222;">
          这里可以切换场景摄像机为
         </span>
         <span style="color:#222222;">
          <em>
           y
          </em>
         </span>
         <span style="color:#222222;">
          轴方向正交，善用复制与按住
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          Ctrl
         </span>
         <span style="color:#222222;">
          键拖曳功能搭建关卡。
         </span>
        </div>
        <div>
        </div>
        <div>
         <span style="color:#222222;">
          <strong>
           2.
          </strong>
         </span>
         <span style="color:#000000;">
          加入通关
         </span>
         <span style="color:#222222;">
          <strong>
           UI
          </strong>
         </span>
         <span style="color:#222222;">
          在
         </span>
         <span style="color:#222222;">
          Hierarchy
         </span>
         <span style="color:#222222;">
          窗口中单击鼠标右键，通过选择
         </span>
         <span style="color:#222222;">
          UI→Panel
         </span>
         <span style="color:#222222;">
          选项
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          创建一个
         </span>
         <span style="color:#222222;">
          UI
         </span>
         <span style="color:#222222;">
          面板，并以
         </span>
         <span style="color:#222222;">
          Panel
         </span>
         <span style="color:#222222;">
          为父节点创建一个
         </span>
         <span style="color:#222222;">
          Text
         </span>
         <span style="color:#222222;">
          组件，在
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          Text
         </span>
         <span style="color:#222222;">
          组件中输入过关的信息，同时调整字体大小、位置等设
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          置，如图
         </span>
         <span style="color:#222222;">
          1-28
         </span>
         <span style="color:#222222;">
          和图
         </span>
         <span style="color:#222222;">
          1-29
         </span>
         <span style="color:#222222;">
          所示。
         </span>
        </div>
        <figure class="image">
         <img alt="图1-28 创建Text组件" height="467" src="https://i-blog.csdnimg.cn/blog_migrate/b4a7dd19e8610f42cd8e586d9cd47376.png" width="551">
          <figcaption>
           图1-28 创建Text组件
          </figcaption>
         </img>
        </figure>
        <figure class="image">
         <img alt="图1-29 通关界面" height="338" src="https://i-blog.csdnimg.cn/blog_migrate/5ad4b17a3482e89c053b654f7401b1bc.png" width="566">
          <figcaption>
           图1-29 通关界面
          </figcaption>
         </img>
        </figure>
        <p>
        </p>
        <blockquote>
         <div>
          <span style="color:#000000;">
           小知识
          </span>
         </div>
         <div>
          <span style="color:#000000;">
           只是创建了
          </span>
          <span style="color:#222222;">
           <strong>
            Panel
           </strong>
          </span>
          <span style="color:#000000;">
           ，为什么自动添加了其他东西？
          </span>
         </div>
         <div>
         </div>
         <div>
          <span style="color:#222222;">
           当直接创建任何
          </span>
          <span style="color:#222222;">
           UI
          </span>
          <span style="color:#222222;">
           下的组件时都会自动生成
          </span>
          <span style="color:#222222;">
           Canvas
          </span>
          <span style="color:#222222;">
           与
          </span>
         </div>
         <div>
          <span style="color:#222222;">
           EventSystem
          </span>
          <span style="color:#222222;">
           组件，这两个组件分别与
          </span>
          <span style="color:#222222;">
           UI
          </span>
          <span style="color:#222222;">
           的布局和交互相关，
          </span>
         </div>
         <div>
          <span style="color:#222222;">
           暂时不做深究。完整的
          </span>
          <span style="color:#222222;">
           UI
          </span>
          <span style="color:#222222;">
           系统会在后续章节介绍。
          </span>
         </div>
        </blockquote>
        <div>
         <span style="color:#222222;">
          接下来要做的是在游戏开始时隐藏
         </span>
         <span style="color:#222222;">
          UI
         </span>
         <span style="color:#222222;">
          ，在小球触发终点物
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          体时再显示。终点物体的
         </span>
         <span style="color:#222222;">
          End
         </span>
         <span style="color:#222222;">
          脚本代码如下，同时注意修改
         </span>
         <span style="color:#222222;">
          Panel
         </span>
         <span style="color:#222222;">
          的名字为
         </span>
         <span style="color:#222222;">
          EndUI
         </span>
         <span style="color:#222222;">
          。
         </span>
        </div>
        <div>
         <pre><code class="language-cs">public class End : MonoBehaviour
{
    // 声明一个物体变量
    GameObject endUI;

    private void Start()
    {
        // 通过物体在场景中的名字来找到这个物体
        endUI = GameObject.Find("EndUI");
        // 在场景中隐藏这个物体
        endUI.SetActive(false);
    }

    private void OnTriggerEnter(Collider other)
    {
        if (other.name == "Player")
        {
            Debug.Log("过关");
            // 在场景中显示这个物体
            endUI.SetActive(true);
            Time.timeScale = 0; // 暂停游戏
        }
    }
}
</code></pre>
         <div>
          <span style="color:#222222;">
           如此一来，当小球触碰到终点后，
          </span>
          <span style="color:#222222;">
           UI
          </span>
          <span style="color:#222222;">
           就会显示出来，如图
          </span>
         </div>
         <div>
          <span style="color:#222222;">
           1-30所示。
          </span>
         </div>
         <div>
          <figure class="image">
           <img alt="图1-30 到达终点时的显示效果" height="427" src="https://i-blog.csdnimg.cn/blog_migrate/3a8029baccc8686f6a920a50c5413763.png" width="566">
            <figcaption>
             图1-30 到达终点时的显示效果
            </figcaption>
           </img>
          </figure>
         </div>
        </div>
        <p>
        </p>
        <div>
         <span style="color:#222222;">
          <strong>
           3.
          </strong>
         </span>
         <span style="color:#000000;">
          加入摄像机运动效果
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          最后添加一个好玩的扩展功能：当控制小球左右移动时让
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          摄像机往对应方向倾斜。具体的做法会涉及一些
         </span>
         <span style="color:#222222;">
          3D
         </span>
         <span style="color:#222222;">
          数学知识，
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          会在后续章节中介绍。简单思路为：在
         </span>
         <span style="color:#222222;">
          Player
         </span>
         <span style="color:#222222;">
          脚本中使用获取的
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          横向输入，以此控制摄像机的倾斜角度。在
         </span>
         <span style="color:#222222;">
          Player
         </span>
         <span style="color:#222222;">
          中添加如下代
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          码，效果如图
         </span>
         <span style="color:#222222;">
          1-31
         </span>
         <span style="color:#222222;">
          所示
         </span>
        </div>
        <figure class="image">
         <img alt="图1-31 摄像机随输入旋转的效果" height="397" src="https://i-blog.csdnimg.cn/blog_migrate/bcf90574af96e235102a2873b9d59d23.png" width="566">
          <figcaption>
           图1-31 摄像机随输入旋转的效果
          </figcaption>
         </img>
        </figure>
        <p>
        </p>
        <pre><code class="language-cs">void Update()
{
    // 省略的代码部分用省略号表示……

    Transform c = Camera.main.transform;
    Quaternion cur = c.rotation;
    Quaternion target = cur * Quaternion.Euler(0, 0, x * 1.5f);
    Camera.main.transform.rotation = Quaternion.Slerp(cur, target, 0.5f);
}
</code></pre>
        <div>
         <span style="color:#222222;">
          可以在此基础上加入更多细节，如音乐、音效和特效等。
         </span>
        </div>
        <div>
         <span style="color:#222222;">
          合适的音乐和特效可以让简单的游戏更吸引人
         </span>
        </div>
        <div>
        </div>
        <div>
         <table border="1" cellpadding="1" cellspacing="1">
          <tbody>
           <tr>
            <td>
             教程相关资源
            </td>
            <td>
             <a href="https://download.csdn.net/download/tysonchiu/88807447" title="Unity 3D游戏开发+脚本编程完整指南（工程文件+PPT）.zip">
              Unity 3D游戏开发+脚本编程完整指南（工程文件+PPT）.zip
             </a>
            </td>
           </tr>
          </tbody>
         </table>
        </div>
        <p>
        </p>
        <p>
        </p>
        <p>
        </p>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f7479736f6e636869752f:61727469636c652f64657461696c732f313336303236393638" class_="artid" style="display:none">
 </p>
</div>


