---
layout: post
title: "使用java实现sql文件的执行"
date: 2024-11-28 08:44:55 +0800
description: "使用Java实现导出导入数据库的sql文件实际原理是利用java中的runtime类来开启操作系统的"
keywords: "java代码执行dos命令运行sql"
categories: ['数据库']
tags: ['数据库', 'Sql', 'Mysql', 'Java']
artid: "106058156"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=106058156
    alt: "使用java实现sql文件的执行"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     使用java实现sql文件的执行
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Javasql_0">
     </a>
     使用Java实现导出导入数据库的sql文件
    </h2>
    <p>
     实际原理是利用java中的runtime类来开启操作系统的命令行进程执行导出导入数据库的dos命令来完成的
    </p>
    <h4>
     <a id="1dos_4">
     </a>
     1.了解相关的导入和导出的dos命令
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        简单介绍一下MYSQL命令：
       </strong>
      </p>
      <pre><code class="prism language-mysql">  mysql-&gt;CREATE DATABASE dbname;//创建数据库
  mysql-&gt;CREATE TABLE tablename;//创建表
  mysql-&gt;SHOW DATABASES;//显示数据库信息，有那些可用的数据库。
  mysql-&gt;USE dbname;//选择数据库
  mysql-&gt;SHOW TABLES;//显示表信息，有那些可用的表
  mysql-&gt;DESCRIBE tablename;//显示创建的表的信息
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        从数据库导出数据库文件：
       </strong>
      </p>
      <ul>
       <li>
        <p>
         <strong>
          将数据库mydb导出到e:\mysql\mydb.sql文件中：
         </strong>
        </p>
        <p>
         打开开始-&gt;运行-&gt;输入cmd 进入命令行模式
         <br/>
         c:&gt;mysqldump -h localhost -u root -p mydb &gt;e:\mysql\mydb.sql
         <br/>
         然后输入密码，等待一会导出就成功了，可以到目标文件中检查是否成功。
        </p>
       </li>
       <li>
        <p>
         <strong>
          将数据库mydb中的mytable导出到e:\mysql\mytable.sql文件中：
         </strong>
        </p>
        <p>
         c:&gt;mysqldump -h localhost -u root -p mydb mytable&gt;e:\mysql\mytable.sql
        </p>
       </li>
       <li>
        <p>
         <strong>
          将数据库mydb的结构导出到e:\mysql\mydb_stru.sql文件中：
         </strong>
        </p>
        <p>
         c:&gt;mysqldump -h localhost -u root -p mydb --add-drop-table &gt;e:\mysql\mydb_stru.sql
        </p>
       </li>
       <li>
        <p>
         <strong>
          c:&gt;mysqldump -h localhost -u root -p root mydb &gt;e:\mysql\mydb.sql不需要输入密码即可导入，我们一般使用这条dos命令
         </strong>
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <a id="2_JavaSql_35">
     </a>
     2. 使用Java导出Sql脚本
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        a.相关导出的properties配置文件
       </strong>
      </p>
      <pre><code class="prism language-properties">jdbc.host=127.0.0.1
jdbc.user=root
jdbc.password= 输入你要连接的用户对应的密码
jdbc.exportDatabaseName=test
jdbc.port=3306
jdbc.exportPath=e:\\mysql\\test.sql
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        b.导出的方法：
       </strong>
      </p>
      <ul>
       <li>
        <p>
         创建ImportProperties类
        </p>
        <pre><code class="prism language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>four<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>InputStreamReader<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Enumeration<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>HashMap<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Map<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Properties<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ImportProperties</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//获取配置文件属性</span>
    <span class="token keyword">public</span> Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> <span class="token function">proRead</span><span class="token punctuation">(</span>String proName<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        Properties pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> mpro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        InputStreamReader isr<span class="token operator">=</span>null<span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>proName<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            pro<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>isr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//@SuppressWarnings("rawtypes")</span>
            Enumeration en<span class="token operator">=</span>pro<span class="token punctuation">.</span><span class="token function">propertyNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>en<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                String key<span class="token operator">=</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span> en<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                String value<span class="token operator">=</span>pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
                mpro<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> mpro<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e1<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// TODO Auto-generated catch block</span>
            e1<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> null<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
       </li>
       <li>
        <p>
         创建导出Sql类SqlExport
        </p>
        <p>
         <strong>
          注意：导出目录需在磁盘存在，否则无法正常导出sql脚本
         </strong>
        </p>
        <hr/>
        <pre><code class="prism language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Map<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SqlExport</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">//配置文件路径及导出方法的调用</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        ImportProperties importProperties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImportProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String proName <span class="token operator">=</span> <span class="token string">"/exportUrl.properties"</span><span class="token punctuation">;</span>
        Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> importProperties<span class="token punctuation">.</span><span class="token function">proRead</span><span class="token punctuation">(</span>proName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">exportSql</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//导出sql脚本</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">exportSql</span><span class="token punctuation">(</span>Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        String user <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"jdbc.user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String password <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"jdbc.password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String host <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"jdbc.host"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String exportDatabaseName <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"jdbc.exportDatabaseName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String exportPath <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"jdbc.exportPath"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//使用拼接的方式来完成dos命令</span>
        String command <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"cmd /k mysqldump -u"</span><span class="token operator">+</span>user<span class="token operator">+</span><span class="token string">" -p"</span><span class="token operator">+</span>password<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>exportDatabaseName<span class="token operator">+</span><span class="token string">" &gt;"</span><span class="token operator">+</span>exportPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//执行命令行</span>
        Runtime runtime <span class="token operator">=</span> Runtime<span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//cmd /k在执行命令后不关掉命令行窗口  cmd /c在执行完命令行后关掉命令行窗口   \\表示转译符也可使用/替代，linux使用/</span>
            Process process <span class="token operator">=</span> runtime<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
        <p>
         直到该步骤即可完成指定的sql文件的导出工作
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <a id="3_JavadosSql_129">
     </a>
     3. Java调用dos命令完成Sql文件的导入
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        从外部文件导入数据到数据库中（命令行实现 ）：
       </strong>
      </p>
      <p>
       从e:\mysql\test.sql中将文件中的SQL语句导入数据库中：
      </p>
      <p>
       1.从命令行进入mysql，然后用命令CREATE DATABASE test2;创建数据库test2。
      </p>
      <p>
       2.退出mysql 可以输入命令exit；或者quit；
      </p>
      <p>
       3.在CMD中输入下列命令：
      </p>
      <p>
       c:&gt;mysql -h localhost -u root -p test2&lt; e:\mysql\test.sql
      </p>
      <p>
       然后输入密码，就OK了
      </p>
     </li>
     <li>
      <p>
       <strong>
        使用Java代码完成数据库的sql文件导入
       </strong>
      </p>
      <ul>
       <li>
        <p>
         <strong>
          导入sql文件的配置文件
         </strong>
        </p>
        <pre><code class="prism language-properties">jdbc.host=127.0.0.1
jdbc.user=root
jdbc.password=15003892179
jdbc.exportDatabaseName=test2
jdbc.port=3306
jdbc.exportPath=e\:\\mysql\\test.sql
</code></pre>
       </li>
       <li>
        <p>
         创建ImportProperties类
        </p>
        <pre><code class="prism language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>four<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>InputStreamReader<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Enumeration<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>HashMap<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Map<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Properties<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ImportProperties</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//获取配置文件属性</span>
    <span class="token keyword">public</span> Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> <span class="token function">proRead</span><span class="token punctuation">(</span>String proName<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        Properties pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> mpro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        InputStreamReader isr<span class="token operator">=</span>null<span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>proName<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            pro<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>isr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//@SuppressWarnings("rawtypes")</span>
            Enumeration en<span class="token operator">=</span>pro<span class="token punctuation">.</span><span class="token function">propertyNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>en<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                String key<span class="token operator">=</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span> en<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                String value<span class="token operator">=</span>pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
                mpro<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> mpro<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e1<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// TODO Auto-generated catch block</span>
            e1<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> null<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
       </li>
       <li>
        <p>
         创建导入Sql文件类
        </p>
        <pre><code class="prism language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Map<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SqlImport</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        ImportProperties importProperties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImportProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String proName <span class="token operator">=</span> <span class="token string">"/importSql.properties"</span><span class="token punctuation">;</span>
        Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> importProperties<span class="token punctuation">.</span><span class="token function">proRead</span><span class="token punctuation">(</span>proName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">importSql</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">importSql</span><span class="token punctuation">(</span>Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        String user <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"jdbc.user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String password <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"jdbc.password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String host <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"jdbc.host"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String exportDatabaseName <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"jdbc.exportDatabaseName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String exportPath <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"jdbc.exportPath"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String command <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"cmd /k mysql"</span><span class="token operator">+</span><span class="token string">" -h"</span><span class="token operator">+</span>host<span class="token operator">+</span><span class="token string">" -u"</span><span class="token operator">+</span>user<span class="token operator">+</span><span class="token string">" -p"</span><span class="token operator">+</span>password<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>exportDatabaseName<span class="token operator">+</span><span class="token string">" &lt;"</span><span class="token operator">+</span>exportPath<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//执行命令行</span>
        Runtime runtime <span class="token operator">=</span> Runtime<span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//cmd /k在执行命令后不关掉命令行窗口  cmd /c在执行完命令行后关掉命令行窗口   \\表示转译符也可使用/替代，linux使用/</span>
            Process process <span class="token operator">=</span> runtime<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"导入成功》》》》》》》》》》》》》》》"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// TODO Auto-generated catch block</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
        <p>
         到此为止即可完成sql文件导入mysql数据库的步骤了
        </p>
       </li>
      </ul>
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f5368656c646f6e4368616e672f:61727469636c652f64657461696c732f313036303538313536" class_="artid" style="display:none">
 </p>
</div>


