---
layout: post
title: "Linux安装mysql数据库"
date: 2022-05-02 23:12:05 +0800
description: "本文详细介绍了如何在Linux系统中卸载mariadb，安装mysql-server，并配置mysq"
keywords: "linux安装数据库"
categories: ["未分类"]
tags: ["数据库", "Mysql", "Linux"]
artid: "124548633"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=124548633
  alt: "Linux安装mysql数据库"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Linux安装mysql数据库
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     Wnidows系统的Mysql数据库相信大家都会安装，也很简单，但是在linux系统下就比较麻烦了，
     <br/>
     今天就给大家讲解下如何在linux系统下安装Mysql数据库。
    </p>
    <p>
     安装之前首先要找出系统自带的和Mysql数据库类似的一个软件叫
     <strong>
      mariadb
     </strong>
     ，要先卸载掉，不然会和mysql数据库冲突，不兼容，造成安装失败。
    </p>
    <p>
     1.先找出类似mysql的软件
    </p>
    <pre><code>rpm -qa | grep mariadb</code></pre>
    <p>
     一般情况下会找到一个叫mariadb-libs-5.5.65-1.el7.x86_64的软件，卸载掉；如果没找到那就不需要走下一步。
    </p>
    <p>
     2.卸载这个软件
    </p>
    <pre><code>rpm -e --nodeps mariadb-libs-5.5.65-1.el7.x86_64</code></pre>
    <p>
     这时要下载mysql 的 repo源，建议用阿里云源，这里我们就用迅雷去下载repo源会好些
    </p>
    <p>
     3.先下载迅雷(wget)并安装好
    </p>
    <pre><code>yum install -y wget</code></pre>
    <p>
     4.下载mysql的repo源
    </p>
    <pre><code>​
wget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm

​</code></pre>
<p> 5.开始安装 mysql 源
</p>
<pre><code>rpm -ivh mysql-community-release-el7-5.noarch.rpm</code></pre>
<p> 6.开始安装 mysql 数据库
</p>
<pre><code>yum install mysql-server -y</code></pre>
<p>
网速慢的话安装过程可能需要多花点时间，耐心等待就好！
<br/>
<img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/ddbb1f5387d8327984dad4241b499886.png">
<br/>
出现如上图所示的时候说明已经安装好了
</img>
</p>
<p> 7.更改登录的账号用户权限为顶级 root 权限
</p>
<pre><code>chown -R root:root /var/lib/mysql</code></pre>
<p> 8.重启服务
</p>
<pre><code>service mysqld restart</code></pre>
<p> 9.登录 mysql 数据库
</p>
<pre><code>mysql -u root -p</code></pre>
<p>
<strong>
注意
</strong>
<br/>
<strong>
第一次使用数据库登录的时候不用输入密码，因为还没有设置密码，直接回车进入数据库后再去修改密码.
</strong>
<br/>
<img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/102315829eba60da8559f16a116e69f1.png">
出现如上图所示，有 mysql 的提示命令表示已经登录成功数据库.
</img>
</p>
<p>
10 使用数据库
</p>
<pre><code>use mysql;</code></pre>
<p>
11 可以使用
</p>
<pre><code> UPDATE user SET Password = PASSWORD('newpass') WHERE user = 'root';</code></pre>
<p>
方式来修改密码
</p>
<p> 12.为 root 添加远程连接能力，密码为 123
</p>
<pre># 配置 root 允许所有连接（%），密码是 XXXXX

</pre>
    <pre><code>GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'XXXXX' WITH GRANT OPTION;</code></pre>
    <p>
     13.更新权限，重新加载权限
    </p>
    <pre><code>flush privileges;</code></pre>
    <p>
     14.退出数据库
    </p>
    <pre><code>exit;
</code></pre>
    <p>
     15.设置数据库的编码格式为utf-8
    </p>
    <pre><code>vi /etc/my.cnf</code></pre>
    <p>
     <strong>
      character-set-server=utf8
     </strong>
     (放在socket下面一行)
     <br/>
     <img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/de0e075affc828179603c8f909293c99.png"/>
    </p>
    <p>
     16.重启服务
    </p>
    <pre><code>service mysqld restart</code></pre>
    <p>
     17.重新登录，这时要输入新密码
    </p>
    <pre><code>mysql -u root -p 123</code></pre>
    <p>
     18.查看设置的编码格式是否成功
    </p>
    <pre><code>show variables like "%char%";</code></pre>
    <p>
     <br/>
     <img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/45beb4cc3247e7ac9a495d0571624e52.png">
      <br/>
      出现如上图所示时，编码格式已经设置成功！
      <br/>
      到了这一步就可以正常操作数据库了！
     </img>
    </p>
    <h3>
     用数据库图形化界面连接数据库：
    </h3>
    <p>
     <img alt="" height="731" src="https://i-blog.csdnimg.cn/blog_migrate/e12bea57ad409356f775654d9e7ddcb3.png" width="662"/>
    </p>
    <p>
    </p>
    <p>
     如果连接失败需关闭liinux防火墙
    </p>
    <p>
     查看防火墙状态
    </p>
    <pre><code>firewall -cmd    --state</code></pre>
    <p>
     <br/>
     关闭防火墙
    </p>
    <pre><code>systemctl  stop   firewalld.service</code></pre>
    <p>
     <br/>
     开启防火墙
    </p>
    <pre><code>systemctl  start   firewalld.service</code></pre>
    <p>
     <br/>
     禁止开机启动启动防火墙=
    </p>
    <pre><code>systemctl   disable   firewalld.service</code></pre>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f35323733353638332f:61727469636c652f64657461696c732f313234353438363333" class_="artid" style="display:none">
 </p>
</div>
