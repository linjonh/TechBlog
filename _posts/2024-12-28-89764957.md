---
layout: post
title: "C-连接SQL-SERVER-数据库并执行修改操作详细步骤"
date: 2024-12-28 14:30:15 +0800
description: "c#  连接SQL SERVER 2012 数据库_c#数据库修改语句不能执行"
keywords: "c#数据库修改语句不能执行"
categories: ['软件的使用']
tags: ['修改数据库', 'Vs', 'Sql', 'Server', 'C']
artid: "89764957"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=89764957
    alt: "C-连接SQL-SERVER-数据库并执行修改操作详细步骤"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C# 连接SQL SERVER 数据库并执行修改操作详细步骤
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="cSQL_SERVER_2012_0">
     </a>
     c#连接SQL SERVER 2012数据库
    </h3>
    <p>
     一、打开SQL数据库
     <br/>
     连接
     <br/>
     复制服务器名称，一会连接数据库要用到
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/792061277b72add1a77eade002a80405.png">
      <br/>
      打开VS2019
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/90c4ab8537856567a2ec0d136baad60f.png">
       <br/>
       创建window窗体控件
       <br/>
       输入项目名称 和 自己打算存储文件的位置
       <br/>
       创建完成后
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ae965f49465905339d40c0f4ac737bad.png">
        <br/>
        选择工具-——&gt;连接数据库
        <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/cd99e5a375fd771250ae4167c8e6eada.png">
         <br/>
         将开始的服务器名称输入相应位置，并选择需要的数据库名称
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/d4f0e2b664dfcf6ec1c1afe6aef07dff.png">
          <br/>
          vs中选择服务器资源管理器——》选择连接的服务器属性
          <br/>
          <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/95ec6b6dd31303c6bea4ff7a622e2491.png">
           <br/>
           复制连接字符串
           <br/>
           <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/81f462c2b79cb9048978fa6b25c2904a.png">
            <br/>
            向c#窗体中添加自己所需要的控件，我已自己的为例
            <br/>
            <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/c641f1addda740841ab619a42e99b8a9.png">
             <br/>
             如图如果要执行查询操作需双击查询按钮进入代码编辑页面
             <br/>
             输入如下代码
             <br/>
             using System;
             <br/>
             using System.Collections.Generic;
             <br/>
             using System.ComponentModel;
             <br/>
             using System.Data; //必须有
             <br/>
             using System.Drawing;
             <br/>
             using System.Linq;
             <br/>
             using System.Text;
             <br/>
             using System.Threading.Tasks;
             <br/>
             using System.Windows.Forms;
             <br/>
             using System.Data.SqlClient;
             <br/>
             以上代码必须提前使用
            </img>
           </img>
          </img>
         </img>
        </img>
       </img>
      </img>
     </img>
    </p>
    <pre><code>        private void Butsel_Click(object sender, EventArgs e)
        {
            string cinSQL = "Data Source=DESKTOP-9U34U6G;Initial Catalog=SqlKS;Integrated Security=True";       //连接数据库所需要的字符串，即为刚才复制的连接字符串
            SqlConnection conn = new SqlConnection(cinSQL);      //创建连接对象
            try
            {
                string sel = "select * from Stu where Sname='" + textname.Text + "' and SNO='" + textsno.Text + "' and Age=" + textage.Text;  //创建查询语句，根据个人所需数据库做相应修改
                conn.Open();   //打开数据库连接
                SqlCommand comm = new SqlCommand(sel, conn);        //定义执行SQL语句的对象，并将SQL语句赋予对象
                DataSet ds = new DataSet();         //定义存储查询结果的数据容器
                SqlDataAdapter da = new SqlDataAdapter(comm);       //执行连接
                da.Fill(ds);                                        //将数据存入数据容器
                dataGridView1.DataSource = ds.Tables[0];            //输出查询数据
            }
            catch(Exception ex)     //捕获异常，并输出异常问题
            {
                MessageBox.Show(ex.Message.ToString());
            }
            finally
            {
                conn.Close();           //关闭数据库连接
            }
</code></pre>
    <p>
     执行到此过程为连接数据库并执行相应查询，代码输入完成，其他数据操作和此过程相似
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f574d5f4461776e:2f61727469636c652f64657461696c732f3839373634393537" class_="artid" style="display:none">
 </p>
</div>


