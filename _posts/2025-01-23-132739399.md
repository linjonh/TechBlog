---
layout: post
title: "微信小程序开发-事件的绑定"
date: 2025-01-23 23:39:02 +0800
description: "本文介绍了小程序中常用的事件如bindtap和bindinput，包括它们的绑定语法、事件对象属性、"
keywords: "微信小程序绑定事件"
categories: ['微信小程序']
tags: ['微信小程序', '小程序']
artid: "132739399"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=132739399
    alt: "微信小程序开发-事件的绑定"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     微信小程序开发---事件的绑定
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p id="main-toc">
     <strong>
      目录
     </strong>
    </p>
    <p id="%E4%B8%80%E3%80%81%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%A6%82%E5%BF%B5-toc" style="margin-left:0px;">
     <a href="#%E4%B8%80%E3%80%81%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%A6%82%E5%BF%B5" rel="nofollow">
      一、事件的概念
     </a>
    </p>
    <p id="%E4%BA%8C%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E4%BA%8B%E4%BB%B6-toc" style="margin-left:0px;">
     <a href="#%E4%BA%8C%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E4%BA%8B%E4%BB%B6" rel="nofollow">
      二、小程序中常用的事件
     </a>
    </p>
    <p id="%E4%B8%89%E3%80%81%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E5%88%97%E8%A1%A8-toc" style="margin-left:0px;">
     <a href="#%E4%B8%89%E3%80%81%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E5%88%97%E8%A1%A8" rel="nofollow">
      三、事件对象的属性列表
     </a>
    </p>
    <p id="%E5%9B%9B%E3%80%81bindtap%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F-toc" style="margin-left:0px;">
     <a href="#%E5%9B%9B%E3%80%81bindtap%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F" rel="nofollow">
      四、bindtap的语法格式
     </a>
    </p>
    <p id="%EF%BC%881%EF%BC%89%E7%BB%91%E5%AE%9Atap%E8%A7%A6%E6%91%B8%E4%BA%8B%E4%BB%B6-toc" style="margin-left:40px;">
     <a href="#%EF%BC%881%EF%BC%89%E7%BB%91%E5%AE%9Atap%E8%A7%A6%E6%91%B8%E4%BA%8B%E4%BB%B6" rel="nofollow">
      （1）绑定tap触摸事件
     </a>
    </p>
    <p id="%EF%BC%882%EF%BC%89%E7%BC%96%E5%86%99%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;">
     <a href="#%EF%BC%882%EF%BC%89%E7%BC%96%E5%86%99%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0" rel="nofollow">
      （2）编写处理函数
     </a>
    </p>
    <p id="%E4%BA%94%E3%80%81%E5%9C%A8%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0%E4%B8%AD%E4%B8%BAdata%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E8%B5%8B%E5%80%BC-toc" style="margin-left:0px;">
     <a href="#%E4%BA%94%E3%80%81%E5%9C%A8%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0%E4%B8%AD%E4%B8%BAdata%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E8%B5%8B%E5%80%BC" rel="nofollow">
      五、在事件处理函数中为data中的数据赋值
     </a>
    </p>
    <p id="%E5%85%AD%E3%80%81%E4%BA%8B%E4%BB%B6%E4%BC%A0%E5%8F%82-toc" style="margin-left:0px;">
     <a href="#%E5%85%AD%E3%80%81%E4%BA%8B%E4%BB%B6%E4%BC%A0%E5%8F%82" rel="nofollow">
      六、事件传参
     </a>
    </p>
    <p id="%E4%B8%83%E3%80%81bindinput%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F-toc" style="margin-left:0px;">
     <a href="#%E4%B8%83%E3%80%81bindinput%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F" rel="nofollow">
      七、bindinput的语法格式
     </a>
    </p>
    <p id="%E5%85%AB%E3%80%81%E5%AE%9E%E7%8E%B0%E6%96%87%E6%9C%AC%E6%A1%86%E5%92%8Cdata%E4%B9%8B%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5-toc" style="margin-left:0px;">
     <a href="#%E5%85%AB%E3%80%81%E5%AE%9E%E7%8E%B0%E6%96%87%E6%9C%AC%E6%A1%86%E5%92%8Cdata%E4%B9%8B%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5" rel="nofollow">
      八、实现文本框和data之间的数据同步
     </a>
    </p>
    <hr id="hr-toc"/>
    <p>
    </p>
    <p>
    </p>
    <h2 id="%E4%B8%80%E3%80%81%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%A6%82%E5%BF%B5">
     一、事件的概念
    </h2>
    <blockquote>
     <p>
      <strong>
       事件是渲染层到逻辑层的通讯方式。通过事件可以将用户在渲染层产生的行为，反馈到逻辑层进行业务的处理。
      </strong>
     </p>
    </blockquote>
    <p>
    </p>
    <h2 id="%E4%BA%8C%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E4%BA%8B%E4%BB%B6">
     二、小程序中常用的事件
    </h2>
    <blockquote>
     <pre><code class="hljs">类型   绑定方式                      描述
tap    bindtap或bind:tap           手指触摸后马上离开，类似于HTML中的click事件 
input  bindinput或bind:input       文本框的输入事件 
change bindchange或bind:change     状态改变时触发 </code></pre>
    </blockquote>
    <h2 id="%E4%B8%89%E3%80%81%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E5%88%97%E8%A1%A8">
     三、事件对象的属性列表
    </h2>
    <blockquote>
     <p>
      当事件回调触发的时候，会收到一个事件对象event，他的详细属性如下表所示
     </p>
     <pre><code class="hljs">属性            类型      说明
type           string    事件类型
timeStamp      Integer   页面打开到触发事件所经过的毫秒数
target         Object    触发事件的组件的一些属性值集合
currentTarget  Object    当前组件的一些属性集合
detail         Object    额外的信息
touches        Array     触摸事件，当前停留在屏幕中的触摸点信息的数组
changedTouches Array     触摸事件，当前变化的触摸点信息的数组
</code></pre>
     <p>
      <span style="color:#fe2c24;">
       <strong>
        注意：
       </strong>
      </span>
     </p>
     <p>
      <strong>
       target和currentTarget的区别
      </strong>
     </p>
     <p>
      <span style="color:#fe2c24;">
       <u>
        <strong>
         target是触发该事件的源头组件，而currentTarget是当前事件所绑定的组件。
        </strong>
       </u>
      </span>
     </p>
     <p>
      <strong>
       举例如下：
      </strong>
     </p>
     <p>
      <img alt="" height="448" src="https://i-blog.csdnimg.cn/blog_migrate/b3ffb5c89db9f583d8bce351b9a75073.png" width="858"/>
     </p>
     <p>
      <strong>
       点击了按钮后，点击事件会以冒泡的方式向外扩散，也会触发外层的view的tap事件处理函数，对于view来说：
      </strong>
     </p>
     <p>
      <strong>
       e.target就是指触发事件的源头组件
      </strong>
     </p>
     <p>
      <strong>
       e.currentTarget就是当前正在触发事件的那个组件，也就是view
      </strong>
     </p>
    </blockquote>
    <p>
    </p>
    <h2 id="%E5%9B%9B%E3%80%81bindtap%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F">
     四、bindtap的语法格式
    </h2>
    <blockquote>
     <p>
      <strong>
       在小程序中，不存在HTML中的onclick鼠标点击事件，而是通过tap事件来响应用户的触摸行为。一般分为两步：
      </strong>
     </p>
     <p>
      <strong>
       （1）通过bindtap，可以为组件绑定tap触摸事件
      </strong>
     </p>
     <p>
      <strong>
       （2）在页面的js文件中定义对应的事件处理函数，事件参数通过形参event（一般简写成e）来接受
      </strong>
     </p>
    </blockquote>
    <h3 id="%EF%BC%881%EF%BC%89%E7%BB%91%E5%AE%9Atap%E8%A7%A6%E6%91%B8%E4%BA%8B%E4%BB%B6">
     （1）绑定tap触摸事件
    </h3>
    <blockquote>
     <pre><code class="language-javascript">&lt;view&gt;
 &lt;button type="primary" bind:tap="hanshu"&gt;按钮&lt;/button&gt;
&lt;/view&gt;</code></pre>
    </blockquote>
    <h3 id="%EF%BC%882%EF%BC%89%E7%BC%96%E5%86%99%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0">
     （2）编写处理函数
    </h3>
    <blockquote>
     <pre><code class="language-javascript">//js文件中
hanshu(e){
    console.log('666')
 }</code></pre>
    </blockquote>
    <p>
    </p>
    <h2 id="%E4%BA%94%E3%80%81%E5%9C%A8%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0%E4%B8%AD%E4%B8%BAdata%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E8%B5%8B%E5%80%BC">
     五、在事件处理函数中为data中的数据赋值
    </h2>
    <blockquote>
     <p>
      <strong>
       通过调用this.setData（dataObject）方法，可以给页面中data中的数据重新赋值
      </strong>
     </p>
    </blockquote>
    <blockquote>
     <p>
      <strong>
       案例：制作一个按钮，点击他之后，count+1，并将count值显示在页面
      </strong>
     </p>
     <pre><code class="language-javascript">//js文件
 hanshu(e){
   this.setData({
     count:this.data.count+1
   })
 }



&lt;view&gt;
 &lt;view&gt;count={<!-- -->{count}}&lt;/view&gt;
 &lt;button type="primary" bind:tap="hanshu"&gt;点击我count+1&lt;/button&gt;
&lt;/view&gt;</code></pre>
     <p>
     </p>
    </blockquote>
    <h2 id="%E5%85%AD%E3%80%81%E4%BA%8B%E4%BB%B6%E4%BC%A0%E5%8F%82">
     六、事件传参
    </h2>
    <blockquote>
     <p>
      <strong>
       小程序中的传参不能在绑定事件的同时为事件处理函数传递参数，如下将是不正确的。
      </strong>
     </p>
     <pre><code class="language-javascript">&lt;button bind:tap="hanshu(123)"&gt;按钮&lt;/button&gt;</code></pre>
     <p>
      <strong>
       因为小程序会将bintap的属性值全部当成事件名称来处理，相当于要调用一个名称是hanshu(123)的事件处理函数。
      </strong>
     </p>
     <p>
      <strong>
       但是我们可以为组件提供data-*自定义属性传参，其中*代表的是参数的名字，如下：
      </strong>
     </p>
     <pre><code class="language-javascript">&lt;view&gt;
 &lt;view&gt;count={<!-- -->{count}}&lt;/view&gt;
 &lt;button type="primary" bind:tap="hanshu" data-i="{<!-- -->{10}}"&gt;点击我count&lt;/button&gt;
&lt;/view&gt;</code></pre>
     <p>
      <strong>
       data后面的i可以自己取名称，i会被解析成参数的名字，10是参数的值，在事件处理函数中，通过event.target.dataset.参数名称也就是event.target.dataset.i可以获取参数的值。
      </strong>
     </p>
     <pre><code class="language-javascript"> hanshu(e){
   this.setData({
     count:this.data.count+e.target.dataset.i
   })
 }</code></pre>
     <p>
     </p>
    </blockquote>
    <h2 id="%E4%B8%83%E3%80%81bindinput%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F">
     七、bindinput的语法格式
    </h2>
    <blockquote>
     <p>
      <strong>
       在小程序中，通过input事件来响应文本框的输入事件，语法格式如下
      </strong>
     </p>
     <p>
      <strong>
       （1）通过bindinput可以为文本框绑定输入事件
      </strong>
     </p>
     <pre><code class="language-javascript">
&lt;view&gt;
  &lt;input bindinput="handl" /&gt;
&lt;/view&gt;</code></pre>
     <p>
      <strong>
       （2）在js文件处理事件函数
      </strong>
     </p>
     <pre><code class="language-javascript">handl(e){
    console.log(e.detail.value)
  },</code></pre>
    </blockquote>
    <h2>
    </h2>
    <h2 id="%E5%85%AB%E3%80%81%E5%AE%9E%E7%8E%B0%E6%96%87%E6%9C%AC%E6%A1%86%E5%92%8Cdata%E4%B9%8B%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5">
     八、实现文本框和data之间的数据同步
    </h2>
    <blockquote>
     <pre><code class="language-javascript">handl(e){
    this.setData({
      msg:e.detail.value
    })
  },


&lt;input bindinput="handl" value="{<!-- -->{msg}}" /&gt;

&lt;view&gt;msg={<!-- -->{msg}}&lt;/view&gt;</code></pre>
    </blockquote>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f67616f7169616e64722f:61727469636c652f64657461696c732f313332373339333939" class_="artid" style="display:none">
 </p>
</div>


