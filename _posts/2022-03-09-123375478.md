---
layout: post
title: 用python的tkinter做游戏六-坦克大战或射击游戏Demo-篇
date: 2022-03-09 15:08:36 +0800
categories: ['用Python自带的Tkinter做游戏']
tags: ['游戏', 'Tkinter', 'Python']
image:
    path: https://img-blog.csdnimg.cn/f03f447c85b44c6694a938445f386b43.png?x-oss-process&#61;image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBASnVuaSBaaHU&#61;,size_20,color_FFFFFF,t_70,g_se,x_16#
    alt: 用python的tkinter做游戏六-坦克大战或射击游戏Demo-篇
artid: 123375478
render_with_liquid: false
---
<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     用python的tkinter做游戏（六）—— 坦克大战或射击游戏Demo 篇
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     这几天终于把类与对象给整明白了，于是做了一个游戏Demo。
     <br/>
     根据这个Demo的设计思路，就可以用tkinter来做坦克大战或其它射击类的游戏了。
    </p>
    <p>
     之前的几篇博文如下：
     <br/>
     <a href="https://blog.csdn.net/znix1116/article/details/116102909">
      用python自带的tkinter做游戏（一）—— 贪吃蛇 篇
     </a>
     <br/>
     <a href="https://blog.csdn.net/znix1116/article/details/116242512">
      用python自带的tkinter做游戏（二）—— 俄罗斯方块 篇
     </a>
     <br/>
     <a href="https://blog.csdn.net/znix1116/article/details/116351692">
      用python自带的tkinter做游戏（三）—— 推箱子简易版 篇
     </a>
     <br/>
     <a href="https://blog.csdn.net/znix1116/article/details/117232287">
      用python自带的tkinter做游戏（四）—— 重制版 篇
     </a>
     <br/>
     <a href="https://blog.csdn.net/znix1116/article/details/119082478">
      用python自带的tkinter做游戏（五）—— 魔塔 篇
     </a>
    </p>
    <p>
     因为是自学的python，所以代码写的杂乱，现在再回头看看我自己之前敲的代码，实在是不堪入目，尤其是全局变量漫天飞~
     <br/>
     从今天开始，要正式规范起来，至少要尽量避免使用全局变量。
     <br/>
     所以今天所展示的Demo里，没有申明过一次全局变量，希望高手能给点鼓励，新手也能互勉（本人WX：znix1116）。
    </p>
    <p>
     在没搞懂类之前，用tkinter做游戏有很多的局限性，主要有以下三点：
     <br/>
     一个是操控的路线。人物只能是做十字移动，即人物移动只有四个方向，没法做到同时按下2个方向键让人物做斜线移动。
     <br/>
     既然不能同时按下2个按键，引申出来的第二个问题就是无法进行双人游戏。
     <br/>
     最后一个就是子弹，满屏幕的子弹都是一个个的对象，不用类的话工作量实在是太大。
    </p>
    <p>
     今天的Demo将一并解决这三大难题，顺便再展现下tkinter里是如何使用gif文件。
    </p>
    <p>
     先展现一下本Demo里需要用到的图片素材：
     <br/>
     小鸟动图，下载好后改名为x.gif
     <br/>
     子弹的图片改名为b.png
     <br/>
     两张图片和py文件放在同一个目录下即可。
    </p>
    <p>
     如果没有图片文件的话代码也可以运行，只不过不显示图片了，只有线框显示。
     <br/>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/a887f097db4f89cd27c11bea1ee76caa.gif"/>
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/32bbfb1f6ab9fe8175d311bc52038411.png">
      <br/>
      tkinter并不直接支持gif动图，但可以读取gif里其中的一帧。
      <br/>
      通过分解x.gif可以得知这个gif里有七帧图片。
      <br/>
      所以只要不断地刷新帧数就可以实现动图效果了，原理还是很简单的。
     </img>
    </p>
    <p>
     因为小鸟动图没有反向图，所以这次小鸟的移动，头部始终是面向右边，子弹的动作也是一直从左向右，倒也省力了不少。
    </p>
    <p>
     因为是个Demo，所以游戏界面简单了些，各种目标对象也懒得找图片了，直接用线框替代了，反正有了坐标等数据，加载图片也容易。
    </p>
    <pre><code class="prism language-python">map_data <span class="token operator">=</span>   <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">450</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    
<span class="token comment"># map_data 用于存放游戏地图中各种目标对象的列表</span>
<span class="token comment"># map_data[i][0] 显示开关，0=隐藏，1=显示</span>
<span class="token comment"># map_data[i][1] 目标对象的X坐标</span>
<span class="token comment"># map_data[i][2] 目标对象的Y坐标</span>
<span class="token comment"># map_data[i][3] 目标对象的宽度</span>
<span class="token comment"># map_data[i][4] 目标对象的高度</span>
<span class="token comment"># map_data[i][5] 小鸟与目标对象的属性，0=可穿越，1=限制移动区域，2=可消除（接触后即刻消失）</span>
<span class="token comment"># map_data[i][6] 子弹对目标对象的属性，0=可穿越，1=抵挡子弹穿越，2=可消除（接触后和子弹一起消失）</span>
</code></pre>
    <p>
     map_data就是游戏地图里各种数据，每个目标对象分两种状况，分别对应着小鸟和子弹接触后的效果。
     <br/>
     这点就如坦克大战中，河流可以阻挡坦克前进，但子弹却可以穿越。
    </p>
    <p>
     根据map_data里的数据，所展示的画面如下：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/759f29ea89732e12084c340df5448e9c.png"/>
    </p>
    <p>
     其中粉色的小方块小鸟和子弹都可以穿越，下面三个绿色的小方块是可以用子弹消除的，被小鸟接触到也会消除。
     <br/>
     上方的黑色方块小鸟不可穿越，但子弹可以。
     <br/>
     下方的黑色方块小鸟和子弹都不可以。
    </p>
    <p>
     因为是Demo，所以P1和P2都用了相同的图片，用了不同颜色线框来区分。
     <br/>
     当然了，线框觉得碍眼的话可以在设置里去除。
    </p>
    <p>
     现在再来说说控制的按键。
     <br/>
     先看下按键的设置，放在一个字典中：
    </p>
    <pre><code class="prism language-python">self<span class="token punctuation">.</span>pressed_dict     <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>               <span class="token comment"># 记录按键情况</span>
self<span class="token punctuation">.</span>key_set <span class="token operator">=</span>  <span class="token punctuation">[</span>  <span class="token string">'w'</span><span class="token punctuation">,</span>   <span class="token string">'s'</span><span class="token punctuation">,</span>   <span class="token string">'a'</span><span class="token punctuation">,</span>    <span class="token string">'d'</span><span class="token punctuation">,</span>      <span class="token comment"># 1P 方向控制键</span>
                  <span class="token string">'Up'</span><span class="token punctuation">,</span><span class="token string">'Down'</span><span class="token punctuation">,</span><span class="token string">'Left'</span><span class="token punctuation">,</span><span class="token string">'Right'</span><span class="token punctuation">,</span>      <span class="token comment"># 2P 方向控制键</span>
                  <span class="token string">'j'</span> <span class="token punctuation">,</span><span class="token string">'0'</span><span class="token punctuation">]</span>                        <span class="token comment"># 1P，2P 射击按键</span>
</code></pre>
    <p>
     因为就2只小鸟，也不高兴用类了，放一起设置了。
     <br/>
     如果是正式游戏的话，还是需要用类的，毕竟还有敌机或敌方坦克。
    </p>
    <p>
     记录下每个按键的情况，按下时为True，弹起后为False。
    </p>
    <pre><code class="prism language-python">    <span class="token keyword">def</span> <span class="token function">set_bindings</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        
        <span class="token keyword">def</span> <span class="token function">pressed_key</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>event<span class="token punctuation">.</span>keysym<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">def</span> <span class="token function">released_key</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>event<span class="token punctuation">.</span>keysym<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
        
        <span class="token keyword">for</span> x <span class="token keyword">in</span> self<span class="token punctuation">.</span>key_set<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;KeyPress-"</span>   <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&gt;"</span><span class="token punctuation">,</span>  pressed_key <span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;KeyRelease-"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&gt;"</span><span class="token punctuation">,</span>  released_key<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
</code></pre>
    <p>
     根据每个按键的状态，就可以实现同时按键了。
    </p>
    <p>
     一般射击游戏控制路线是自由飞行的。
     <br/>
     但坦克大战这类的游戏是只能做十字路线移动，即只有上下左右四个方向可行动。
     <br/>
     也就说，只要是按了其中某一个方向键，那其它三个方向的按键则是无效的。
     <br/>
     所以解决的方法也很简单，当按下某一个方向键时，使其它三个方向键的移动系数改为0即可（原本系数为1，可移动）。
    </p>
    <p>
     最后展示一下完整的代码（本人WX：znix1116，欢迎交流）：
    </p>
    <p>
     2022.03.25更新：
     <br/>
     修复了出错报警的BUG
    </p>
    <p>
     还发布了坦克大战Demo的升级版：
     <br/>
     <a href="https://blog.csdn.net/znix1116/article/details/123735396">
      用python的tkinter做游戏（七）—— 双人射击游戏Demo（类的应用） 篇
     </a>
    </p>
    <p>
     2022.04.07
     <br/>
     坦克大战的正式版来啦~
     <br/>
     <a href="https://blog.csdn.net/znix1116/article/details/123986223">
      用python的tkinter做游戏（九）—— 坦克大战 正式篇
     </a>
    </p>
    <pre><code class="prism language-python"><span class="token comment"># -*- coding: utf-8 -*-</span>
<span class="token triple-quoted-string string">"""
Created on Sun Mar  6 10:51:17 2022

@author: znix
"""</span>

<span class="token keyword">import</span> tkinter <span class="token keyword">as</span> tk


map_data <span class="token operator">=</span>   <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">450</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    
<span class="token comment"># map_data 用于存放游戏地图中各种目标对象的列表</span>
<span class="token comment"># map_data[i][0] 显示开关，0=隐藏，1=显示</span>
<span class="token comment"># map_data[i][1] 目标对象的X坐标</span>
<span class="token comment"># map_data[i][2] 目标对象的Y坐标</span>
<span class="token comment"># map_data[i][3] 目标对象的宽度</span>
<span class="token comment"># map_data[i][4] 目标对象的高度</span>
<span class="token comment"># map_data[i][5] 小鸟与目标对象的属性，0=可穿越，1=限制移动区域，2=可消除（接触后即刻消失）</span>
<span class="token comment"># map_data[i][6] 子弹对目标对象的属性，0=可穿越，1=抵挡子弹穿越，2=可消除（接触后和子弹一起消失）</span>



<span class="token keyword">class</span> <span class="token class-name">Bullet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">""" 子弹类 """</span>
    bullet_list1   <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>     <span class="token comment"># P1子弹列表</span>
    bullet_list2   <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>     <span class="token comment"># P2子弹列表</span>
    
    aloop <span class="token operator">=</span> <span class="token boolean">None</span>
    bloop <span class="token operator">=</span> <span class="token boolean">None</span>
    gloop <span class="token operator">=</span> <span class="token boolean">None</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> point_x<span class="token punctuation">,</span> point_y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        
        Flying_bird<span class="token punctuation">.</span>bullet1_num    <span class="token operator">+=</span> <span class="token number">1</span>                             <span class="token comment"># 统计屏幕中1P的子弹数量</span>
        Flying_bird<span class="token punctuation">.</span>bullet2_num    <span class="token operator">+=</span> <span class="token number">1</span>                             <span class="token comment"># 统计屏幕中2P的子弹数量</span>
        
        self<span class="token punctuation">.</span>tag1           <span class="token operator">=</span> <span class="token string">'b'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>Flying_bird<span class="token punctuation">.</span>bullet1_num<span class="token punctuation">)</span>    <span class="token comment"># 每颗子弹的标签</span>
        self<span class="token punctuation">.</span>tag2           <span class="token operator">=</span> <span class="token string">'b'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>Flying_bird<span class="token punctuation">.</span>bullet2_num<span class="token punctuation">)</span>    <span class="token comment"># 每颗子弹的标签</span>
        
        self<span class="token punctuation">.</span>bullet_img     <span class="token operator">=</span>  <span class="token boolean">None</span>
        self<span class="token punctuation">.</span>bullet_pic     <span class="token operator">=</span> <span class="token string">'b.png'</span>
        
        self<span class="token punctuation">.</span>width          <span class="token operator">=</span> <span class="token number">20</span>
        self<span class="token punctuation">.</span>height         <span class="token operator">=</span> <span class="token number">20</span>
        self<span class="token punctuation">.</span>point_x        <span class="token operator">=</span> point_x
        self<span class="token punctuation">.</span>point_y        <span class="token operator">=</span> point_y
        self<span class="token punctuation">.</span>move_x         <span class="token operator">=</span> <span class="token number">20</span>
        self<span class="token punctuation">.</span>move_y         <span class="token operator">=</span> <span class="token number">0</span>
        
        
    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>point_x <span class="token operator">&gt;</span> Flying_bird<span class="token punctuation">.</span>win_w<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>       <span class="token comment"># 子弹大于屏幕最右边则返回False</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>point_x <span class="token operator">+=</span> self<span class="token punctuation">.</span>move_x
            self<span class="token punctuation">.</span>point_y <span class="token operator">+=</span> self<span class="token punctuation">.</span>move_y
    
    
    
    
<span class="token keyword">class</span> <span class="token class-name">Flying_bird</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    window        <span class="token operator">=</span> tk<span class="token punctuation">.</span>Tk<span class="token punctuation">(</span><span class="token punctuation">)</span>
    win_w         <span class="token operator">=</span> <span class="token number">640</span>
    win_h         <span class="token operator">=</span> <span class="token number">480</span>
    
    bullet1_num   <span class="token operator">=</span> <span class="token number">0</span>      <span class="token comment"># 屏幕里1P子弹的数量</span>
    bullet2_num   <span class="token operator">=</span> <span class="token number">0</span>      <span class="token comment"># 屏幕里2P子弹的数量</span>
    
    canvas        <span class="token operator">=</span> <span class="token boolean">None</span>
    image_bird1   <span class="token operator">=</span> <span class="token boolean">None</span>
    image_bird2   <span class="token operator">=</span> <span class="token boolean">None</span>
    
    gif_index     <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># GIF文件的帧数</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" """</span>
        self<span class="token punctuation">.</span>title            <span class="token operator">=</span> <span class="token string">'Flying Bird'</span>
        
        self<span class="token punctuation">.</span>cross_fly        <span class="token operator">=</span> <span class="token boolean">False</span>            <span class="token comment"># 移动模式：True = 十字移动 False = 自由移动</span>
        self<span class="token punctuation">.</span>coupe_play       <span class="token operator">=</span> <span class="token boolean">True</span>             <span class="token comment"># 是否双人模式</span>
        self<span class="token punctuation">.</span>show_lines       <span class="token operator">=</span> <span class="token boolean">True</span>             <span class="token comment"># 是否显示线框</span>
        
        self<span class="token punctuation">.</span>x_axis1          <span class="token operator">=</span> <span class="token number">150</span>              <span class="token comment"># 1P X坐标</span>
        self<span class="token punctuation">.</span>y_axis1          <span class="token operator">=</span> <span class="token number">200</span>              <span class="token comment"># 1P Y坐标</span>
        self<span class="token punctuation">.</span>x_axis2          <span class="token operator">=</span> <span class="token number">350</span>              <span class="token comment"># 2P X坐标</span>
        self<span class="token punctuation">.</span>y_axis2          <span class="token operator">=</span> <span class="token number">220</span>              <span class="token comment"># 2P Y坐标</span>
        
        self<span class="token punctuation">.</span>fly_FPS          <span class="token operator">=</span> <span class="token number">9</span>                <span class="token comment"># FPS值</span>
        self<span class="token punctuation">.</span>move_space       <span class="token operator">=</span> <span class="token number">2</span>                <span class="token comment"># 移动间距</span>
        
        self<span class="token punctuation">.</span>bird_pic         <span class="token operator">=</span> <span class="token string">'x.gif'</span>          <span class="token comment"># 小鸟图片地址</span>
        
        self<span class="token punctuation">.</span>max_gif_index    <span class="token operator">=</span> <span class="token number">7</span>                <span class="token comment"># 小鸟GIF的总帧数</span>
        self<span class="token punctuation">.</span>brid_widch       <span class="token operator">=</span> <span class="token number">79</span>               <span class="token comment"># 小鸟身宽</span>
        self<span class="token punctuation">.</span>brid_height      <span class="token operator">=</span> <span class="token number">73</span>               <span class="token comment"># 小鸟身高</span>
        self<span class="token punctuation">.</span>x_adjust         <span class="token operator">=</span> <span class="token number">6</span>                <span class="token comment"># X轴偏差调整</span>
        self<span class="token punctuation">.</span>y_adjust         <span class="token operator">=</span> <span class="token number">5</span>                <span class="token comment"># Y轴偏差调整</span>
        
        self<span class="token punctuation">.</span>bullet_FPS       <span class="token operator">=</span> <span class="token number">500</span>              <span class="token comment"># 子弹FPS</span>
        
        self<span class="token punctuation">.</span>pressed_dict     <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>               <span class="token comment"># 记录按键情况</span>
        self<span class="token punctuation">.</span>key_set <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token string">'w'</span><span class="token punctuation">,</span>   <span class="token string">'s'</span><span class="token punctuation">,</span>   <span class="token string">'a'</span><span class="token punctuation">,</span>    <span class="token string">'d'</span><span class="token punctuation">,</span>      <span class="token comment"># 1P 方向控制键</span>
                         <span class="token string">'Up'</span><span class="token punctuation">,</span><span class="token string">'Down'</span><span class="token punctuation">,</span><span class="token string">'Left'</span><span class="token punctuation">,</span><span class="token string">'Right'</span><span class="token punctuation">,</span>      <span class="token comment"># 2P 方向控制键</span>
                         <span class="token string">'j'</span> <span class="token punctuation">,</span><span class="token string">'0'</span><span class="token punctuation">]</span>                        <span class="token comment"># 1P，2P 射击按键</span>
        
        self<span class="token punctuation">.</span>color_dic <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">:</span>         <span class="token string">'pink'</span><span class="token punctuation">,</span>
                          <span class="token number">1</span><span class="token punctuation">:</span>        <span class="token string">'black'</span><span class="token punctuation">,</span>
                          <span class="token number">2</span><span class="token punctuation">:</span>    <span class="token string">'palegreen'</span><span class="token punctuation">,</span>
                          <span class="token number">3</span><span class="token punctuation">:</span>          <span class="token string">'red'</span><span class="token punctuation">,</span>
                          <span class="token number">4</span><span class="token punctuation">:</span>         <span class="token string">'blue'</span> <span class="token punctuation">}</span>   
        
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>coupe_play <span class="token operator">==</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>x_axis2          <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">300</span>
            self<span class="token punctuation">.</span>y_axis2          <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">150</span>
        
        self<span class="token punctuation">.</span>FPS             <span class="token operator">=</span> <span class="token number">80</span>                <span class="token comment"># 翅膀拍打速度（单位毫秒）</span>
        self<span class="token punctuation">.</span>canvas_bg       <span class="token operator">=</span> <span class="token string">'white'</span>           <span class="token comment"># 游戏背景色</span>
        
        self<span class="token punctuation">.</span>run_game<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
    
    
    <span class="token keyword">def</span> <span class="token function">sprite_collide</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>f<span class="token punctuation">,</span>g<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" 
        判断2个矩形是否相交
        x ,y ,a,b = 矩形1的xy坐标，a,b为长宽
        x1,y1,f,g = 矩形2的xy坐标，f,g为长宽
        """</span>
                
        x0 <span class="token operator">=</span>  x <span class="token operator">+</span> a    <span class="token comment"># 矩形1最右端的坐标</span>
        y0 <span class="token operator">=</span>  y <span class="token operator">+</span> b    <span class="token comment"># 矩形1最底端的坐标</span>
        x2 <span class="token operator">=</span> x1 <span class="token operator">+</span> f    <span class="token comment"># 矩形2最右端的坐标</span>
        y2 <span class="token operator">=</span> y1 <span class="token operator">+</span> g    <span class="token comment"># 矩形2最底端的坐标</span>
                
        <span class="token keyword">if</span> x0 <span class="token operator">&gt;</span> x1 <span class="token keyword">and</span> x <span class="token operator">&lt;</span> x2 <span class="token keyword">and</span> y0 <span class="token operator">&gt;</span> y1 <span class="token keyword">and</span> y <span class="token operator">&lt;</span> y2<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
    
    
        
    <span class="token keyword">def</span> <span class="token function">draw_block_range</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" 绘制目标对象的线框 """</span>
        color <span class="token operator">=</span> self<span class="token punctuation">.</span>color_dic<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
        c <span class="token operator">=</span> a <span class="token operator">+</span> w
        d <span class="token operator">=</span> b <span class="token operator">+</span> h
        self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>create_rectangle<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>fill<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span>outline <span class="token operator">=</span> color<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>create_line<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>fill <span class="token operator">=</span> color<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>create_line<span class="token punctuation">(</span>c<span class="token punctuation">,</span>b<span class="token punctuation">,</span>a<span class="token punctuation">,</span>d<span class="token punctuation">,</span>fill <span class="token operator">=</span> color<span class="token punctuation">)</span>
    
    
    <span class="token keyword">def</span> <span class="token function">draw_all_object</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" 绘制所有对象的线框 """</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>map_data<span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>draw_block_range<span class="token punctuation">(</span>map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                    map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                    map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                
    
    <span class="token keyword">def</span> <span class="token function">bird_gif</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" Bird的动画效果 a=gif帧数 """</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>gif_index <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>gif_index <span class="token operator">&gt;</span> self<span class="token punctuation">.</span>max_gif_index<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>gif_index <span class="token operator">=</span> <span class="token number">0</span>
        
            gif_format <span class="token operator">=</span> <span class="token string">"gif -index "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>gif_index<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">""</span>
            self<span class="token punctuation">.</span>image_bird1 <span class="token operator">=</span> tk<span class="token punctuation">.</span>PhotoImage<span class="token punctuation">(</span><span class="token builtin">file</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>bird_pic<span class="token punctuation">,</span> <span class="token builtin">format</span> <span class="token operator">=</span> gif_format<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>image_bird2 <span class="token operator">=</span> tk<span class="token punctuation">.</span>PhotoImage<span class="token punctuation">(</span><span class="token builtin">file</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>bird_pic<span class="token punctuation">,</span> <span class="token builtin">format</span> <span class="token operator">=</span> gif_format<span class="token punctuation">)</span>
        
            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>create_image<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x_axis1 <span class="token operator">-</span> self<span class="token punctuation">.</span>x_adjust<span class="token punctuation">,</span> 
                                     self<span class="token punctuation">.</span>y_axis1 <span class="token operator">-</span> self<span class="token punctuation">.</span>y_adjust<span class="token punctuation">,</span> 
                                     anchor<span class="token operator">=</span><span class="token string">'nw'</span><span class="token punctuation">,</span> image <span class="token operator">=</span> self<span class="token punctuation">.</span>image_bird1<span class="token punctuation">)</span>
        
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>coupe_play <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>create_image<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x_axis2 <span class="token operator">-</span> self<span class="token punctuation">.</span>x_adjust<span class="token punctuation">,</span> 
                                         self<span class="token punctuation">.</span>y_axis2 <span class="token operator">-</span> self<span class="token punctuation">.</span>y_adjust<span class="token punctuation">,</span> 
                                         anchor<span class="token operator">=</span><span class="token string">'nw'</span><span class="token punctuation">,</span> image <span class="token operator">=</span> self<span class="token punctuation">.</span>image_bird2<span class="token punctuation">)</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">pass</span>
    
    
    <span class="token keyword">def</span> <span class="token function">create_bullet_list</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" 生成子弹列表 """</span>
        <span class="token keyword">if</span> x <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            blt1 <span class="token operator">=</span> Bullet<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x_axis1 <span class="token operator">+</span> self<span class="token punctuation">.</span>brid_widch<span class="token punctuation">,</span> 
                          self<span class="token punctuation">.</span>y_axis1 <span class="token operator">+</span> self<span class="token punctuation">.</span>brid_height<span class="token operator">//</span><span class="token number">2</span> <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">)</span>
            Bullet<span class="token punctuation">.</span>bullet_list1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>blt1<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            blt2<span class="token operator">=</span> Bullet<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x_axis2 <span class="token operator">+</span> self<span class="token punctuation">.</span>brid_widch<span class="token punctuation">,</span> 
                         self<span class="token punctuation">.</span>y_axis2 <span class="token operator">+</span> self<span class="token punctuation">.</span>brid_height<span class="token operator">//</span><span class="token number">2</span> <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">)</span>
            Bullet<span class="token punctuation">.</span>bullet_list2<span class="token punctuation">.</span>append<span class="token punctuation">(</span>blt2<span class="token punctuation">)</span>
        
    
    <span class="token keyword">def</span> <span class="token function">bullet_run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" 子弹运行 """</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Bullet<span class="token punctuation">.</span>bullet_list1<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">pass</span>
        
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            new_bullet_list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            
            <span class="token keyword">for</span> k <span class="token keyword">in</span> Bullet<span class="token punctuation">.</span>bullet_list1<span class="token punctuation">:</span>
                
                <span class="token keyword">try</span><span class="token punctuation">:</span>
                    
                    k<span class="token punctuation">.</span>bullet_img <span class="token operator">=</span> tk<span class="token punctuation">.</span>PhotoImage<span class="token punctuation">(</span><span class="token builtin">file</span> <span class="token operator">=</span> k<span class="token punctuation">.</span>bullet_pic<span class="token punctuation">)</span>
                    self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>create_image<span class="token punctuation">(</span>k<span class="token punctuation">.</span>point_x<span class="token punctuation">,</span> k<span class="token punctuation">.</span>point_y<span class="token punctuation">,</span> anchor<span class="token operator">=</span><span class="token string">'nw'</span><span class="token punctuation">,</span> 
                                             image <span class="token operator">=</span> k<span class="token punctuation">.</span>bullet_img<span class="token punctuation">,</span> tags <span class="token operator">=</span> k<span class="token punctuation">.</span>tag1<span class="token punctuation">)</span>
                <span class="token keyword">except</span><span class="token punctuation">:</span>
                    <span class="token keyword">pass</span>
                
                <span class="token keyword">if</span> k<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
                    self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>k<span class="token punctuation">.</span>tag1<span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    new_bullet_list1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>k<span class="token punctuation">)</span>
                    
            Bullet<span class="token punctuation">.</span>bullet_list1 <span class="token operator">=</span> new_bullet_list1
        
        
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Bullet<span class="token punctuation">.</span>bullet_list2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            new_bullet_list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            
            <span class="token keyword">for</span> v <span class="token keyword">in</span> Bullet<span class="token punctuation">.</span>bullet_list2<span class="token punctuation">:</span>
                
                <span class="token keyword">try</span><span class="token punctuation">:</span>
                    v<span class="token punctuation">.</span>bullet_img <span class="token operator">=</span> tk<span class="token punctuation">.</span>PhotoImage<span class="token punctuation">(</span><span class="token builtin">file</span> <span class="token operator">=</span> v<span class="token punctuation">.</span>bullet_pic<span class="token punctuation">)</span>
                    self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>create_image<span class="token punctuation">(</span>v<span class="token punctuation">.</span>point_x<span class="token punctuation">,</span> v<span class="token punctuation">.</span>point_y<span class="token punctuation">,</span> anchor<span class="token operator">=</span><span class="token string">'nw'</span><span class="token punctuation">,</span> 
                                             image <span class="token operator">=</span> v<span class="token punctuation">.</span>bullet_img<span class="token punctuation">,</span> tags <span class="token operator">=</span> v<span class="token punctuation">.</span>tag2<span class="token punctuation">)</span>
                <span class="token keyword">except</span><span class="token punctuation">:</span>
                    <span class="token keyword">pass</span>
                
                <span class="token keyword">if</span> v<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
                    self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>v<span class="token punctuation">.</span>tag2<span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    new_bullet_list2<span class="token punctuation">.</span>append<span class="token punctuation">(</span>v<span class="token punctuation">)</span>
                    
            Bullet<span class="token punctuation">.</span>bullet_list2 <span class="token operator">=</span> new_bullet_list2
    
    
    
    <span class="token keyword">def</span> <span class="token function">action_after_bullets_hit_objects</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" 子弹接触目标后的动作 """</span>
        
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>map_data<span class="token punctuation">)</span>
        
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Bullet<span class="token punctuation">.</span>bullet_list1<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
              <span class="token keyword">if</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                 <span class="token keyword">for</span> k <span class="token keyword">in</span> Bullet<span class="token punctuation">.</span>bullet_list1<span class="token punctuation">:</span>
                    x  <span class="token operator">=</span> k<span class="token punctuation">.</span>point_x
                    y  <span class="token operator">=</span> k<span class="token punctuation">.</span>point_y
                    a  <span class="token operator">=</span> k<span class="token punctuation">.</span>width
                    b  <span class="token operator">=</span> k<span class="token punctuation">.</span>height
                    x1 <span class="token operator">=</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> a
                    y1 <span class="token operator">=</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
                    f  <span class="token operator">=</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
                    g  <span class="token operator">=</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>
                    
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>f<span class="token punctuation">,</span>g<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                        <span class="token keyword">if</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                            k<span class="token punctuation">.</span>point_x <span class="token operator">=</span> self<span class="token punctuation">.</span>win_w <span class="token operator">+</span> <span class="token number">100</span>
                            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>k<span class="token punctuation">.</span>tag1<span class="token punctuation">)</span>
                        <span class="token keyword">if</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
                            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>k<span class="token punctuation">.</span>tag1<span class="token punctuation">)</span>
                            k<span class="token punctuation">.</span>point_x <span class="token operator">=</span> self<span class="token punctuation">.</span>win_w <span class="token operator">+</span> <span class="token number">100</span>
                            map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
        
        
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Bullet<span class="token punctuation">.</span>bullet_list2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
              <span class="token keyword">if</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                 <span class="token keyword">for</span> k <span class="token keyword">in</span> Bullet<span class="token punctuation">.</span>bullet_list2<span class="token punctuation">:</span>
                    x  <span class="token operator">=</span> k<span class="token punctuation">.</span>point_x
                    y  <span class="token operator">=</span> k<span class="token punctuation">.</span>point_y
                    a  <span class="token operator">=</span> k<span class="token punctuation">.</span>width
                    b  <span class="token operator">=</span> k<span class="token punctuation">.</span>height
                    x1 <span class="token operator">=</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> a
                    y1 <span class="token operator">=</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
                    f  <span class="token operator">=</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
                    g  <span class="token operator">=</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>
                    
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>f<span class="token punctuation">,</span>g<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                        <span class="token keyword">if</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                            k<span class="token punctuation">.</span>point_x <span class="token operator">=</span> self<span class="token punctuation">.</span>win_w <span class="token operator">+</span> <span class="token number">100</span>
                            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>k<span class="token punctuation">.</span>tag2<span class="token punctuation">)</span>
                        <span class="token keyword">if</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
                            k<span class="token punctuation">.</span>point_x <span class="token operator">=</span> self<span class="token punctuation">.</span>win_w <span class="token operator">+</span> <span class="token number">100</span>
                            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>k<span class="token punctuation">.</span>tag2<span class="token punctuation">)</span>
                            map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    
    
    <span class="token keyword">def</span> <span class="token function">action_after_bullets_hit_player</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" 子弹接触目标后的动作 """</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>map_data<span class="token punctuation">)</span>
        
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Bullet<span class="token punctuation">.</span>bullet_list1<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
              <span class="token keyword">if</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                 <span class="token keyword">for</span> k <span class="token keyword">in</span> Bullet<span class="token punctuation">.</span>bullet_list1<span class="token punctuation">:</span>
                    x  <span class="token operator">=</span> k<span class="token punctuation">.</span>point_x
                    y  <span class="token operator">=</span> k<span class="token punctuation">.</span>point_y
                    a  <span class="token operator">=</span> k<span class="token punctuation">.</span>width
                    b  <span class="token operator">=</span> k<span class="token punctuation">.</span>height
                    x1 <span class="token operator">=</span> self<span class="token punctuation">.</span>x_axis2  <span class="token operator">+</span> a
                    y1 <span class="token operator">=</span> self<span class="token punctuation">.</span>y_axis2
                    f  <span class="token operator">=</span> self<span class="token punctuation">.</span>brid_widch
                    g  <span class="token operator">=</span> self<span class="token punctuation">.</span>brid_height
                    
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>f<span class="token punctuation">,</span>g<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                          k<span class="token punctuation">.</span>point_x <span class="token operator">=</span> self<span class="token punctuation">.</span>win_w <span class="token operator">+</span> <span class="token number">100</span>
                          self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>k<span class="token punctuation">.</span>tag1<span class="token punctuation">)</span>
        
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Bullet<span class="token punctuation">.</span>bullet_list2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
              <span class="token keyword">if</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                 <span class="token keyword">for</span> k <span class="token keyword">in</span> Bullet<span class="token punctuation">.</span>bullet_list2<span class="token punctuation">:</span>
                    x  <span class="token operator">=</span> k<span class="token punctuation">.</span>point_x
                    y  <span class="token operator">=</span> k<span class="token punctuation">.</span>point_y
                    a  <span class="token operator">=</span> k<span class="token punctuation">.</span>width
                    b  <span class="token operator">=</span> k<span class="token punctuation">.</span>height
                    x1 <span class="token operator">=</span> self<span class="token punctuation">.</span>x_axis1  <span class="token operator">+</span> a
                    y1 <span class="token operator">=</span> self<span class="token punctuation">.</span>y_axis1
                    f  <span class="token operator">=</span> self<span class="token punctuation">.</span>brid_widch
                    g  <span class="token operator">=</span> self<span class="token punctuation">.</span>brid_height
                    
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>f<span class="token punctuation">,</span>g<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                          k<span class="token punctuation">.</span>point_x <span class="token operator">=</span> self<span class="token punctuation">.</span>win_w <span class="token operator">+</span> <span class="token number">100</span>
                          self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>k<span class="token punctuation">.</span>tag2<span class="token punctuation">)</span>
     
    
    <span class="token keyword">def</span> <span class="token function">control_key</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" 按键控制 """</span>
           
        <span class="token keyword">def</span> <span class="token function">move_flyer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            
            move_key <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
            
            <span class="token comment"># move_key = P1和P2的方向键，共八个键。=0 不可移动； =1 可移动</span>
            
            y1 <span class="token operator">=</span> self<span class="token punctuation">.</span>y_axis1 
            x1 <span class="token operator">=</span> self<span class="token punctuation">.</span>x_axis1 
            y2 <span class="token operator">=</span> self<span class="token punctuation">.</span>y_axis2 
            x2 <span class="token operator">=</span> self<span class="token punctuation">.</span>x_axis2 
            
            s <span class="token operator">=</span> self<span class="token punctuation">.</span>move_space
            bw <span class="token operator">=</span> self<span class="token punctuation">.</span>brid_widch  <span class="token operator">-</span> self<span class="token punctuation">.</span>x_adjust
            bh <span class="token operator">=</span> self<span class="token punctuation">.</span>brid_height <span class="token operator">-</span> self<span class="token punctuation">.</span>x_adjust
            
            cc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>   x1<span class="token punctuation">,</span>  y1<span class="token operator">-</span>s<span class="token punctuation">,</span> bw<span class="token punctuation">,</span>   s<span class="token punctuation">,</span>  x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> bw<span class="token punctuation">,</span> bh<span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">[</span>   x1<span class="token punctuation">,</span> y1<span class="token operator">+</span>bh<span class="token punctuation">,</span> bw<span class="token punctuation">,</span>   s<span class="token punctuation">,</span>  x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> bw<span class="token punctuation">,</span> bh<span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">[</span> x1<span class="token operator">-</span>s<span class="token punctuation">,</span>    y1<span class="token punctuation">,</span>  s<span class="token punctuation">,</span>  bh<span class="token punctuation">,</span>  x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> bw<span class="token punctuation">,</span> bh<span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">[</span>x1<span class="token operator">+</span>bw<span class="token punctuation">,</span>    y1<span class="token punctuation">,</span>  s<span class="token punctuation">,</span>  bh<span class="token punctuation">,</span>  x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> bw<span class="token punctuation">,</span> bh<span class="token punctuation">]</span><span class="token punctuation">,</span>
                  
                  <span class="token punctuation">[</span>    x2<span class="token punctuation">,</span>  y2<span class="token operator">-</span>s<span class="token punctuation">,</span> bw<span class="token punctuation">,</span>  s<span class="token punctuation">,</span>  x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> bw<span class="token punctuation">,</span> bh<span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">[</span>    x2<span class="token punctuation">,</span> y2<span class="token operator">+</span>bh<span class="token punctuation">,</span> bw<span class="token punctuation">,</span>  s<span class="token punctuation">,</span>  x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> bw<span class="token punctuation">,</span> bh<span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">[</span>  x2<span class="token operator">-</span>s<span class="token punctuation">,</span>    y2<span class="token punctuation">,</span>  s<span class="token punctuation">,</span> bh<span class="token punctuation">,</span>  x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> bw<span class="token punctuation">,</span> bh<span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">[</span> x2<span class="token operator">+</span>bw<span class="token punctuation">,</span>    y2<span class="token punctuation">,</span>  s<span class="token punctuation">,</span> bh<span class="token punctuation">,</span>  x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> bw<span class="token punctuation">,</span> bh<span class="token punctuation">]</span><span class="token punctuation">]</span>
            

            collide <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">:</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span>cc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                                                cc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token number">1</span> <span class="token punctuation">:</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span>cc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                                                cc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token number">2</span> <span class="token punctuation">:</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span>cc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                                                cc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token number">3</span> <span class="token punctuation">:</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span>cc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                                                cc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                       
                        <span class="token number">4</span> <span class="token punctuation">:</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span>cc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                                                cc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token number">5</span> <span class="token punctuation">:</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span>cc<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                                                cc<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token number">6</span> <span class="token punctuation">:</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span>cc<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                                                cc<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token number">7</span> <span class="token punctuation">:</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span>cc<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                                                cc<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cc<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
            
            coll <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>   <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>  <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>  <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>  <span class="token number">3</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
                       <span class="token number">4</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>  <span class="token number">5</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>  <span class="token number">6</span> <span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>  <span class="token number">7</span> <span class="token punctuation">:</span> <span class="token boolean">False</span>  <span class="token punctuation">}</span>
            
            
            <span class="token keyword">def</span> <span class="token function">action_after_touch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token triple-quoted-string string">""" 小鸟接触目标对象后的动作 """</span>
                
                <span class="token keyword">def</span> <span class="token function">get_attribute_in_map_data</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token triple-quoted-string string">""" 获取小鸟接触目标对象的属性 """</span>
                    <span class="token keyword">if</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                      <span class="token keyword">if</span> self<span class="token punctuation">.</span>sprite_collide<span class="token punctuation">(</span> cc<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cc<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                              cc<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cc<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                    map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                    map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                          <span class="token keyword">return</span> map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span>
                
                
                n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>map_data<span class="token punctuation">)</span>
                <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                        <span class="token keyword">if</span> get_attribute_in_map_data<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                           coll<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
                        <span class="token keyword">elif</span> get_attribute_in_map_data<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
                            map_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
            
            
            <span class="token keyword">def</span> <span class="token function">limit_bird_move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token triple-quoted-string string">""" 1P，2P限制移动 """</span>
                
                <span class="token keyword">def</span> <span class="token function">contrast</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token triple-quoted-string string">""" 对比a，b两个值的大小。c=0时代表a大于b，否则a大于等于b """</span>
                    <span class="token keyword">if</span> c <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                        <span class="token keyword">if</span> a <span class="token operator">&gt;</span> b<span class="token punctuation">:</span>
                            <span class="token keyword">return</span> <span class="token boolean">True</span>
                        <span class="token keyword">else</span><span class="token punctuation">:</span>
                            <span class="token keyword">return</span> <span class="token boolean">False</span>
                    <span class="token keyword">else</span><span class="token punctuation">:</span>
                        <span class="token keyword">if</span> a <span class="token operator">&gt;=</span> b<span class="token punctuation">:</span>
                            <span class="token keyword">return</span> <span class="token boolean">True</span>
                        <span class="token keyword">else</span><span class="token punctuation">:</span>
                            <span class="token keyword">return</span> <span class="token boolean">False</span>
                
                
                w <span class="token operator">=</span> self<span class="token punctuation">.</span>win_w
                h <span class="token operator">=</span> self<span class="token punctuation">.</span>win_h
                
                con <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> y1<span class="token operator">-</span>s<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>y1<span class="token operator">+</span>bh<span class="token operator">+</span>s<span class="token punctuation">,</span> h<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> x1<span class="token operator">-</span>s<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>x1<span class="token operator">+</span>bw<span class="token operator">+</span>s<span class="token punctuation">,</span> w<span class="token punctuation">]</span><span class="token punctuation">,</span>
                       <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> y2<span class="token operator">-</span>s<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>y2<span class="token operator">+</span>bh<span class="token operator">+</span>s<span class="token punctuation">,</span> h<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> x2<span class="token operator">-</span>s<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>x2<span class="token operator">+</span>bw<span class="token operator">+</span>s<span class="token punctuation">,</span> w<span class="token punctuation">]</span><span class="token punctuation">]</span>
                
                
                <span class="token keyword">def</span> <span class="token function">move_fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                        <span class="token keyword">if</span> contrast<span class="token punctuation">(</span>con<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>con<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                            move_key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
                        <span class="token keyword">elif</span> collide<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                            move_key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
                        <span class="token keyword">elif</span> coll<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                            move_key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
                        <span class="token keyword">else</span><span class="token punctuation">:</span>
                           move_key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
                           
                    
                move_fly<span class="token punctuation">(</span><span class="token punctuation">)</span>
                
            
            <span class="token keyword">def</span> <span class="token function">only_cross_fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token triple-quoted-string string">""" 仅十字路线移动 """</span>
                dic <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>   <span class="token number">0</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                          <span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                          <span class="token number">2</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                          <span class="token number">3</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                          
                          <span class="token number">4</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                          <span class="token number">5</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                          <span class="token number">6</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                          <span class="token number">7</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
                
                <span class="token keyword">def</span> <span class="token function">move_dic</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    move_key<span class="token punctuation">[</span>dic<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
                    move_key<span class="token punctuation">[</span>dic<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
                    move_key<span class="token punctuation">[</span>dic<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
                    
                <span class="token keyword">if</span>   self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>self<span class="token punctuation">.</span>key_set<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span> 
                    move_dic<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>self<span class="token punctuation">.</span>key_set<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span> 
                    move_dic<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>self<span class="token punctuation">.</span>key_set<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span> 
                    move_dic<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>self<span class="token punctuation">.</span>key_set<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span> 
                    move_dic<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
                
                <span class="token keyword">if</span>   self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>self<span class="token punctuation">.</span>key_set<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span> 
                    move_dic<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>self<span class="token punctuation">.</span>key_set<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span> 
                    move_dic<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>self<span class="token punctuation">.</span>key_set<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span> 
                    move_dic<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>self<span class="token punctuation">.</span>key_set<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span> 
                    move_dic<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
                    
            
            <span class="token keyword">def</span> <span class="token function">move_bird_final</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                
                <span class="token keyword">def</span> <span class="token function">move_bird</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>up<span class="token punctuation">,</span>down<span class="token punctuation">,</span>left<span class="token punctuation">,</span>right<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token triple-quoted-string string">""" Bird1 &amp; Bird2 移动 """</span>
                    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                        self<span class="token punctuation">.</span>y_axis1 <span class="token operator">-=</span> up
                        self<span class="token punctuation">.</span>y_axis1 <span class="token operator">+=</span> down
                        self<span class="token punctuation">.</span>x_axis1 <span class="token operator">-=</span> left
                        self<span class="token punctuation">.</span>x_axis1 <span class="token operator">+=</span> right
                    <span class="token keyword">else</span><span class="token punctuation">:</span>
                        <span class="token keyword">if</span> self<span class="token punctuation">.</span>coupe_play <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                            self<span class="token punctuation">.</span>y_axis2 <span class="token operator">-=</span> up
                            self<span class="token punctuation">.</span>y_axis2 <span class="token operator">+=</span> down
                            self<span class="token punctuation">.</span>x_axis2 <span class="token operator">-=</span> left
                            self<span class="token punctuation">.</span>x_axis2 <span class="token operator">+=</span> right
                
                <span class="token keyword">for</span> n <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                  <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    x <span class="token operator">=</span> self<span class="token punctuation">.</span>move_space
                    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                        a <span class="token operator">=</span> move_key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                        b <span class="token operator">=</span> move_key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
                        c <span class="token operator">=</span> move_key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
                        d <span class="token operator">=</span> move_key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
                    <span class="token keyword">else</span><span class="token punctuation">:</span>
                        a <span class="token operator">=</span> move_key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>
                        b <span class="token operator">=</span> move_key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span>
                        c <span class="token operator">=</span> move_key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span>
                        d <span class="token operator">=</span> move_key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span>
                    
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>self<span class="token punctuation">.</span>key_set<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                        move_bird<span class="token punctuation">(</span>n<span class="token punctuation">,</span>x<span class="token operator">*</span>a<span class="token punctuation">,</span>x<span class="token operator">*</span>b<span class="token punctuation">,</span>x<span class="token operator">*</span>c<span class="token punctuation">,</span>x<span class="token operator">*</span>d<span class="token punctuation">)</span>
                        
            
            action_after_touch<span class="token punctuation">(</span><span class="token punctuation">)</span>
            limit_bird_move<span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>cross_fly <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                only_cross_fly<span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            move_bird_final<span class="token punctuation">(</span><span class="token punctuation">)</span>
             
        move_flyer<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>aloop <span class="token operator">=</span> self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>after<span class="token punctuation">(</span>self<span class="token punctuation">.</span>fly_FPS<span class="token punctuation">,</span> self<span class="token punctuation">.</span>control_key<span class="token punctuation">)</span>

    
    <span class="token keyword">def</span> <span class="token function">set_bindings</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        
        <span class="token keyword">def</span> <span class="token function">pressed_key</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>event<span class="token punctuation">.</span>keysym<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">def</span> <span class="token function">released_key</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>event<span class="token punctuation">.</span>keysym<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
        
        <span class="token keyword">for</span> x <span class="token keyword">in</span> self<span class="token punctuation">.</span>key_set<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;KeyPress-"</span>   <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&gt;"</span><span class="token punctuation">,</span>  pressed_key <span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;KeyRelease-"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&gt;"</span><span class="token punctuation">,</span>  released_key<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
            
    
    <span class="token keyword">def</span> <span class="token function">bullet_loop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>self<span class="token punctuation">.</span>key_set<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>create_bullet_list<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
            
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>pressed_dict<span class="token punctuation">[</span>self<span class="token punctuation">.</span>key_set<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>create_bullet_list<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
            
        self<span class="token punctuation">.</span>bloop <span class="token operator">=</span> self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>after<span class="token punctuation">(</span>self<span class="token punctuation">.</span>bullet_FPS<span class="token punctuation">,</span> self<span class="token punctuation">.</span>bullet_loop<span class="token punctuation">)</span>
        
        
    <span class="token keyword">def</span> <span class="token function">game_loop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" 游戏循环刷新 """</span>
        
        self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token string">'all'</span><span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>draw_in_win<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>bird_gif<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>draw_all_object<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>bullet_run<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>action_after_bullets_hit_objects<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>action_after_bullets_hit_player<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>gloop <span class="token operator">=</span> self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>after<span class="token punctuation">(</span>self<span class="token punctuation">.</span>FPS<span class="token punctuation">,</span> self<span class="token punctuation">.</span>game_loop<span class="token punctuation">)</span>
        
        
    <span class="token keyword">def</span> <span class="token function">draw_in_win</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" 显示小鸟和子弹的线框 """</span>
        <span class="token keyword">def</span> <span class="token function">draw_brid_range</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>color<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">""" 显示小鸟的外框 """</span>
            <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                a <span class="token operator">=</span> self<span class="token punctuation">.</span>x_axis1 
                b <span class="token operator">=</span> self<span class="token punctuation">.</span>y_axis1 
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                a <span class="token operator">=</span> self<span class="token punctuation">.</span>x_axis2
                b <span class="token operator">=</span> self<span class="token punctuation">.</span>y_axis2
        
            w <span class="token operator">=</span> self<span class="token punctuation">.</span>brid_widch  <span class="token operator">-</span> self<span class="token punctuation">.</span>x_adjust
            h <span class="token operator">=</span> self<span class="token punctuation">.</span>brid_height <span class="token operator">-</span> self<span class="token punctuation">.</span>y_adjust
            c <span class="token operator">=</span> a <span class="token operator">+</span> w
            d <span class="token operator">=</span> b <span class="token operator">+</span> h
        
            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>create_rectangle<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>fill<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span>outline <span class="token operator">=</span> color<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>create_line<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>fill <span class="token operator">=</span> color<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>create_line<span class="token punctuation">(</span>c<span class="token punctuation">,</span>b<span class="token punctuation">,</span>a<span class="token punctuation">,</span>d<span class="token punctuation">,</span>fill <span class="token operator">=</span> color<span class="token punctuation">)</span>
        
        
        <span class="token keyword">def</span> <span class="token function">draw_bullet_range</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">""" 显示子弹的外框 """</span>
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Bullet<span class="token punctuation">.</span>bullet_list1<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">for</span> k <span class="token keyword">in</span> Bullet<span class="token punctuation">.</span>bullet_list1<span class="token punctuation">:</span>
                    a <span class="token operator">=</span> k<span class="token punctuation">.</span>point_x
                    b <span class="token operator">=</span> k<span class="token punctuation">.</span>point_y
                    w <span class="token operator">=</span> k<span class="token punctuation">.</span>width
                    h <span class="token operator">=</span> k<span class="token punctuation">.</span>height
                    self<span class="token punctuation">.</span>draw_block_range<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">,</span>m<span class="token punctuation">)</span>
                
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Bullet<span class="token punctuation">.</span>bullet_list2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">for</span> k <span class="token keyword">in</span> Bullet<span class="token punctuation">.</span>bullet_list2<span class="token punctuation">:</span>
                    a <span class="token operator">=</span> k<span class="token punctuation">.</span>point_x
                    b <span class="token operator">=</span> k<span class="token punctuation">.</span>point_y
                    w <span class="token operator">=</span> k<span class="token punctuation">.</span>width
                    h <span class="token operator">=</span> k<span class="token punctuation">.</span>height
                    self<span class="token punctuation">.</span>draw_block_range<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">,</span>n<span class="token punctuation">)</span>
        
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>show_lines <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            draw_brid_range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'red'</span><span class="token punctuation">)</span>
            draw_brid_range<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'blue'</span><span class="token punctuation">)</span>
            draw_bullet_range<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>

        
    <span class="token keyword">def</span> <span class="token function">run_game</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""" 开启游戏 """</span>
        <span class="token keyword">def</span> <span class="token function">window_center</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span>w_size<span class="token punctuation">,</span>h_size<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">""" 窗口居中 """</span>
            screenWidth  <span class="token operator">=</span>  window<span class="token punctuation">.</span>winfo_screenwidth<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 获取显示区域的宽度</span>
            screenHeight <span class="token operator">=</span> window<span class="token punctuation">.</span>winfo_screenheight<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 获取显示区域的高度</span>
            left <span class="token operator">=</span>  <span class="token punctuation">(</span>screenWidth <span class="token operator">-</span> w_size<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
            top  <span class="token operator">=</span> <span class="token punctuation">(</span>screenHeight <span class="token operator">-</span> h_size<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
            window<span class="token punctuation">.</span>geometry<span class="token punctuation">(</span><span class="token string">"%dx%d+%d+%d"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>w_size<span class="token punctuation">,</span> h_size<span class="token punctuation">,</span> left<span class="token punctuation">,</span> top<span class="token punctuation">)</span><span class="token punctuation">)</span>
            
            
        <span class="token keyword">def</span> <span class="token function">create_canvas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">""" 创建画布 """</span>
            self<span class="token punctuation">.</span>canvas <span class="token operator">=</span> tk<span class="token punctuation">.</span>Canvas<span class="token punctuation">(</span>self<span class="token punctuation">.</span>window<span class="token punctuation">,</span>    bg <span class="token operator">=</span> self<span class="token punctuation">.</span>canvas_bg<span class="token punctuation">,</span> 
                                       height <span class="token operator">=</span> self<span class="token punctuation">.</span>win_h<span class="token punctuation">,</span>
                                        width <span class="token operator">=</span> self<span class="token punctuation">.</span>win_w<span class="token punctuation">,</span>
                           highlightthickness <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        
            self<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>place<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
        
        
        self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>focus_force<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 主窗口焦点</span>
        self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>title<span class="token punctuation">(</span>self<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
        window_center<span class="token punctuation">(</span>self<span class="token punctuation">.</span>window<span class="token punctuation">,</span>self<span class="token punctuation">.</span>win_w<span class="token punctuation">,</span>self<span class="token punctuation">.</span>win_h<span class="token punctuation">)</span>
        create_canvas<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>set_bindings<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>game_loop<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>control_key<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>bullet_loop<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token keyword">def</span> <span class="token function">close_w</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>after_cancel<span class="token punctuation">(</span>self<span class="token punctuation">.</span>gloop<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>after_cancel<span class="token punctuation">(</span>self<span class="token punctuation">.</span>aloop<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>after_cancel<span class="token punctuation">(</span>self<span class="token punctuation">.</span>bloop<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>destroy<span class="token punctuation">(</span><span class="token punctuation">)</span>
            
        self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>protocol<span class="token punctuation">(</span><span class="token string">'WM_DELETE_WINDOW'</span><span class="token punctuation">,</span> close_w<span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>mainloop<span class="token punctuation">(</span><span class="token punctuation">)</span>
        

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    
    Flying_bird<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
</div>


