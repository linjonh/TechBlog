---
layout: post
title: 操作系统-实验一-进程控制
date: 2022-04-14 21:56:03 +0800
categories: [操作系统]
tags: ['无标签']
image:
    path: https://img-blog.csdnimg.cn/a0e22798982a424ebd9ab69092cd77e5.png?x-oss-process&#61;image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAWXJhbmkgLSDkvp3nhLY&#61;,size_20,color_FFFFFF,t_70,g_se,x_16
    alt: 操作系统-实验一-进程控制
artid: 124182582
render_with_liquid: false
---
<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     操作系统 | 实验一 进程控制
    </h1>
   </div>
   <div class="ai-article-tag" id="ai-article-tag">
    <div class="ai-article-tag-box">
     <p class="ai-article-tag-item-active">
      <img alt="" class="item-target" src="https://img-home.csdnimg.cn/images/20240715101418.png"/>
     </p>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"C语言"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"C语言"}}' href="https://so.csdn.net/so/search/s.do?q=C%E8%AF%AD%E8%A8%80&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       C语言
      </span>
     </a>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"进程"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"进程"}}' href="https://so.csdn.net/so/search/s.do?q=%E8%BF%9B%E7%A8%8B&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       进程
      </span>
     </a>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"并发执行"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"并发执行"}}' href="https://so.csdn.net/so/search/s.do?q=%E5%B9%B6%E5%8F%91%E6%89%A7%E8%A1%8C&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       并发执行
      </span>
     </a>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"进程控制"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"进程控制"}}' href="https://so.csdn.net/so/search/s.do?q=%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       进程控制
      </span>
     </a>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"内存模拟"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"内存模拟"}}' href="https://so.csdn.net/so/search/s.do?q=%E5%86%85%E5%AD%98%E6%A8%A1%E6%8B%9F&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       内存模拟
      </span>
     </a>
    </div>
    <span class="ai-article-tag-text">
     关键词由CSDN通过智能技术生成
    </span>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night-eighties" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#_1" rel="nofollow">
        一、实验目的
       </a>
      </li>
      <li>
       <a href="#_5" rel="nofollow">
        二、实验内容
       </a>
      </li>
      <li>
       <a href="#_7" rel="nofollow">
        三、实验步骤
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#31__8" rel="nofollow">
          3.1 数据结构
         </a>
        </li>
        <li>
         <a href="#32__11" rel="nofollow">
          3.2 程序流程图
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#_18" rel="nofollow">
        四、实验代码
       </a>
      </li>
      <li>
       <a href="#_289" rel="nofollow">
        五、实验结果
       </a>
      </li>
      <li>
       <a href="#_308" rel="nofollow">
        六、实验体会总结
       </a>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="_1">
     </a>
     一、实验目的
    </h2>
    <p>
     1．理解进程的概念，明确进程和程序的区别
     <br/>
     2．理解并发执行的实质。
     <br/>
     3．掌握进程的创建、睡眠、撤销等进程控制方法。
    </p>
    <h2>
     <a id="_5">
     </a>
     二、实验内容
    </h2>
    <p>
     用C语言编写程序，模拟实现创建新的进程：查看运行进程；换出某个进程：杀死运行进程等功能。
    </p>
    <h2>
     <a id="_7">
     </a>
     三、实验步骤
    </h2>
    <h3>
     <a id="31__8">
     </a>
     3.1 数据结构
    </h3>
    <p>
     1、首先该系统用到了数组模拟内存、运用了线性表。
     <br/>
     2、使用了自定义结构体，并且使用结构体类型变量。
    </p>
    <h3>
     <a id="32__11">
     </a>
     3.2 程序流程图
    </h3>
    <p>
     <strong>
      系统概述：
     </strong>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f08c1c1c891f29aa4768ff23968d1801.png"/>
    </p>
    <p>
     <strong>
      系统运行流程图：
     </strong>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/df4d2df565620f3ee44c0a46ed9db5e3.png"/>
    </p>
    <h2>
     <a id="_18">
     </a>
     四、实验代码
    </h2>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h&gt;</span></span>

<span class="token comment">/**
* 	@Author: Yrani 
* 	@Date: 2022-04-04 21:00:17
* 	@LastEditTime: 2022-04-05 19:40:30  
* 	@keywords: 进程、创建、阻塞、唤醒 
**/</span>


<span class="token keyword">struct</span> <span class="token class-name">process</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> pid<span class="token punctuation">;</span>  <span class="token comment">//进程pid </span>
	<span class="token keyword">int</span> priority<span class="token punctuation">;</span> <span class="token comment">//优先级 </span>
	<span class="token keyword">int</span> size<span class="token punctuation">;</span>  <span class="token comment">//大小 </span>
	<span class="token keyword">int</span> status<span class="token punctuation">;</span><span class="token comment">//标识进程状态,0-不在内存,1-在内存,2-阻塞</span>
	<span class="token keyword">char</span> info<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">process</span> memory<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//内存 </span>

<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 		<span class="token comment">//进程数量 </span>
<span class="token keyword">int</span> block <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 		<span class="token comment">// 阻塞 </span>
<span class="token keyword">int</span> pid <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 		<span class="token comment">//进程的pid </span>
<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  		<span class="token comment">//进程的状态 </span>

<span class="token keyword">void</span> <span class="token function">Create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;=</span> <span class="token number">20</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"内存已满,请先唤醒或杀死进程\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> 
	<span class="token keyword">else</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//定位,找到可以还未创建的进程</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment">//break</span>
			<span class="token punctuation">}</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"请输入新进程pid：\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">scanf</span> <span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">==</span> memory<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>pid<span class="token punctuation">)</span> 
				<span class="token punctuation">{<!-- --></span>
					<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"该进程已存在\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">return</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"请输入新进程优先级\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">scanf</span> <span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>priority<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"请输入新进程大小\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">scanf</span> <span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"请输入新进程内容\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">scanf</span> <span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>info<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">//创建进程,使标记位为1</span>
			memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
			count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>	
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//输出运行进程的各个属性值</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"pid = %d\t\t"</span><span class="token punctuation">,</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"priority = %d\t\t"</span><span class="token punctuation">,</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>priority<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"size = %d\t"</span><span class="token punctuation">,</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"status = %d\t"</span><span class="token punctuation">,</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"info = %s\t\t"</span><span class="token punctuation">,</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"当前没有运行进程\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Block</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>count<span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"当前没有运行进程\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"输人要阻塞进程的pid值\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">scanf</span> <span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//定位,找到所要阻塞的进程,根据其状态做相应处理</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid<span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> 
			<span class="token punctuation">{<!-- --></span>
				memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
				block<span class="token operator">++</span><span class="token punctuation">;</span>
				<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"已经成功阻塞该进程\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"要阻塞的进程不存在\"n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> 
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"该进程已被阻塞\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//找不到,则说明进程不存在</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"要阻塞的进程不存在\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Kill</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>count<span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"当前没有运行进程\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"输入要杀死进程的pid值：\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">scanf</span> <span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//定位,找到所要杀死的进程,根据其状态做相应处理</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid<span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> 
			<span class="token punctuation">{<!-- --></span>
				memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
				count<span class="token operator">--</span><span class="token punctuation">;</span>
				<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"已成功杀死该进程\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> 
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"要杀死的进程不存在\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"要杀死的进程已被阻塞\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//找不到,则说明进程不存在</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"要杀死的进程不存在\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Notify</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>count<span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"当前没有运行进程\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>block<span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"当前没有阻塞进程\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"输人要唤醒的进程的pid：\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">scanf</span> <span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//定位,找到所要唤醒的进程,根据其状态做相应处理</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid<span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> 
			<span class="token punctuation">{<!-- --></span>
				memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
				block <span class="token operator">--</span><span class="token punctuation">;</span>
				<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"已经成功唤醒进程\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"要唤醒的进程不存在\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"要唤醒的进程已被阻塞\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> 
		<span class="token comment">//找不到,则说明进程不存在</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"要唤醒的进程不存在\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span> 
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"输入有误！！！请重新输入功能编号\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> num<span class="token punctuation">;</span>
	<span class="token comment">//一开始所有进程都不在内存中</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		memory<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"\n***********************************************************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"*进程演示系统 	 @Author:Yrani*\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"***********************************************************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"*1.创建新的进程 2．查看运行进程*\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"*3.阻塞某个进程 4．杀死运行进程*\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"*5.唤醒某个进程 6．退出系统*\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"************************************************************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"请选择 (1～6)\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">scanf</span> <span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">switch</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> 
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
					<span class="token function">Create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建进程 </span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
					<span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//展示结果信息 </span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
					<span class="token function">Block</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//阻塞某个进程 </span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
					<span class="token function">Kill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//杀死进程 </span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span>
					<span class="token function">Notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//唤醒 </span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span>
					<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//退出 </span>
				<span class="token keyword">default</span><span class="token operator">:</span>
					<span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//错误提示 </span>
			<span class="token punctuation">}</span>
			flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//恢复标记</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_289">
     </a>
     五、实验结果
    </h2>
    <p>
     功能展示：
     <br/>
     <strong>
      1、创建进程
     </strong>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1ae4a3811096fcc4b1f9f7f0785ac3ae.png">
      <br/>
      <strong>
       2、查看运行的进程
      </strong>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ff6c4f5b01009284710ebd2eb2e24ff2.png">
       <br/>
       <strong>
        3、阻塞某个进程
       </strong>
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/35a54b4abf3279901767a084f8b45601.png">
        <br/>
        <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/371364cdd41f912ad7e8bbc992b53b84.png">
         <br/>
         <strong>
          4、杀死某个进程
         </strong>
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/2595474480f7b94781b929ba71d60811.png">
          <br/>
          <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/2bd752894a89aa7528ba173cc738faf7.png">
           <br/>
           <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/7adba5b71d684fbefe50273b429e3981.png">
            <br/>
            <strong>
             5、唤醒某个进程
            </strong>
            <br/>
            <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/c4209c497abf31ba8384919e605e2a87.png"/>
            <br/>
            <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/610435be071a25ec6eb418fd3e793221.png"/>
            <br/>
            <strong>
             6、输入错误的数字
            </strong>
            <br/>
            <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/48bd9203cb81345f0aff6463c234ab74.png"/>
            <br/>
            <strong>
             7、退出
            </strong>
            <br/>
            <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/37b782614531364f6558958f8ad7bb57.png"/>
           </img>
          </img>
         </img>
        </img>
       </img>
      </img>
     </img>
    </p>
    <h2>
     <a id="_308">
     </a>
     六、实验体会总结
    </h2>
    <p>
     体会：
    </p>
    <ul>
     <li>
      通过此次实验加深了我对进程概念的理解，以及明确了进程和程序之间的区别是什么。1)程序是永远都存在的，而进程是暂时的，是程序在数据集上的一次执行，有创建有撤销，存在是暂时的；2)程序是静态的观念，进程是动态的观念；3)进程具有并发性，而程序没有；
     </li>
     <li>
      并发执行的实质就是多个进程在使用同一个cpu，每个进程都独占cpu一会，然后让出cpu资源，供其他进程执行，这都是OS来进行管理和调度的。
     </li>
     <li>
      此次实验我学会了使用线性表去模拟内存的结构从而进行进程的创建。
     </li>
     <li>
      理解并掌握进程的创建、阻塞、唤醒、杀死等操作。
     </li>
    </ul>
    <p>
     总结：
    </p>
    <ul>
     <li>
      代码有中有多的坑点，需要仔细去思考和斟酌，本次实验中也遇到了不少困难，查阅了不少资料，对于c/c++的学习还需要多下功夫，多花时间。
     </li>
     <li>
      将理论付诸于实践更有助于我们对理论知识的理解与掌握，加深了我们对进程控制的进一步了解。
     </li>
     <li>
      这些常用的数据结构需要熟练掌握，才能在以后实际的运用场景中游刃有余，提升效率。
     </li>
     <li>
      纸上得来终觉浅，绝知此事要躬行。
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
</div>


