---
layout: post
title: "前端传递的String类型的时间字符串,后台如何使用LocalDateTime类型接收"
date: 2024-12-12 23:49:08 +0800
description: "前端传递的String类型的时间字符串，后台如何使用LocalDateTime类型接收？前端传递给后"
keywords: "map用string接收localdatetime"
categories: ['未分类']
tags: ['Spring', 'Java']
artid: "112829023"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=112829023
  alt: "前端传递的String类型的时间字符串,后台如何使用LocalDateTime类型接收"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     前端传递的String类型的时间字符串，后台如何使用LocalDateTime类型接收？
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="StringLocalDateTime_0">
     </a>
     前端传递的String类型的时间字符串，后台如何使用LocalDateTime类型接收？
    </h2>
    <p>
     前端传递给后台的数据都是字符串类型的，而将每个变量的类型转为Java类型实际上是后台的消息转换器所转换的，而最近碰到的一个需求是希望能将前台接收的时间字符串转为
     <code>
      LocalDateTime
     </code>
     类型，如果使用spring框架默认的消息转换器很容易出现转换失败这种情况，而消息转换器也是根据相对应的规则对各种类型进行转换的，那么我们能不能设置定好字符串时间转为
     <code>
      LocalDateTime
     </code>
     类型的规则，然后让框架按照我们的规则转换呢？答案肯定是可以的，如下：
    </p>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"更新时间"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>pattern <span class="token operator">=</span> <span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> LocalDateTime updateTime<span class="token punctuation">;</span>
</code></pre>
    <p>
     在属性上使用
     <code>
      @JsonFormat
     </code>
     注解进行标注，然后使用
     <code>
      "yyyy-MM-dd HH:mm:ss"
     </code>
     这个规则对前台传递过来的时间字符串进行转换即可。注意：
     <code>
      "yyyy-MM-dd HH:mm:ss"
     </code>
     能匹配的模式如下：
    </p>
    <pre><code class="prism language-java">规则：yyyy<span class="token operator">-</span>MM<span class="token operator">-</span>dd HH<span class="token operator">:</span>mm<span class="token operator">:</span>ss
<span class="token number">2000</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">11</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span> 	可以匹配，转换成功
<span class="token number">2000</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">11</span> <span class="token number">0</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span> 		匹配失败，转换失败
<span class="token number">2000</span><span class="token operator">/</span><span class="token number">01</span><span class="token operator">/</span><span class="token number">11</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span> 	匹配失败，转换失败
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34343330393138312f:61727469636c652f64657461696c732f313132383239303233" class_="artid" style="display:none">
 </p>
</div>
