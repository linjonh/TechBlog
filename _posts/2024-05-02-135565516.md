---
layout: post
title: "安全测试通用用例"
date: 2024-05-02 09:31:50 +0800
description: "对系统的URL进行漏洞扫描，扫描系统开放的端口、服务和存在的漏洞前置条件步骤结果我们公司用绿盟扫描器"
keywords: "安全测试用例设计"
categories: ["未分类"]
tags: ["网络", "服务器", "安全"]
artid: "135565516"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=135565516
  alt: "安全测试通用用例"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     安全测试——通用用例
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h3 id="IxRwH">
     阅读需知
    </h3>
    <p id="ue89aae34">
     这是总结的是一些通用安全测试用例，但安全测试远不如此，这些用例只能算入门！！
    </p>
    <h3 id="FZvFA">
     漏洞扫描
    </h3>
    <p id="ub0d4eb0d">
     <strong>
      定义：
     </strong>
     对系统的URL进行漏洞扫描，扫描系统开放的端口、服务和存在的漏洞
    </p>
    <table id="gVWLe">
     <tbody>
      <tr>
       <td>
        <p id="uabf8aae2">
         前置条件
        </p>
       </td>
       <td>
        <p id="u5df57aad">
         步骤
        </p>
       </td>
       <td>
        <p id="ua0955b20">
         结果
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="uf148d4a5">
         我们公司用绿盟扫描器
        </p>
       </td>
       <td>
        <p id="u50088346">
         登录扫描器进行WEB扫描
        </p>
       </td>
       <td>
        <p id="u0d8da2ff">
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u85cc8cd3">
        </p>
       </td>
       <td>
        <p id="uf4d85fda">
         在漏洞扫描中选择WEB扫描，输入待扫描的URL地址
        </p>
       </td>
       <td>
        <p id="u127fb24f">
         查看扫描报告是否有漏洞，其中高风险和中风险漏洞需要修复
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u9301d3e7">
        </p>
       </td>
       <td>
        <p id="ud671dd0a">
         查看扫描报告是否有漏洞，其中高风险和中风险漏洞需要修复
        </p>
       </td>
       <td>
        <p id="u332d1943">
         1、确认高风险和中风险漏洞都修复完成
        </p>
        <p id="u207d6d64">
         2、修复风险后需注意不要影响系统原先功能的正常性，建议做影响范围的功能回归测试，保证系统正常
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u2783031e">
         定期检查
        </p>
       </td>
       <td>
        <p id="ub61a1337">
         同一个URL，3个月内扫描一次
        </p>
       </td>
       <td>
        <p id="u861cb4b4">
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h3 id="TIiLL">
     明文传输
    </h3>
    <p id="u5361279d">
     <strong>
      定义：
     </strong>
     对系统传输过程中的敏感内容是明文&amp;密文进行检查
    </p>
    <p id="uc907c796">
     <strong>
      系统传输敏感信息场景：
     </strong>
     登录、注册、支付、修改密码
    </p>
    <p id="u6fc8c719">
     <strong>
      系统敏感信息：
     </strong>
     登录密码、支付金额、注册的手机号码、身份证、邮箱等信息
    </p>
    <table id="noFmR">
     <tbody>
      <tr>
       <td>
        <p id="ua60df2b9">
         步骤
        </p>
       </td>
       <td>
        <p id="u81645481">
         结果
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="ub53390fa">
         对传输敏感信息场景进行抓包
        </p>
       </td>
       <td>
        <p id="u4a50476f">
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u47e1d64d">
         分析其数据包中的相关敏感字段是否为明文
        </p>
       </td>
       <td>
        <p id="u96368f0b">
         分析其数据包中的相关敏感字段是否为明文
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h3 id="BSCFb">
     越权访问
    </h3>
    <p id="u4ecc6b43">
     <strong>
      定义：
     </strong>
     测试能否通过URL地址获取管理员及其他用户信息
    </p>
    <p id="u50932db0">
     1、出现admin、user、system、pwd等敏感目录的URL地址
    </p>
    <p id="u468902b5">
     如：https://walmon-competition.gz.cvte.cn/competition_api/admin/v1/user/role_user_unit
    </p>
    <p id="u0e498acc">
     2、
     <strong>
      垂直越权场景
     </strong>
     ：当系统存在多个不同权限的管理员时，低权限的管理员不能访问或操作到高权限的管理的资源
    </p>
    <p id="uecb5b03e">
     3、
     <strong>
      水平越权场景：
     </strong>
     当系统存在多个需要登录用户，A用户不能访问B用户的资源
    </p>
    <table id="Y0xOL">
     <tbody>
      <tr>
       <td>
        <p id="ue54907be">
         步骤
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u3ef98059">
         检查URL是否存在admin/user/system/pwd等敏感目录
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u86671318">
         垂直越权：
        </p>
        <p id="u038eef1e">
         1.使用高权限的管理员登录后，访问一些他独有的资源，或者进行一些特权操作，记录下接口信息
        </p>
        <p id="u3f9ee1d9">
         2.退出登录后，使用低权限用户登录，重新执行步骤1记录下来的接口，查看是否能够操作成功
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="ufcd49047">
         水平越权：
        </p>
        <p id="u7e6e6c1a">
         1. 使用A用户登录后，打开A用户所独有的个人资源的URL或者进行一些修改操作，记录下接口信息
        </p>
        <p id="ue803569a">
         2. 退出登录后，使用B用户登录，重新执行步骤1记录下的接口，看是否能够访问或者操作成功。
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h3 id="TYjn1">
     反射性跨站脚本
    </h3>
    <p id="uf82ce116">
     <strong>
      定义：
     </strong>
     测试系统是否对输入进行过滤或转移，规避用户通过跨站脚本攻击造成风险
    </p>
    <p id="u1e4012da">
     跨站脚本攻击场景：搜索框、输入框、留言、上传文件
    </p>
    <table id="IBs8E">
     <tbody>
      <tr>
       <td>
        <p id="ud4077fa5">
         步骤
        </p>
       </td>
       <td>
        <p id="u6bd5a694">
         结果
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u64798efb">
         在系统的URL地址后面，输入测试语句：
        </p>
        <p id="u91942dbe">
         &lt;img src=x οnerrοr=alert(1)&gt;
        </p>
        <p id="uffc2dbb6">
         &lt;script&gt;alert("1") &lt;/script&gt;；
        </p>
       </td>
       <td>
        <p id="uda628bef">
         是否会有弹窗
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="ue948526c">
         在系统的搜索框、输入框、留言，输入测试语句：
        </p>
        <p id="u32ae51b7">
         同上
        </p>
       </td>
       <td>
        <p id="u85b5b26d">
         像留言、评论、公告等输入内容都会存到数据库
        </p>
        <p id="ua1f7e047">
         前端查看对应内容时是否会有弹窗
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u98d5ccbd">
         在上传文件功能中，往需要导入的文件中输入测试语句：
        </p>
        <p id="u35ccf16e">
         同上
        </p>
       </td>
       <td>
        <p id="u6d3b14dc">
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h3 id="OAgbl">
     文件上传
    </h3>
    <p id="uc5b95ffe">
     <strong>
      定义：
     </strong>
     测试能否上传木马、病毒、色情图片等恶意图片
    </p>
    <table id="tmzLY">
     <tbody>
      <tr>
       <td>
        <p id="u0f6fc7e3">
         步骤
        </p>
       </td>
       <td>
        <p id="u872509eb">
         结果
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u8160c8d6">
         生成一个测试的恶意文件，如一个txt文档，内容为&lt;img src=x οnerrοr=alert(1)&gt;
        </p>
        <p id="ue0b82b26">
         文件名字最好为英文，如test
        </p>
       </td>
       <td>
        <p id="u1a2e8916">
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u1d488b1b">
         点击上传功能，抓包拦截上传接口，将上传的文件后缀修改为html文件（访问该html文件）
        </p>
       </td>
       <td>
        <p id="udf0441f6">
         可正常执行恶意语句，则有错
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h3 id="RI3XY">
     越权文件下载
    </h3>
    <p id="u48a800b5">
     <strong>
      定义：
     </strong>
     测试URL中是否包含文件名或文件目录，尝试提交参数值查看是否可下载或读取其他目录的文件内容
    </p>
    <p id="u69390045">
     <strong>
      文件下载场景：
     </strong>
     文件下载、文件读取功能
    </p>
    <p id="u3ed7a588">
     <strong>
      测试url：
     </strong>
     包含文件名或文件目录的url
    </p>
    <table id="o5bfL">
     <tbody>
      <tr>
       <td>
        <p id="ubf5a03be">
         步骤
        </p>
       </td>
       <td>
        <p id="uae819993">
         结果
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="ue1db5ab2">
         进行文件下载操作，找到文件下载路径
        </p>
        <p id="u10af402f">
         http://www.example.com/donwload.jsp?filename=test12789.pdf
        </p>
       </td>
       <td>
        <p id="ubc16383e">
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u6bff07f2">
         修改下载路径中的文件参数值，检查访问效果
        </p>
        <p id="u030b0b85">
         http://www.exbugmpjsp?filename=test.pdf
        </p>
       </td>
       <td>
        <p id="u0727dce3">
         如果可以下载修改后的文件，则证明存在漏洞
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u4842c93d">
         修改下载路径，通过../对路径进行跳转尝试下载其他目录下的文件
        </p>
        <p id="u21df221b">
         http://www.example.com/donwload.jsp?filename=../../WEB-INF/web.xml
        </p>
       </td>
       <td>
        <p id="ub48eca24">
         如果可以下载web.xm文件，则有bug
         <br/>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h3 id="D9nHj">
     短信/邮箱验证
    </h3>
    <p id="u28ec3fe5">
     <strong>
      定义：
     </strong>
     测试短信、邮箱验证方式是否进行安全设置
    </p>
    <p id="u7bdc52f3">
     <strong>
      触发短信、邮箱验证码验证相关的场景：
     </strong>
     找回或重置密码、注册、邀请注册、引流活动分享
    </p>
    <table id="onz65">
     <tbody>
      <tr>
       <td>
        <p id="u836ccd3f">
         步骤
        </p>
       </td>
       <td>
        <p id="uc2518ece">
         结果
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u3637687d">
         操作密码重置、找回密码等功能，触发跳转到输入手机号或邮箱的页面
        </p>
       </td>
       <td>
        <p id="u34834ec8">
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="ua48bf661">
         输入测试手机号或邮箱，看能否一直连续无间隔 发送短信验证码，造成短信轰炸
        </p>
       </td>
       <td>
        <p id="u9b63f2b8">
         短信轰炸若存在，及证明存在该漏洞，报BUG 触发短信、邮件发送的前提必须有安全验证（验证码、滑动验证等），防止短信被刷
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="ufcaf760b">
         如果有对应的验证设置，输入手机号、邮箱，同步开始抓包，查看数据包能否抓取到发送的验证码信息
        </p>
       </td>
       <td>
        <p id="u5b77e8c0">
         如果可以抓取到，则验证码可以被修改，存在漏洞，报BUG
         <br/>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h3 id="ozDe4">
     鉴权缺失
    </h3>
    <p id="u5d9fc424">
     <strong>
      定义：
     </strong>
     测试需要登录、鉴权才可操作的系统中可修改资源的相关接口，鉴权是否可靠
    </p>
    <p id="u4d46e1bd">
     <strong>
      测试对象：
     </strong>
     可以修改资源的接口
    </p>
    <table id="Rytjx">
     <tbody>
      <tr>
       <td>
        <p id="u6495446f">
         步骤
        </p>
       </td>
       <td>
        <p id="u3fd4e04e">
         结果
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u12b1894b">
         定义：测试需要登录、鉴权才可操作的系统中可修改资源的相关接口，鉴权是否可靠 测试对象：可以修改资源的接口
        </p>
       </td>
       <td>
        <p id="u7eb2cb10">
         1、如果参数都是完全可以被预期的话。即除了鉴权的cookie 外，header中和body表单中的所有参数都可以被事先知道。那么表明存在漏洞。报BUG 2、如果header或者body中有随机的token或者需要验证码之类的，则不存在漏洞
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u83885dbc">
         抓包、分析接口的参数，观察鉴权参数，如cookie 或者access token等
        </p>
       </td>
       <td>
        <p id="u640e095d">
         1、如果观察cookie 或者access token，可掌握其规律，如为某固定单一不变的值或使用用户ID作为cookie 的值，会话控制信息可以被猜测，鉴权不可靠，表明存在漏洞。报BUG
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h3 id="v5Gll">
     密码健壮性
    </h3>
    <p id="ud495732b">
     <strong>
      定义：
     </strong>
     测试密码、验证码验证的方式是否可靠，是否可以被暴力猜测直至命中
    </p>
    <table id="ZDosv">
     <tbody>
      <tr>
       <td>
        <p id="ucf534b7b">
         步骤
        </p>
       </td>
       <td>
        <p id="u90b8f787">
         结果
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u22612ef9">
         操作输入密码、验证码的场景，使用抓包工具，修改接口中的密码、验证码，多次尝试输入错误的验证码
        </p>
       </td>
       <td>
        <p id="u72377d11">
         可以被暴力猜测直至命中，则存在漏洞
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u0e1c84bd">
         使用工具重复请求接口（类似登录接口）多次（密码错误、验证码错误情况下、100次以上
        </p>
       </td>
       <td>
        <p id="u24936b14">
         使用工具重复请求接口（类似登录接口）多次（密码错误、验证码错误情况下、100次以上
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="uaa23384d">
         检查密码设置、验证码生成的业务逻辑设计
        </p>
       </td>
       <td>
        <p id="u76093c66">
         1、若设置密码时就未考虑密码复杂程度，允许用户设置弱密码
        </p>
        <p id="u474bca23">
         （如设置账号必须满足数字+字母+特殊字符，8位以上。规避123456、aaaaaaa、qwerty等弱密码），用户账号安全可能存在漏洞，可反馈给研发进行整改，推进账号安全
        </p>
        <p id="ub99a2c42">
         2、若验证码生成逻辑简单，或者结果集合小，或为简单的图片验证，则可能存在漏洞，可反馈开发进行整改，尽量使用更安全的验证设计（如行为验证 ）
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u9f858ecf">
         对密码找回及修改密码功能，检查密码是否有权限管控，只能修改或设置自己的密码，规避通过该功能修改别人的密码
        </p>
       </td>
       <td>
        <p id="u60db4b29">
         若可通过密码找回、修改密码、账号申诉等功能，修改其他人的账号密码，则存在漏洞，报BUG
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h3 id="m72XY">
     数据安全
    </h3>
    <p id="u08d2a1e1">
     <strong>
      定义：
     </strong>
     检查系统中敏感数据的存储是否安全
    </p>
    <p id="ud343e5eb">
     <strong>
      敏感数据：
     </strong>
     密码、身份证、家庭住址、银行卡号、手机号、真实姓名
    </p>
    <table id="xLQj9">
     <tbody>
      <tr>
       <td>
        <p id="ua3b3ad93">
         步骤
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u8f350c01">
         检查敏感数据是否加密存储，检查对应的数据表（mysql、redis）数据记录，防止拖库后信息泄露
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u153c5469">
         检查敏感数据在操作界面展示上是否脱敏 如：密码显示隐藏选项，手机号、身份证仅显示首尾等134****4250,220**********2129
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p id="u39f8d3b7">
         检查数字设置安全，是否限制输入负数或超大数额
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f707974686f6e6e616d6543432f:61727469636c652f64657461696c732f313335353635353136" class_="artid" style="display:none">
 </p>
</div>
