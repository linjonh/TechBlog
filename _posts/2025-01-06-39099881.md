---
layout: post
title: "Java-WebSocket-项目的研究三-WebSocketClient-类-详解"
date: 2025-01-06 20:35:02 +0800
description: "通过之前两篇文章Java-WebSocket 项目的研究(一) Java-WebSocket类图描述"
keywords: "unresolved reference: websocketclient"
categories: ['网络原理', 'Java']
tags: ['无标签']
artid: "39099881"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=39099881
    alt: "Java-WebSocket-项目的研究三-WebSocketClient-类-详解"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Java-WebSocket 项目的研究(三) WebSocketClient 类 详解
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    通过之前两篇文章
    <p>
    </p>
    <div class="article_title" style="font-size:20px; font-family:'Microsoft YaHei'; margin:5px 0px; line-height:30px">
     <h2 style="font-size:20px; vertical-align:middle; font-weight:normal; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; display:inline; padding-right:0px">
      <span class="link_title">
       <a href="http://blog.csdn.net/liuxingtianshi9570/article/details/39099853" rel="noopener noreferrer" target="_blank">
        Java-WebSocket 项目的研究(一) Java-WebSocket类图描述
       </a>
      </span>
     </h2>
    </div>
    <div class="article_manage" style="font-family:Arial; color:rgb(153,153,153); padding-bottom:5px; text-align:right; padding-top:5px; padding-left:0px; line-height:24px; padding-right:0px">
     <br/>
    </div>
    <p>
    </p>
    <p>
     <a href="http://blog.csdn.net/liuxingtianshi9570/article/details/39099867" rel="noopener noreferrer" target="_blank">
      <span style="font-family:Microsoft YaHei">
       <span style="font-size:20px; line-height:30px">
        Java-WebSocket 项目的研究(二) 小试身手：客户端连接服务器并发送消息实例
       </span>
      </span>
      <br/>
     </a>
    </p>
    <p>
     的介绍我们大概了解到了整个项目的类结构，其中有一个重要的类：WebSocketClient，下面就让我们详细了解一下这个类
    </p>
    <p>
     <br/>
    </p>
    <p>
     首先看一下我们之前的类图关于
     <span style="color:#cc0000">
      WebSocketClient
     </span>
     的描述，可以看出：
    </p>
    <p>
     1.继承自
     <span style="color:#cc0000">
      WebSocketAdapter
     </span>
    </p>
    <p>
     2.依赖于类
     <span style="color:#cc0000">
      WebSocketImpl
     </span>
     （实际上关于
     <span style="color:#cc0000">
      WebSocket
     </span>
     核心代码都在类
     <span style="color:#cc0000">
      WebSocketImpl
     </span>
     里）
    </p>
    <p>
     3.实现了WebSocket接口（实际上通过类
     <span style="color:#cc0000">
      WebSocketImpl
     </span>
     实现的）
    </p>
    <p>
     <br/>
    </p>
    <p>
     很简单的，从字面意思我们就大概能猜到
     <span style="color:#cc0000">
      WebSocketAdapter
     </span>
     是适配器类，架起了
     <span style="color:rgb(204,0,0)">
      WebSocketImpl
     </span>
     与
     <span style="color:#cc0000">
      WebSocketClient
     </span>
     之间的桥梁，
     <span style="color:rgb(204,0,0)">
      WebSocketImpl
     </span>
     是web implementation的缩写，意思就是真正实现了websocket里主要的功能。
    </p>
    <p>
     <br/>
    </p>
    <p>
     然后我们看一下
     <span style="color:rgb(204,0,0)">
      WebSocketClient
     </span>
     的几个主要方法：
    </p>
    <p>
     首先是connect方法
    </p>
    <p>
    </p>
    <div class="dp-highlighter bg_java">
     <div class="bar">
      <div class="tools">
       <strong>
        [java]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="view plain">
        view plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="copy">
        copy
       </a>
       <a class="PrintSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="print">
        print
       </a>
       <a class="About" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="?">
        ?
       </a>
       <a href="https://code.csdn.net/snippets/321137" rel="nofollow noopener noreferrer" target="_blank" title="在CODE上查看代码片">
        <img alt="在CODE上查看代码片" height="12" src="https://code.csdn.net/assets/CODE_ico.png" style="position:relative; left:2px; top:1px" width="12"/>
       </a>
       <a href="https://code.csdn.net/snippets/321137/fork" rel="nofollow noopener noreferrer" target="_blank" title="派生到我的代码片">
        <img alt="派生到我的代码片" height="12" src="https://code.csdn.net/assets/ico_fork.svg" style="position:relative; left:2px; top:2px" width="12"/>
       </a>
      </div>
     </div>
     <ol class="dp-j">
      <li class="alt">
       <span class="comment">
        /**
       </span>
      </li>
      <li>
       <span class="comment">
        * Initiates the websocket connection. This method does not block.
       </span>
      </li>
      <li class="alt">
       <span class="comment">
        */
       </span>
      </li>
      <li>
       <span class="keyword">
        public
       </span>
       <span class="keyword">
        void
       </span>
       connect() {
      </li>
      <li class="alt">
       <span class="keyword">
        if
       </span>
       ( writeThread !=
       <span class="keyword">
        null
       </span>
       )
      </li>
      <li>
       <span class="keyword">
        throw
       </span>
       <span class="keyword">
        new
       </span>
       IllegalStateException(
       <span class="string">
        "WebSocketClient objects are not reuseable"
       </span>
       );
      </li>
      <li class="alt">
       writeThread =
       <span class="keyword">
        new
       </span>
       Thread(
       <span class="keyword">
        this
       </span>
       );
      </li>
      <li>
       writeThread.start();
      </li>
      <li class="alt">
       }
      </li>
     </ol>
    </div>
    <pre><code class="language-java">/**
	 * Initiates the websocket connection. This method does not block.
	 */
	public void connect() {
		if( writeThread != null )
			throw new IllegalStateException( "WebSocketClient objects are not reuseable" );
		writeThread = new Thread( this );
		writeThread.start();
	}
</code></pre>
    <br/>
    我们可以发现：
    <p>
    </p>
    <p>
     他其实是起了一个线程，由于
     <span style="color:rgb(204,0,0)">
      WebSocketClient
     </span>
     类实现了Runnable接口，因此他会自动去调用run方法，然后我们进一步到run方法里去一探究竟
    </p>
    <p>
    </p>
    <div class="dp-highlighter bg_java">
     <div class="bar">
      <div class="tools">
       <strong>
        [java]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="view plain">
        view plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="copy">
        copy
       </a>
       <a class="PrintSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="print">
        print
       </a>
       <a class="About" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="?">
        ?
       </a>
       <a href="https://code.csdn.net/snippets/321137" rel="nofollow noopener noreferrer" target="_blank" title="在CODE上查看代码片">
        <img alt="在CODE上查看代码片" height="12" src="https://code.csdn.net/assets/CODE_ico.png" style="position:relative; left:2px; top:1px" width="12"/>
       </a>
       <a href="https://code.csdn.net/snippets/321137/fork" rel="nofollow noopener noreferrer" target="_blank" title="派生到我的代码片">
        <img alt="派生到我的代码片" height="12" src="https://code.csdn.net/assets/ico_fork.svg" style="position:relative; left:2px; top:2px" width="12"/>
       </a>
      </div>
     </div>
     <ol class="dp-j">
      <li class="alt">
       <span class="keyword">
        public
       </span>
       <span class="keyword">
        void
       </span>
       run() {
      </li>
      <li>
       <span class="keyword">
        try
       </span>
       {
      </li>
      <li class="alt">
       <span class="keyword">
        if
       </span>
       ( socket ==
       <span class="keyword">
        null
       </span>
       ) {
      </li>
      <li>
       socket =
       <span class="keyword">
        new
       </span>
       Socket( proxy );
      </li>
      <li class="alt">
       }
       <span class="keyword">
        else
       </span>
       <span class="keyword">
        if
       </span>
       ( socket.isClosed() ) {
      </li>
      <li>
       <span class="keyword">
        throw
       </span>
       <span class="keyword">
        new
       </span>
       IOException();
      </li>
      <li class="alt">
       }
      </li>
      <li>
       System.out.println(
       <span class="string">
        "----&gt;  "
       </span>
       +uri.toString()+
       <span class="string">
        "   port: "
       </span>
       +getPort() );
      </li>
      <li class="alt">
       <span class="keyword">
        if
       </span>
       ( !socket.isBound() )
      </li>
      <li>
       socket.connect(
       <span class="keyword">
        new
       </span>
       InetSocketAddress( uri.getHost(), getPort() ), connectTimeout );
      </li>
      <li class="alt">
       istream = socket.getInputStream();
      </li>
      <li>
       ostream = socket.getOutputStream();
      </li>
      <li class="alt">
      </li>
      <li>
       sendHandshake();
      </li>
      <li class="alt">
       }
       <span class="keyword">
        catch
       </span>
       (
       <span class="comment">
        /*IOException | SecurityException | UnresolvedAddressException | InvalidHandshakeException | ClosedByInterruptException | SocketTimeoutException */
       </span>
       Exception e ) {
      </li>
      <li>
       onWebsocketError( engine, e );
      </li>
      <li class="alt">
       engine.closeConnection( CloseFrame.NEVER_CONNECTED, e.getMessage() );
      </li>
      <li>
       <span class="keyword">
        return
       </span>
       ;
      </li>
      <li class="alt">
       }
      </li>
      <li>
      </li>
      <li class="alt">
       writeThread =
       <span class="keyword">
        new
       </span>
       Thread(
       <span class="keyword">
        new
       </span>
       WebsocketWriteThread() );
      </li>
      <li>
       writeThread.start();
      </li>
      <li class="alt">
      </li>
      <li>
       <span class="keyword">
        byte
       </span>
       [] rawbuffer =
       <span class="keyword">
        new
       </span>
       <span class="keyword">
        byte
       </span>
       [ WebSocketImpl.RCVBUF ];
      </li>
      <li class="alt">
       <span class="keyword">
        int
       </span>
       readBytes;
      </li>
      <li>
      </li>
      <li class="alt">
       <span class="keyword">
        try
       </span>
       {
      </li>
      <li>
       <span class="keyword">
        while
       </span>
       ( !isClosed() &amp;&amp; ( readBytes = istream.read( rawbuffer ) ) != -
       <span class="number">
        1
       </span>
       ) {
      </li>
      <li class="alt">
       engine.decode( ByteBuffer.wrap( rawbuffer,
       <span class="number">
        0
       </span>
       , readBytes ) );
      </li>
      <li>
       }
      </li>
      <li class="alt">
       engine.eot();
      </li>
      <li>
       }
       <span class="keyword">
        catch
       </span>
       ( IOException e ) {
      </li>
      <li class="alt">
       engine.eot();
      </li>
      <li>
       }
       <span class="keyword">
        catch
       </span>
       ( RuntimeException e ) {
      </li>
      <li class="alt">
       <span class="comment">
        // this catch case covers internal errors only and indicates a bug in this websocket implementation
       </span>
      </li>
      <li>
       onError( e );
      </li>
      <li class="alt">
       engine.closeConnection( CloseFrame.ABNORMAL_CLOSE, e.getMessage() );
      </li>
      <li>
       }
      </li>
      <li class="alt">
       <span class="keyword">
        assert
       </span>
       ( socket.isClosed() );
      </li>
      <li>
       }
      </li>
     </ol>
    </div>
    <pre><code class="language-java">public void run() {
		try {
			if( socket == null ) {
				socket = new Socket( proxy );
			} else if( socket.isClosed() ) {
				throw new IOException();
			}
			System.out.println("----&gt;  "+uri.toString()+"   port: "+getPort() );
			if( !socket.isBound() )
				socket.connect( new InetSocketAddress( uri.getHost(), getPort() ), connectTimeout );
			istream = socket.getInputStream();
			ostream = socket.getOutputStream();

			sendHandshake();
		} catch ( /*IOException | SecurityException | UnresolvedAddressException | InvalidHandshakeException | ClosedByInterruptException | SocketTimeoutException */Exception e ) {
			onWebsocketError( engine, e );
			engine.closeConnection( CloseFrame.NEVER_CONNECTED, e.getMessage() );
			return;
		}

		writeThread = new Thread( new WebsocketWriteThread() );
		writeThread.start();

		byte[] rawbuffer = new byte[ WebSocketImpl.RCVBUF ];
		int readBytes;

		try {
			while ( !isClosed() &amp;&amp; ( readBytes = istream.read( rawbuffer ) ) != -1 ) {
				engine.decode( ByteBuffer.wrap( rawbuffer, 0, readBytes ) );
			}
			engine.eot();
		} catch ( IOException e ) {
			engine.eot();
		} catch ( RuntimeException e ) {
			// this catch case covers internal errors only and indicates a bug in this websocket implementation
			onError( e );
			engine.closeConnection( CloseFrame.ABNORMAL_CLOSE, e.getMessage() );
		}
		assert ( socket.isClosed() );
	}
</code></pre>
    <p>
    </p>
    <p>
     <br/>
    </p>
    <p>
     下面我们对上面的代码进行详细研究：
    </p>
    <p>
    </p>
    <div class="dp-highlighter bg_java">
     <div class="bar">
      <div class="tools">
       <strong>
        [java]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="view plain">
        view plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="copy">
        copy
       </a>
       <a class="PrintSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="print">
        print
       </a>
       <a class="About" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="?">
        ?
       </a>
       <a href="https://code.csdn.net/snippets/321137" rel="nofollow noopener noreferrer" target="_blank" title="在CODE上查看代码片">
        <img alt="在CODE上查看代码片" height="12" src="https://code.csdn.net/assets/CODE_ico.png" style="position:relative; left:2px; top:1px" width="12"/>
       </a>
       <a href="https://code.csdn.net/snippets/321137/fork" rel="nofollow noopener noreferrer" target="_blank" title="派生到我的代码片">
        <img alt="派生到我的代码片" height="12" src="https://code.csdn.net/assets/ico_fork.svg" style="position:relative; left:2px; top:2px" width="12"/>
       </a>
      </div>
     </div>
     <ol class="dp-j">
      <li class="alt">
       socket =
       <span class="keyword">
        new
       </span>
       Socket( proxy );
      </li>
     </ol>
    </div>
    <pre><code class="language-java">				socket = new Socket( proxy );
</code></pre>
    <br/>
    这句显而易见，是创建了一个socket套接字。
    <p>
    </p>
    <p>
    </p>
    <div class="dp-highlighter bg_java">
     <div class="bar">
      <div class="tools">
       <strong>
        [java]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="view plain">
        view plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="copy">
        copy
       </a>
       <a class="PrintSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="print">
        print
       </a>
       <a class="About" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="?">
        ?
       </a>
       <a href="https://code.csdn.net/snippets/321137" rel="nofollow noopener noreferrer" target="_blank" title="在CODE上查看代码片">
        <img alt="在CODE上查看代码片" height="12" src="https://code.csdn.net/assets/CODE_ico.png" style="position:relative; left:2px; top:1px" width="12"/>
       </a>
       <a href="https://code.csdn.net/snippets/321137/fork" rel="nofollow noopener noreferrer" target="_blank" title="派生到我的代码片">
        <img alt="派生到我的代码片" height="12" src="https://code.csdn.net/assets/ico_fork.svg" style="position:relative; left:2px; top:2px" width="12"/>
       </a>
      </div>
     </div>
     <ol class="dp-j">
      <li class="alt">
       socket.connect(
       <span class="keyword">
        new
       </span>
       InetSocketAddress( uri.getHost(), getPort() ), connectTimeout );
      </li>
     </ol>
    </div>
    <pre><code class="language-java">				socket.connect( new InetSocketAddress( uri.getHost(), getPort() ), connectTimeout );
</code></pre>
    <br/>
    这句的意思是创建连接，参数就是服务器地址，端口号，超时时间。
    <p>
    </p>
    <p>
    </p>
    <div class="dp-highlighter bg_java">
     <div class="bar">
      <div class="tools">
       <strong>
        [java]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="view plain">
        view plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="copy">
        copy
       </a>
       <a class="PrintSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="print">
        print
       </a>
       <a class="About" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="?">
        ?
       </a>
       <a href="https://code.csdn.net/snippets/321137" rel="nofollow noopener noreferrer" target="_blank" title="在CODE上查看代码片">
        <img alt="在CODE上查看代码片" height="12" src="https://code.csdn.net/assets/CODE_ico.png" style="position:relative; left:2px; top:1px" width="12"/>
       </a>
       <a href="https://code.csdn.net/snippets/321137/fork" rel="nofollow noopener noreferrer" target="_blank" title="派生到我的代码片">
        <img alt="派生到我的代码片" height="12" src="https://code.csdn.net/assets/ico_fork.svg" style="position:relative; left:2px; top:2px" width="12"/>
       </a>
      </div>
     </div>
     <ol class="dp-j">
      <li class="alt">
       istream = socket.getInputStream();
      </li>
     </ol>
    </div>
    <pre><code class="language-java">			istream = socket.getInputStream();
</code></pre>
    <br/>
    是接受服务器端的数据，关于接受的详细过程，我会在后期的博客中阐述，敬请期待。
    <p>
    </p>
    <p>
    </p>
    <div class="dp-highlighter bg_java">
     <div class="bar">
      <div class="tools">
       <strong>
        [java]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="view plain">
        view plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="copy">
        copy
       </a>
       <a class="PrintSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="print">
        print
       </a>
       <a class="About" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="?">
        ?
       </a>
       <a href="https://code.csdn.net/snippets/321137" rel="nofollow noopener noreferrer" target="_blank" title="在CODE上查看代码片">
        <img alt="在CODE上查看代码片" height="12" src="https://code.csdn.net/assets/CODE_ico.png" style="position:relative; left:2px; top:1px" width="12"/>
       </a>
       <a href="https://code.csdn.net/snippets/321137/fork" rel="nofollow noopener noreferrer" target="_blank" title="派生到我的代码片">
        <img alt="派生到我的代码片" height="12" src="https://code.csdn.net/assets/ico_fork.svg" style="position:relative; left:2px; top:2px" width="12"/>
       </a>
      </div>
     </div>
     <ol class="dp-j">
      <li class="alt">
       ostream = socket.getOutputStream();
      </li>
     </ol>
    </div>
    <pre><code class="language-java">			ostream = socket.getOutputStream();
</code></pre>
    <br/>
    是发送数据用的。
    <p>
    </p>
    <p>
     其他的先不解释，我们继续之前的流程------connect之后就要发送信息，也就是调用send方法，send方法如下：
    </p>
    <p>
    </p>
    <div class="dp-highlighter bg_java">
     <div class="bar">
      <div class="tools">
       <strong>
        [java]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="view plain">
        view plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="copy">
        copy
       </a>
       <a class="PrintSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="print">
        print
       </a>
       <a class="About" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="?">
        ?
       </a>
       <a href="https://code.csdn.net/snippets/321137" rel="nofollow noopener noreferrer" target="_blank" title="在CODE上查看代码片">
        <img alt="在CODE上查看代码片" height="12" src="https://code.csdn.net/assets/CODE_ico.png" style="position:relative; left:2px; top:1px" width="12"/>
       </a>
       <a href="https://code.csdn.net/snippets/321137/fork" rel="nofollow noopener noreferrer" target="_blank" title="派生到我的代码片">
        <img alt="派生到我的代码片" height="12" src="https://code.csdn.net/assets/ico_fork.svg" style="position:relative; left:2px; top:2px" width="12"/>
       </a>
      </div>
     </div>
     <ol class="dp-j">
      <li class="alt">
       <span class="comment">
        /**
       </span>
      </li>
      <li>
       <span class="comment">
        * Sends &lt;var&gt;text&lt;/var&gt; to the connected websocket server.
       </span>
      </li>
      <li class="alt">
       <span class="comment">
        *
       </span>
      </li>
      <li>
       <span class="comment">
        * @param text
       </span>
      </li>
      <li class="alt">
       <span class="comment">
        *            The string which will be transmitted.
       </span>
      </li>
      <li>
       <span class="comment">
        */
       </span>
      </li>
      <li class="alt">
       <span class="keyword">
        public
       </span>
       <span class="keyword">
        void
       </span>
       send( String text )
       <span class="keyword">
        throws
       </span>
       NotYetConnectedException {
      </li>
      <li>
       engine.send( text );
      </li>
      <li class="alt">
       }
      </li>
     </ol>
    </div>
    <pre><code class="language-java">/**
	 * Sends &lt;var&gt;text&lt;/var&gt; to the connected websocket server.
	 * 
	 * @param text
	 *            The string which will be transmitted.
	 */
	public void send( String text ) throws NotYetConnectedException {
		engine.send( text );
	}</code></pre>
    <br/>
    它调用了engine的send方法，那么engine是啥东东呢，在类的声明处有这么一句话：
    <p>
    </p>
    <p>
    </p>
    <div class="dp-highlighter bg_java">
     <div class="bar">
      <div class="tools">
       <strong>
        [java]
       </strong>
       <a class="ViewSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="view plain">
        view plain
       </a>
       <a class="CopyToClipboard" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="copy">
        copy
       </a>
       <a class="PrintSource" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="print">
        print
       </a>
       <a class="About" href="http://blog.csdn.net/zjh171/article/details/24800493#" rel="noopener noreferrer" target="_blank" title="?">
        ?
       </a>
       <a href="https://code.csdn.net/snippets/321137" rel="nofollow noopener noreferrer" target="_blank" title="在CODE上查看代码片">
        <img alt="在CODE上查看代码片" height="12" src="https://code.csdn.net/assets/CODE_ico.png" style="position:relative; left:2px; top:1px" width="12"/>
       </a>
       <a href="https://code.csdn.net/snippets/321137/fork" rel="nofollow noopener noreferrer" target="_blank" title="派生到我的代码片">
        <img alt="派生到我的代码片" height="12" src="https://code.csdn.net/assets/ico_fork.svg" style="position:relative; left:2px; top:2px" width="12"/>
       </a>
      </div>
     </div>
     <ol class="dp-j">
      <li class="alt">
       <span class="keyword">
        private
       </span>
       WebSocketImpl engine =
       <span class="keyword">
        null
       </span>
       ;
      </li>
     </ol>
    </div>
    <pre><code class="language-java">	private WebSocketImpl engine = null;
</code></pre>
    <br/>
    说明了
    <span style="color:rgb(204,0,0)">
     WebSocketImpl类
    </span>
    实现了send的操作。
    <p>
    </p>
    <p>
     <br/>
    </p>
    <p>
     转自：
     <a href="http://blog.csdn.net/zjh171/article/details/24800493" rel="noopener noreferrer" target="_blank">
      http://blog.csdn.net/zjh171/article/details/24800493
     </a>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e6373:646e2e6e65742f6c697578696e677469616e73686939353730:2f61727469636c652f64657461696c732f3339303939383831" class_="artid" style="display:none">
 </p>
</div>


