---
layout: post
title: "前端将blob转换为可下载的url及下载"
date: 2023-11-27 10:50:17 +0800
description: "【代码】前端将blob转换为可下载的url。_blob转url"
keywords: "blob转url"
categories: ['']
tags: ['开发语言', '前端', 'Javascript']
artid: "134640137"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=134640137
    alt: "前端将blob转换为可下载的url及下载"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     前端将blob转换为可下载的url及下载
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <blockquote>
     <p>
      一.转换
     </p>
    </blockquote>
    <pre><code class="language-javascript">//将blob转换为url
const changeBlobToUrl = blobData =&gt; {
	return new Promise(resolve =&gt; {
		//创建Blob对象
		const blob = new Blob([blobData])

		// 创建FileReader对象
		const reader = new FileReader()

		reader.onload = function (e) {
			resolve(e.target.result)
		}

		// 使用FileReader读取Blob数据
		reader.readAsDataURL(blob)
	})
}</code></pre>
    <blockquote>
     <p>
      二.下载
     </p>
    </blockquote>
    <pre><code class="language-javascript">//前端下载blob的url类型文件
const downloadFileByBlobUrl = (url: string, name: string) =&gt; {
	aDownload(url, name)
	URL.revokeObjectURL(url)
}


const aDownload = (url, name) =&gt; {
	// 创建&lt;a&gt;元素
	const link = document.createElement("a")
	// 设置&lt;a&gt;元素的属性
	link.href = url
	link.download = name
	// 将&lt;a&gt;元素添加到文档中
	document.body.appendChild(link)
	// 触发点击事件
	link.click()
	// 移除&lt;a&gt;元素
	document.body.removeChild(link)
}</code></pre>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33363536363932342f:61727469636c652f64657461696c732f313334363430313337" class_="artid" style="display:none">
 </p>
</div>


