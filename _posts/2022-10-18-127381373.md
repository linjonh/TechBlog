---
layout: post
title: "将华为地图套件集成到HarmonyOs可穿戴设备应用中"
date: 2022-10-18 09:58:48 +0800
description: "在本文中，我们将了解 HarmonyOs 地图工具包是用于地图开"
keywords: "harmonyos map"
categories: ['未分类']
tags: ['华为', 'Harmonyos']
artid: "127381373"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=127381373
    alt: "将华为地图套件集成到HarmonyOs可穿戴设备应用中"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     将华为地图套件集成到HarmonyOs可穿戴设备应用中
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night-eighties" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <ul>
      <li>
       <strong>
        💂 个人网站:【
        <a href="https://haiyong.site/" rel="nofollow">
         海拥
        </a>
        】【
        <a href="https://code.haiyong.site/" rel="nofollow">
         海拥资源库
        </a>
        】【
        <a href="https://code.haiyong.site/moyu" rel="nofollow">
         摸鱼小游戏
        </a>
        】
       </strong>
      </li>
      <li>
       <strong>
        🤟 风趣幽默的前端学习课程：👉
        <a href="https://www.lanqiao.cn/courses/8605" rel="nofollow">
         28个案例趣学前端
        </a>
       </strong>
      </li>
      <li>
       <strong>
        💅 想寻找共同学习交流、摸鱼划水的小伙伴，请点击【
        <a href="https://haiyong.site/chat/" rel="nofollow">
         摸鱼学习交流群
        </a>
        】
       </strong>
      </li>
      <li>
       <strong>
        💬 免费且实用的计算机相关知识题库：👉
        <a href="https://www.nowcoder.com/exam/oj?tab=%E5%89%8D%E7%AB%AF%E7%AF%87&amp;topicId=260&amp;fromPut=pc_zh_n_haiyong_qianduan" rel="nofollow">
         进来逛逛
        </a>
       </strong>
      </li>
     </ul>
    </blockquote>
    <p>
     <strong>
      给大家安利一个免费且实用的前端刷题（面经大全）网站，👉
      <a href="https://www.nowcoder.com/exam/oj?tab=%E5%89%8D%E7%AB%AF%E7%AF%87&amp;topicId=260&amp;fromPut=pc_zh_n_haiyong_qianduan" rel="nofollow">
       点击跳转到网站
      </a>
      。
     </strong>
    </p>
    <h3>
     <a id="_6">
     </a>
     介绍
    </h3>
    <p>
     在本文中，我们将了解 HarmonyOs 中的华为地图套件。地图工具包是用于地图开发的 SDK。覆盖200多个国家和地区的地图数据，支持70多种语言。使用此 SDK，您可以轻松地将基于地图的功能集成到您的 HarmonyOs 应用程序中。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3152ad40b08084ce4239ba29728f6407.png"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/8cd581fa3b2b1304231cb3ac171d8ac3.png"/>
    </p>
    <h3>
     <a id="_14">
     </a>
     开发概述
    </h3>
    <p>
     需要安装 DevEcho 工作室 IDE，我假设您事先了解 HarmonyOs 和 Java。
    </p>
    <h4>
     <a id="_18">
     </a>
     硬件要求
    </h4>
    <p>
     运行 Win 10 的计算机（台式机或笔记本电脑）。
     <br/>
     HarmonyOs 智能手表（带USB电缆），用于调试。
    </p>
    <h4>
     <a id="_23">
     </a>
     软件要求
    </h4>
    <p>
     Java JDK 安装包。
     <br/>
     已安装 DevEcho Studio。
    </p>
    <h3>
     <a id="_28">
     </a>
     步骤：
    </h3>
    <h4>
     <a id="_1_HarmonyOs__30">
     </a>
     步骤 1：创建 HarmonyOs 应用程序。
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e3f6a3a0be8f87b50009ffc588b2274f.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/d3a52ae05d55fb8b5a0c904f7d9792c8.png"/>
     </img>
    </p>
    <h4>
     <a id="_2_AppGallery__34">
     </a>
     步骤 2：在 AppGallery 中创建项目
    </h4>
    <h4>
     <a id="_3_36">
     </a>
     步骤 3：在应用程序网格中配置应用程序
    </h4>
    <h4>
     <a id="_4_SDK__38">
     </a>
     步骤 4：按照 SDK 集成步骤操作
    </h4>
    <p>
     让我们开始编码
    </p>
    <p>
     MapAbilitySlice.java
    </p>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MapAbilitySlice</span> <span class="token keyword">extends</span> <span class="token class-name">AbilitySlice</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">HiLogLabel</span> LABEL_LOG <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HiLogLabel</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0xD001100</span><span class="token punctuation">,</span> <span class="token string">"TAG"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">MapView</span> mMapView<span class="token punctuation">;</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CommonContext</span><span class="token punctuation">.</span><span class="token function">setContext</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     声明和初始化华为地图选项对象
    </p>
    <pre><code class="prism language-java"><span class="token class-name">HuaweiMapOptions</span> huaweiMapOptions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HuaweiMapOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     初始化相机属性
    </p>
    <pre><code class="prism language-java"><span class="token class-name">CameraPosition</span> cameraPosition <span class="token operator">=</span>
<span class="token keyword">new</span> <span class="token class-name">CameraPosition</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">12.972442</span><span class="token punctuation">,</span> <span class="token number">77.580643</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
huaweiMapOptions
</code></pre>
    <p>
     设置相机属性
    </p>
    <pre><code class="prism language-java"><span class="token punctuation">.</span><span class="token function">camera</span><span class="token punctuation">(</span>cameraPosition<span class="token punctuation">)</span>
</code></pre>
    <p>
     启用或禁用缩放功能。默认情况下，缩放功能处于启用状态。
    </p>
    <pre><code class="prism language-java"><span class="token punctuation">.</span><span class="token function">zoomControlsEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     设置指南针是否可用。指南针在默认情况下可用。
    </p>
    <pre><code class="prism language-java"><span class="token punctuation">.</span><span class="token function">compassEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     指定缩放手势是否可用。默认情况下，缩放手势可用。
    </p>
    <pre><code class="prism language-java"><span class="token punctuation">.</span><span class="token function">zoomGesturesEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     指定是否启用滚动手势。默认情况下，滚动手势处于启用状态。
    </p>
    <pre><code class="prism language-java"><span class="token punctuation">.</span><span class="token function">scrollGesturesEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     指定旋转手势是否可用。默认情况下，旋转手势可用。
    </p>
    <pre><code class="prism language-java"><span class="token punctuation">.</span><span class="token function">rotateGesturesEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     指定倾斜手势是否可用。默认情况下，倾斜手势可用。
    </p>
    <pre><code class="prism language-java"><span class="token punctuation">.</span><span class="token function">tiltGesturesEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     设置地图是否处于精简模式。默认值为“否”。
    </p>
    <pre><code class="prism language-java"><span class="token punctuation">.</span><span class="token function">liteMode</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     设置首选项最小缩放级别
    </p>
    <pre><code class="prism language-java"><span class="token punctuation">.</span><span class="token function">minZoomPreference</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     设置首选项最大缩放级别
    </p>
    <pre><code class="prism language-java"><span class="token punctuation">.</span><span class="token function">maxZoomPreference</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     初始化地图视图对象。
    </p>
    <pre><code class="prism language-java">mMapView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MapView</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>huaweiMapOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     创建地图视图对象。
    </p>
    <pre><code class="prism language-java">mMapView<span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     获取华为地图对象。
    </p>
    <pre><code class="prism language-java">mMapView<span class="token punctuation">.</span><span class="token function">getMapAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OnMapReadyCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMapReady</span><span class="token punctuation">(</span><span class="token class-name">HuaweiMap</span> huaweiMap<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token class-name">HuaweiMap</span> mHuaweiMap <span class="token operator">=</span> huaweiMap<span class="token punctuation">;</span>
mHuaweiMap<span class="token punctuation">.</span><span class="token function">setOnMapClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OnMapClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMapClick</span><span class="token punctuation">(</span><span class="token class-name">LatLng</span> latLng<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">new</span> <span class="token class-name">ToastDialog</span><span class="token punctuation">(</span><span class="token class-name">CommonContext</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"onMapClick "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     初始化圆形对象。
    </p>
    <pre><code class="prism language-java"><span class="token class-name">Circle</span> mCircle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <pre><code class="prism language-java"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> mHuaweiMap<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> mCircle<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
mCircle<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mCircle <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

mCircle <span class="token operator">=</span> mHuaweiMap<span class="token punctuation">.</span><span class="token function">addCircle</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CircleOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">12.972442</span><span class="token punctuation">,</span> <span class="token number">77.580643</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">radius</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">fillColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>GREEN<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">ToastDialog</span><span class="token punctuation">(</span><span class="token class-name">CommonContext</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"color green: "</span> <span class="token operator">+</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>GREEN<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> strokeColor <span class="token operator">=</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>RED<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> strokeWidth <span class="token operator">=</span> <span class="token number">15.0f</span><span class="token punctuation">;</span>
<span class="token comment">// 设置圆的边缘颜色</span>
mCircle<span class="token punctuation">.</span><span class="token function">setStrokeColor</span><span class="token punctuation">(</span>strokeColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置圆的边缘宽度</span>
mCircle<span class="token punctuation">.</span><span class="token function">setStrokeWidth</span><span class="token punctuation">(</span>strokeWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建布局。</span>
<span class="token class-name">ComponentContainer<span class="token punctuation">.</span>LayoutConfig</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComponentContainer<span class="token punctuation">.</span>LayoutConfig</span><span class="token punctuation">(</span><span class="token class-name">ComponentContainer<span class="token punctuation">.</span>LayoutConfig</span><span class="token punctuation">.</span>MATCH_PARENT<span class="token punctuation">,</span> <span class="token class-name">ComponentContainer<span class="token punctuation">.</span>LayoutConfig</span><span class="token punctuation">.</span>MATCH_PARENT<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PositionLayout</span> myLayout <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PositionLayout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myLayout<span class="token punctuation">.</span><span class="token function">setLayoutConfig</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ShapeElement</span> element <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ShapeElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">setShape</span><span class="token punctuation">(</span><span class="token class-name">ShapeElement</span><span class="token punctuation">.</span>RECTANGLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">setRgbColor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RgbColor</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myLayout<span class="token punctuation">.</span><span class="token function">addComponent</span><span class="token punctuation">(</span>mMapView<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">setUIContent</span><span class="token punctuation">(</span>myLayout<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     结果
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/9223c8f066c84e30ba84f304b0f803d5.png"/>
    </p>
    <h3>
     <a id="_191">
     </a>
     提示和技巧
    </h3>
    <ul>
     <li>
      正确添加所需的依赖项。
     </li>
     <li>
      在 resources &gt; base &gt; media 中添加所需的映像。
     </li>
     <li>
      在 resources &gt; base &gt; element &gt; string.json 中添加自定义字符串。
     </li>
     <li>
      在 config.json 文件中定义支持设备。
     </li>
     <li>
      不要记录敏感数据。
     </li>
     <li>
      在应用网格连接中启用所需的服务。
     </li>
     <li>
      使用相应的 Log 方法打印日志。
     </li>
    </ul>
    <h3>
     <a id="_201">
     </a>
     结论
    </h3>
    <p>
     在本文中，我们了解到，使用华为地图套件将华为地图集成到HarmonyOs可穿戴设备中。示例应用程序显示了如何在HarmonyOs可穿戴设备中实现地图套件。希望本文能帮助您理解和集成地图工具包，您可以在HarmonyoOs应用程序中使用此功能在可穿戴设备中显示地图。
    </p>
    <p>
     非常感谢您阅读本文，希望本文能帮助您了解HarmonyOS中的华为地图套件。请在评论部分提供您的评论和喜欢。
    </p>
    <h4>
     <a id="__207">
     </a>
     ⭐️ 好书推荐
    </h4>
    <p>
     <b>
      《人工智能导论》
     </b>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1b2d93e53ecc5db28430e7e9bec9878f.jpeg" width="300"/>
    </p>
    <p>
     <strong>
      【内容简介】
     </strong>
    </p>
    <blockquote>
     <p>
      <strong>
       <font color="#e66b6d">
        科大讯飞校企合编教材，涵盖人工智能各个重要体系，详解人工智能基础理论，详细解读算法逻辑：详解机器学习、人工神经网络、智能语音识别、自然语言处理、知识图谱与机器人等核心算法知识，清晰介绍实战步骤：有理论有实战，介绍了人工智能算法与技术的实际应用，步骤清楚，条理清晰，即学即用。
        <br/>
       </font>
      </strong>
     </p>
    </blockquote>
    <p>
     📚 京东自营购买链接：
     <a href="https://item.jd.com/13287419.html" rel="nofollow">
      《人工智能导论》
     </a>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34343237333432392f:61727469636c652f64657461696c732f313237333831333733" class_="artid" style="display:none">
 </p>
</div>


