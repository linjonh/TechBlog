---
layout: post
title: "想给用户天涯若比邻的体验业务全球化面临的三重挑战"
date: 2021-12-09 21:42:49 +0800
description: "当前业务全球化成为了众多主流互联网公司的核心战略。内容型业务也成为全球化的热点，在中国企业的出海潮中"
keywords: "全球化应用服务的技术挑战"
categories: ['技术干货']
tags: ['网络', 'Qos']
artid: "121836846"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=121836846
    alt: "想给用户天涯若比邻的体验业务全球化面临的三重挑战"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     想给用户天涯若比邻的体验？业务全球化面临的三重挑战
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="01__0">
     </a>
     01 疫情下的在线需求与用户体验
    </h2>
    <p>
     弗里德曼在《世界是平的》一书中提出，经济全球化的发展进程中形成了三次浪潮，分别是劳动力密集型的全球化、资本密集型的全球化和知识密集型的数字全球化。数字化技术对全球商业环境带来了深远的影响，新冠疫情席卷全球，在线连接成为了沟通的主题，然而网络问题却成为业务全球化的障碍。
    </p>
    <p>
     由于疫情导致的实时在线需求暴涨，对于全球网络来说，首当其冲的流媒体和视频会议的压力剧增。为了防止网络出现拥堵和避免出现音视频卡顿模糊的现象，YouTube、Netflix和Disney+等被迫降低用户端分辨率，以减轻带宽压力。而仓促上线的各类视频会议服务更是一度集体崩溃。
    </p>
    <p>
     由于疫情带来的隔离和出行限制，在线文娱风口热流涌动。据《南方周末》报道，中国人平均一天花在手机应用上的时间为196分钟，有5亿人以电竞游戏作为居家休闲的主要方式之一。但网络下载速度慢，游戏掉线、卡顿等问题严重影响了用户体验。跨境电商购物遭遇订单响应慢、支付失败等问题，用户流失将会非常严重。
    </p>
    <h2>
     <a id="02__14">
     </a>
     02 网络问题制约着企业业务全球化的步伐
    </h2>
    <p>
     当前业务全球化成为了众多主流互联网公司的核心战略。内容型业务也成为全球化的热点，在中国企业的出海潮中也有很多体现。在以内容为潮流的出海互联网企业中，游戏、直播、在线教育、泛娱乐、办公协作成为企业的热门选项。
    </p>
    <p>
     对于业务全球化，公司会将更多精力放到运营，底层的全球服务构建变得弱势，然而往往很多业务在拓展中用户体验便是在底层基础设施中卡壳。
    </p>
    <p>
     在硬件配置高冗余的当下，大多数互动、动作类游戏应用考验的不再是机器的配置，核心体验在于操作反馈的及时性，全球不同地域的玩家是否能够获得实时畅快的体验是游戏运营方最基础的保障。加之全球不同地域的区域同步、用户每次登录游戏的一次性成功率、连接的稳定性等多维的用户诉求，游戏运营商需要在笼统的“游戏体验”下做更精准的需求拆解和更优质的技术应对。
    </p>
    <p>
     音视频直播则更加考验直播的清晰度、流畅度，曾经作为视频网站的单选题，也在用户体验层次升级后变成了鱼和熊掌兼得的选项。在全球不同地域覆盖如何保障音视频流畅访问也成为关键，尤其是东南亚等电信基础设施服务能力较弱的情况下依然能提供流畅的视听体验。
    </p>
    <p>
     对于跨境电商、金融等场景，更加需要及时、稳定、快速数据同步的服务，这依然对互联网出海应用的底层抗打击能力提出了要求。
    </p>
    <h2>
     <a id="03_QoS_36">
     </a>
     03 原生互联网没有QoS保障
    </h2>
    <p>
     互联网提供的是Best-Effort（尽力而为）网络互联服务，它的使命是尽最大可能地传输数据，因此它优先考虑的是连接性和可扩展性，但不保证将数据完整传输出去，也不保证用户的时延、可靠性等QoS质量以及优先级。
    </p>
    <p>
     互联网是由各个区域性网络组成的，没有中心化管理和调度机制，全球性的网络传输需要跨多个网络。然而每个区域都由不同的ISP来运维，不同ISP根据服务提供规模和性质会有不同层级，不同层级ISP之间也有不同数据路由规则。
    </p>
    <p>
     <img alt="图片" src="https://i-blog.csdnimg.cn/blog_migrate/e51d2bd07413485c1b92d201b3d0c733.png"/>
    </p>
    <p>
     不同层级的ISP互联
    </p>
    <p>
     依托 BGP协议，ISP间的直连（Peering）和转接（Transit）更加高效。这种组织方式保证了规模与可扩展性，但是作为代价降低了端到端网络通信的可用性与质量。
    </p>
    <p>
     一方面BGP没有设计对持续拥塞、丢包、突发流量、延迟大等网络问题的检测发现，只要还能通就继续沿着原来路径发送，尽管从丢包延时抖动等参数上看网络已经严重恶化，大部分应用程序的体验将会很糟糕，对实时性和质量敏感的应用则无法使用。假设上海电信到美国LA方向带宽拥堵，造成丢包高达 30%，同时上海电信到香港方向带宽富裕不丢包，BGP协议没办法做到舍弃直连，转为从香港运营商转接到美国LA从而改善质量。
    </p>
    <p>
     另一方面当一条路径确实不通时，BGP需要花费很长时间才能恢复，有实验表明 10%的路径无法实现 95%的可用性、35%的路径可用性低于4个9（99.99%）、40%的路径故障花费30分钟以上才能修复、5%的路径故障修复时间超过2小时45分钟。
    </p>
    <p>
     因此，Internet骨干网的路由架构是为了相对简单、高可扩展性优化的，它成功地支撑了过去几十年Internet规模的几何级数增长，背后的代价就是无法快速提供有 QoS 保障的网络传输。。
    </p>
    <p>
     同时从用户网络接入层面来看，WiFi、3G、4G、5G等多种接入方式，让接入网络问题愈发复杂。3G、4G、5G无线信号受区域影响不稳定，上下行带宽有限。WIFI则受设备限制，饱受性能参差不齐、信号时好时坏、干扰严重等问题困扰。同时接入网的高复用比，高峰期流量拥塞问题显著。
    </p>
    <p>
     在使用互联网提供的是Best-Effort（尽力而为）网络互联服务时，取决于当前的负载情况会遇到不同程度的丢包、延时和带宽限制。然而当前存在包括音视频通讯、在线游戏、移动金融、企业全球办公、企业远程协作、跨境电商、跨网跨区域的物联网数据消息同步，以及各类出海应用和海外用户访问国内源站等，都要求网络传输有确切定义的实时性与可用性，这些应用需要有更强大的QoS保障。
    </p>
    <h2>
     <a id="04_QoS_74">
     </a>
     04 QoS保障背后的技术挑战
    </h2>
    <p>
     我们对上文不同场景需求进行拆解中，可以将一些共性的诉求做一些归纳，看看业务全球化下互联网应用QoS保障需要面对哪些挑战。
    </p>
    <p>
     <strong>
      挑战一：全球网络基建参差不齐，跨网延迟大，弱网影响用户体验。
     </strong>
    </p>
    <p>
     Speedtest发布了2020年12月份全球网速排行榜，中国移动网络速率全球第四，是全球平均水平的三倍。而像印度，非洲，中亚，东南亚部分地区平均网速，只有中国的十分之一，相当于中国3G的年代。国内大部分的APP，出海都将面临常见弱网问题。如带宽受限，高峰期拥塞，丢包严重。对端侧协议优化，业务优化提出更高的要求。
    </p>
    <p>
     运营商间的数据交互接口复杂，导致跨运营商访问延迟增加。在跨国连接中，国际海缆稀缺资源，跨大区服务带宽有限，高峰期拥塞。同时运营商之间路由协商依赖人为配置，配置错误时有发生，导致流量黑洞。
    </p>
    <p>
     <strong>
      挑战二：分布式部署，跨区域高质量访问构建成本高。
     </strong>
    </p>
    <p>
     基于专线的跨区域访问构建，单M成本千元以上，专线的计费模型，扩容方式也难以支撑业务快速的弹性扩展。在硬基础设施的高成本下，需要更优的底层软件技术降低成本，然而软件的低成本带来的是人力的大投入，这需要企业在业务发展中有更多的博弈。
    </p>
    <p>
     <strong>
      挑战三：公有云覆盖有限，多云复杂度高。
     </strong>
    </p>
    <p>
     公有云通道往往受到网络带宽、节点布局等因素制约，跨境业务访问还是面临不少难题。出海企业所处行业不同，业务要求不一，加上出海的国家和地区在法律法规和IT基础设施建设方面也存在很大差异。公有云大部分覆盖的是发达国家地区，在偏远地区覆盖则是空白，特别在非洲，南美，中亚地区。
    </p>
    <p>
     多数企业选择多云的方式进行业务部署，这势必又增加了复杂度。有些是跨地域的多个云服务商，有些是同地域的多个云服务商，还有背后更加复杂的运营商网络专线组合。复杂的电信运营商、云服务商跨网问题成为区域覆盖的挑战。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f61676f72615f636c6f75642f:61727469636c652f64657461696c732f313231383336383436" class_="artid" style="display:none">
 </p>
</div>


