---
layout: post
title: "Android-App开发教程使用Chaquopy轻松结合Python"
date: 2023-06-02 00:00:00 +0800
description: "当今的程式开发中，Python已经成为了一个非常流行的语言，因为它可以快速编写出高效的代码。然而，如"
keywords: "Python,Chaquopy,AndroidApp"
categories: ['Qualcomm']
tags: ['开发语言', '学习', 'Python', 'Android']
artid: "130949808"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=130949808
    alt: "Android-App开发教程使用Chaquopy轻松结合Python"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Android App开发教程——使用Chaquopy轻松结合Python
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     1.  前言
    </h2>
    <p>
     当今的程式开发中，Python已经成为了一个非常流行的语言，因为它可以快速编写出高效的代码。然而，如果要将Python结合到Android App(应用程式)中，需要进行一些复杂的设置和调整。Chaquopy是一个可以帮助开发者在Android App中轻松使用Python代码的工具。本文将介绍如何安装Chaquopy，让你的Android App更加强大。
    </p>
    <h2>
     2.  Android Studio搭配Chaquopy环境建置
    </h2>
    <p>
     <strong>
      以下环境是在
     </strong>
     <strong>
      Windows 10
     </strong>
     <strong>
      下建置。
     </strong>
    </p>
    <p>
     a.  根目录settings.gradle文件添加。(图1)
    </p>
    <pre><code class="language-python">maven { url "https://chaquo.com/maven" }​</code></pre>
    <table border="0" cellspacing="0">
     <tbody>
      <tr>
       <td style="text-align:center;">
        <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/b1173d22057ecfa4be9c8fc34598f72f.jpeg"/>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         图1
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     b.   专案内的build.gradle添加。(图2)
    </p>
    <pre><code class="language-python">id 'com.chaquo.python' version '14.0.2' apply false
</code></pre>
    <table border="0" cellspacing="0">
     <tbody>
      <tr>
       <td style="text-align:center;">
        <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/aeb350f1a90329b8f062e50161b05fec.jpeg"/>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         图2
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     c.  app内build.gradle档案中plugins区块添加。(图3)
    </p>
    <pre><code class="language-python">id 'com.chaquo.python'</code></pre>
    <table border="0" cellspacing="0">
     <tbody>
      <tr>
       <td style="text-align:center;">
        <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/da4aef0cfb950d0c43df4bcde12dd671.jpeg"/>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         图3
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     d.  然后在app里面的build.gradle中defaultConfig区块添加。(图4)
    </p>
    <pre><code class="language-python">ndk {
    abiFilters "armeabi-v7a", "arm64-v8a", "x86", "x86_64"
}</code></pre>
    <table border="0" cellspacing="0">
     <tbody>
      <tr>
       <td style="text-align:center;">
        <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/06f4f32ca496a18d009c225a416db19b.jpeg"/>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         图4
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     e.  配置python环境，此教学使用windows环境进行建置，因此需要依照个人电脑中python配置路径进行修改，如果没有安装python，请自行安装。
    </p>
    <p>
     在app里面的build.gradle中defaultConfig区块添加。(图5)
    </p>
    <pre><code class="language-python">python {
    buildPython "C:/Users/User/AppData/Local/Programs/Python/Python38/python.exe"

}​</code></pre>
    <table border="0" cellspacing="0">
     <tbody>
      <tr>
       <td style="text-align:center;">
        <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/a33d5308ef383aac58923e112d0993b9.jpeg"/>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         图5
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     f.  最后Android Studio画面上会出现提示框，点击Sync Now就可进行同步，完成之后，Chaquopy套件就成功加入项目内了。(图6)
    </p>
    <table border="0" cellspacing="0">
     <tbody>
      <tr>
       <td style="text-align:center;">
        <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/45bac95aad3c235bd27e44a3e2c2a3be.jpeg"/>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         图6
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      3.  Android内使用 python
     </strong>
    </p>
    <p>
     a.  在app内àsrcàmain新增python资料夹，资料夹内在新增一个hello_python.py档案。(图7)
    </p>
    <table border="0" cellspacing="0">
     <tbody>
      <tr>
       <td style="text-align:center;">
        <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/273b74d9f4585076408c64def4d18485.jpeg"/>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         图7
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     b.  hello_python.py档案内添加以下文字。
    </p>
    <pre><code class="language-python">def Python_say_Hello():
    print("Hello Python")​</code></pre>
    <p>
     c.  MainActivity档案内增加调用python代码，调用python代码需要引用相关程式库。(图8)
    </p>
    <pre><code class="language-python">import com.chaquo.python.Python;
import com.chaquo.python.PyObject;
import com.chaquo.python.android.AndroidPlatform;

 

//初始化python环境

if(!Python.isStarted()){
    Python.start(new AndroidPlatform(this));
}
Python python=Python.getInstance();

//调用hello_python.py里面的Python_say_Hello函式

PyObject pyObject=python.getModule("hello_python");
pyObject.callAttr("Python_say_Hello");​</code></pre>
    <table border="0" cellspacing="0">
     <tbody>
      <tr>
       <td style="text-align:center;">
        <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/91d40e0f7ccae10b3b349bf0b1d03228.jpeg"/>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         图8
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     d.  最后执行Run app既可成功使用，可以在Logcat中看到python输出。(图9)
    </p>
    <table border="0" cellspacing="0">
     <tbody>
      <tr>
       <td style="text-align:center;">
        <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/435c0ebc74ae13b2c963c9d6e931189e.jpeg"/>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         图9
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h2>
     <strong>
      结语
     </strong>
    </h2>
    <p>
     透过以上的教学，相信各位已经能够成功透过Android Studio将Chaquopy建置成功；使用Chaquopy，各位可以轻松地将Python代码整合至你的Android App中，从而实现更复杂的功能。如果你是一个Android App开发者，建议你试试Chaquopy，体验它带来的好处，有问题的看官们欢迎联系我，我们一同讨论。
    </p>
    <p>
     喜欢我的帖子，请帮我按个”收藏”，我们下回见。
     <br/>
    </p>
    <h2>
     <strong>
      Q&amp;A
     </strong>
    </h2>
    <p>
     <strong>
      1.Chaquopy支持哪些Python版本？
     </strong>
    </p>
    <p>
     Ans：Chaquopy支持Python 2.7和Python 3.3以上版本。
    </p>
    <p>
     <strong>
      2.Chaquopy支援的Android API版本是哪些？
     </strong>
    </p>
    <p>
     Ans：Chaquopy支援Android 4.4（API level 19）及以上版本。
    </p>
    <p>
     <strong>
      3.进行Sync Now遇到以下错误如何解决?
     </strong>
    </p>
    <p>
     debug: This version of Chaquopy requires minSdkVersion 21 or higher.
    </p>
    <p>
     Ans：app里面的build.gradle中defaultConfig区块内的minSdk改成23版本就可以成功
    </p>
    <p>
     <strong>
      4.进行Run app，遇到以下错误如何解决?
     </strong>
    </p>
    <p>
     Dependency 'androidx.appcompat:appcompat-resources:1.6.1' requires 'compileSdkVersion' to be set to 33 or higher.
    </p>
    <p>
     Ans： app里面的build.gradle中dependencies区块内implementation 'androidx.appcompat:appcompat:1.6.1'改成implementation 'androidx.appcompat:appcompat:1.1.0'
    </p>
    <p>
     <strong>
      5.Chaquopy是否支持使用Python的第三方库?
     </strong>
    </p>
    <p>
     Ans：有支援，此部分下一篇博文会介绍，近请期待。
    </p>
    <p>
     以上内容来源
     <a href="https://www.wpgdadatong.com.cn/?utm_source=wpg_ddt&amp;utm_medium=csdn_ddt&amp;utm_campaign=2023_jun_01&amp;utm_content=home" rel="nofollow" title="大大通">
      大大通
     </a>
     官网，速戳了解更多精彩内容吧~
    </p>
   </div>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f7770676464742f:61727469636c652f64657461696c732f313330393439383038" class_="artid" style="display:none">
 </p>
</div>


