---
layout: post
title: "如何在若依中进行接口测试"
date: 2024-12-11 17:05:18 +0800
description: "解决若依测试接口时，无法访问资源的问题。_若依接口测试"
keywords: "若依接口测试"
categories: ['若依']
tags: ['Junit', 'Java']
artid: "135216516"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=135216516
    alt: "如何在若依中进行接口测试"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     如何在若依中进行接口测试
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在若依(前后端分离版)中使用ApiPost对新写的功能进行测试时报错，显示无法访问资源，如下图所示:
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/d45f9b1e340d139e1d7e6695fd42f39c.png"/>
    </p>
    <h3>
     <a id="_2">
     </a>
     解决方法
    </h3>
    <h4>
     <a id="_3">
     </a>
     方法一
    </h4>
    <p>
     由于若依中有一些安全设置，因此无法直接访问资源，需增加token认证，具体步骤如下:
    </p>
    <h5>
     <a id="11_5">
     </a>
     1.1预先准备
    </h5>
    <p>
     按f12进入调试，点击Network(网络)
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/aac5f410e69b8339cca3580892f3146a.png"/>
    </p>
    <h5>
     <a id="12_8">
     </a>
     1.2登录账号
    </h5>
    <p>
     登录当前账号进入首页
    </p>
    <h5>
     <a id="13token_10">
     </a>
     1.3寻找token
    </h5>
    <p>
     在Network中找到getRouters，再找到Authorizetion，复制Bearer开头的字符串
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/684acaccc3c7c8adee63df52453bca6d.png"/>
    </p>
    <h5>
     <a id="14Bearer_auth_13">
     </a>
     1.4添加Bearer auth认证
    </h5>
    <p>
     在ApiPost中点击认证，并选择Bearer Auth认证，并将复制的复制的字符串粘贴至token中。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/425e5d8ad172ab7f9440cffd16499168.png#pic_center">
      <br/>
      再次发送，响应成功!
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1dc6c72c83ae1c9a7b48c591dd53de10.png">
       <br/>
       但这样做每增加一个接口，都得重复这个操作。同时，每个token的有效时间为30mins。此方法不是长久之计，因此，引出方法二。
      </img>
     </img>
    </p>
    <h4>
     <a id="_19">
     </a>
     方法二
    </h4>
    <p>
     该方法通过关掉若依中的token测试，达到一劳永逸的效果。
    </p>
    <h5>
     <a id="21_21">
     </a>
     2.1预先准备
    </h5>
    <p>
     首先，需先找到SecurityConfig类，此类在ruoyi-framework文件夹中，具体位置如下图所示:
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/c4dc7c9303749e01ce63a8001834fbdb.png"/>
    </p>
    <h5>
     <a id="22_24">
     </a>
     2.2修改代码
    </h5>
    <p>
     将下面的代码进行修改，修改两个红框中的代码
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/69fbf504a99ece79d03e67eaaf613e5e.png">
      <br/>
      修改完后如下图所示(需在第二个红框上面一行代码处增加一个分号):
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/4cfce1b83ff5b03ef3596099b77bec93.png"/>
     </img>
    </p>
    <h5>
     <a id="23_29">
     </a>
     2.3进行测试
    </h5>
    <p>
     把认证改为无需认证，再次发送，响应成功!
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/5cb984d294b4f2bb4e85c8c1095058d4.png"/>
     <br/>
     使用该方法后，在对数据表进行增删改时，若依后端可能会报警告，这可能是若依的日志导致，不影响使用。接下来就可以继续进行愉快的开发啦!(^
     <sup>
      o
     </sup>
     ^)/~
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f35373433333931362f:61727469636c652f64657461696c732f313335323136353136" class_="artid" style="display:none">
 </p>
</div>


