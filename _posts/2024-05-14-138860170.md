---
layout: post
title: "网页的注册连接数据库"
date: 2024-05-14 16:32:14 +0800
description: "用户名密码日期由于格式的问题需要处理，进行日期格式化按照yyyy-MM-dd hh:mm:ss处理。"
keywords: "网页注册"
categories: ["未分类"]
tags: ["Java"]
artid: "138860170"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=138860170
  alt: "网页的注册连接数据库"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     网页的注册（连接数据库）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <img alt="" height="720" src="https://i-blog.csdnimg.cn/blog_migrate/a052364c7a601f8baf4320834f058c8d.png" width="960"/>
    </p>
    <p>
     <img alt="" height="720" src="https://i-blog.csdnimg.cn/blog_migrate/af9e58cea2f2c1bc144f7df0e3834a00.png" width="960"/>
    </p>
    <p>
     <img alt="" height="720" src="https://i-blog.csdnimg.cn/blog_migrate/b072b995f25a26f431e7b39afb54fdae.png" width="960"/>
    </p>
    <p>
     实现注册的场景：
     <br/>
     1、创建注册页面
     <br/>
     2、在接口中定义注册的方法
     <br/>
     3、在接口的实现类中，实现注册的方法
     <br/>
     4、在注册的接口中，处理注册的业务逻辑
     <br/>
     （设置编码格式
     <br/>
     获取账号和密码
     <br/>
     日期由于格式的问题需要处理，进行日期格式化按照yyyy-MM-dd hh:mm:ss处理
     <br/>
     判断是否注册成功
     <br/>
     注册成功跳转到登录页面，进行登录
     <br/>
     注册失败跳转到注册页面）
    </p>
    <p>
     package org.cs.servlet;
    </p>
    <p>
     import java.io.IOException;
     <br/>
     import javax.servlet.ServletException;
     <br/>
     import javax.servlet.annotation.WebServlet;
     <br/>
     import javax.servlet.http.HttpServlet;
     <br/>
     import javax.servlet.http.HttpServletRequest;
     <br/>
     import javax.servlet.http.HttpServletResponse;
    </p>
    <p>
     import org.cs.dao.UserInfoDao;
     <br/>
     import org.cs.dao.impl.UserInfoDaoImpl;
     <br/>
     import org.cs.pojo.UserInfo;
    </p>
    <p>
     /**
     <br/>
     * Servlet implementation class LoginServlet
     <br/>
     */
     <br/>
     @WebServlet("/login")
     <br/>
     public class LoginServlet extends HttpServlet {
     <!-- -->
     <br/>
     private static final long serialVersionUID = 1L;
     <br/>
     <br/>
     /**
     <br/>
     * @see HttpServlet#HttpServlet()
     <br/>
     */
     <br/>
     public LoginServlet() {
     <!-- -->
     <br/>
     super();
     <br/>
     // TODO Auto-generated constructor stub
     <br/>
     }
    </p>
    <p>
     /**
     <br/>
     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
     <br/>
     */
     <br/>
     protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
     <!-- -->
     <br/>
     // TODO Auto-generated method stub
     <br/>
     response.getWriter().append("Served at: ").append(request.getContextPath());
     <br/>
     }
    </p>
    <p>
     /**
     <br/>
     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
     <br/>
     */
     <br/>
     protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
     <!-- -->
     <br/>
     // TODO Auto-generated method stub
     <br/>
     //doGet(request, response);
     <br/>
     request.setCharacterEncoding("utf-8");
     <br/>
     response.setCharacterEncoding("utf-8");
     <br/>
     String name=request.getParameter("userName");
     <br/>
     String pwd=request.getParameter("pwd");
     <br/>
     UserInfoDao uid=new UserInfoDaoImpl();
     <br/>
     UserInfo ui=uid.login(name,pwd);
     <br/>
     if(ui!=null){
     <!-- -->
     <br/>
     response.sendRedirect("index.html");
     <br/>
     }else{
     <!-- -->
     <br/>
     response.sendRedirect("login.jsp");
     <br/>
     }
     <br/>
     }
    </p>
    <p>
     }
    </p>
    <p>
     &lt;%@ page language="java" contentType="text/html; charset=UTF-8"
     <br/>
     pageEncoding="UTF-8"%&gt;
     <br/>
     &lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
     <br/>
     &lt;html&gt;
     <br/>
     &lt;head&gt;
     <br/>
     &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
     <br/>
     &lt;title&gt;Insert title here&lt;/title&gt;
     <br/>
     &lt;/head&gt;
     <br/>
     &lt;body&gt;
     <br/>
     &lt;form actiion="register" metho="post"&gt;
     <br/>
     用户名&lt;input type="text" name="userName"/&gt;&lt;br/&gt;
     <br/>
     密码&lt;input type="password" name="pwd"/&gt;&lt;br/&gt;
     <br/>
     &lt;input type="submit" value="注册"/&gt;
     <br/>
     &lt;/form&gt;
     <br/>
     &lt;/body&gt;
     <br/>
     &lt;/html&gt;
    </p>
    <p>
     package org.cs.servlet;
    </p>
    <p>
     import java.io.IOException;
     <br/>
     import java.text.SimpleDateFormat;
     <br/>
     import java.util.Date;
    </p>
    <p>
     import javax.servlet.ServletException;
     <br/>
     import javax.servlet.annotation.WebServlet;
     <br/>
     import javax.servlet.http.HttpServlet;
     <br/>
     import javax.servlet.http.HttpServletRequest;
     <br/>
     import javax.servlet.http.HttpServletResponse;
    </p>
    <p>
     import org.cs.dao.UserInfoDao;
     <br/>
     import org.cs.dao.impl.UserInfoDaoImpl;
     <br/>
     import org.cs.pojo.UserInfo;
    </p>
    <p>
     /**
     <br/>
     * Servlet implementation class RegisterServlet
     <br/>
     */
     <br/>
     @WebServlet("/register")
     <br/>
     public class RegisterServlet extends HttpServlet {
     <!-- -->
     <br/>
     private static final long serialVersionUID = 1L;
     <br/>
     <br/>
     /**
     <br/>
     * @see HttpServlet#HttpServlet()
     <br/>
     */
     <br/>
     public RegisterServlet() {
     <!-- -->
     <br/>
     super();
     <br/>
     // TODO Auto-generated constructor stub
     <br/>
     }
    </p>
    <p>
     /**
     <br/>
     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
     <br/>
     */
     <br/>
     protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
     <!-- -->
     <br/>
     // TODO Auto-generated method stub
     <br/>
     response.getWriter().append("Served at: ").append(request.getContextPath());
     <br/>
     }
    </p>
    <p>
     /**
     <br/>
     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
     <br/>
     */
     <br/>
     protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
     <!-- -->
     <br/>
     // TODO Auto-generated method stub
     <br/>
     //doGet(request, response);
     <br/>
     request.setCharacterEncoding("utf-8");
     <br/>
     response.setCharacterEncoding("utf-8");
     <br/>
     String username=request.getParameter("userName");
     <br/>
     String pwd=request.getParameter("pwd");
     <br/>
     UserInfoDao uid=new UserInfoDaoImpl();
     <br/>
     int result=uid.register(new UserInfo(username, pwd,formate(new Date())));
     <br/>
     }
     <br/>
     /**
     <br/>
     * 日期格式转化
     <br/>
     * @param date 日期
     <br/>
     * @return 字符串日期年月日小时分钟秒这样的格式
     <br/>
     */
     <br/>
     public static String formate(Date date){
     <!-- -->
     <br/>
     SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
     <br/>
     return sdf.format(date);
     <br/>
     }
    </p>
    <p>
     }
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330325f37383535383336312f:61727469636c652f64657461696c732f313338383630313730" class_="artid" style="display:none">
 </p>
</div>
