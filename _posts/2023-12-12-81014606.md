---
layout: post
title: "华三设备升级教程"
date: 2023-12-12 01:58:03 +0800
description: "本文提供两种H3C交换机升级方法：通过FTP服务器端进行文件升级及利用console线直接升级。第一"
keywords: "h3c路由器usb口"
categories: ['H']
tags: ['无标签']
artid: "81014606"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=81014606
    alt: "华三设备升级教程"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     华三设备升级教程
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h5>
     第一种方法：利用网线和电脑（FTP服务器端），设备做PC端get文件升级
    </h5>
    <p>
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     1. 首先，在H3C官网中下载最新版本的交换机文件。在网上下载3CDaemon软件。点击3CDaemon，进入点击设置FTP服务器。进入界面后点击FTP设置，
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     在上传/下载目录选择新版本所在目录；点击FTP用户，可设置用户名和密码，连接上传时会用到。
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     <br/>
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     2. 登入H3C交换机，可用配置线在console口登录，也可以远程登录。登录后在全局底下查看交换机版本：
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     &lt;H3C&gt;display version
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     查看交换机版本是否是最新版本，然后查看查看FLASH信息，检查FLASH空间是否足够：
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     &lt;H3C&gt;dir /all
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     查看系统文件，文件名应为.bin（boot-loader）。
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     <br/>
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     如果设备内存不多，不够支持能够存下新的系统的内存大小，那就需要删除内部的文件或者系统。
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     3.
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     删除原来的.bin文件;
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     &lt;H3C&gt;delete /unreserved  s3600v2_e-cmw520-r2111p02.bin  例子
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     输完命令后会有提示 ，输入Y即可删除。
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     <br/>
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     4.
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     接下来连接FTP，
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     &lt;H3C&gt;ftp x.x.x.x （为本机IP地址） ，
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     下面输入用户名和密码登录FTP服务器
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     get S3600V2_E-CMW520-R2110P01.bin （从服务器下载新版本的文件至FLASH），
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     bootrom update file S3600V2_E-CMW520-R2110P01.bin slot 1（从FLASH中加载新版本的bootrom文件）
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     出现提示是否加载，输入Y
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     boot-loader file flash:/S3600V2_E-CMW520-R2110P01.bin slot 1 main
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     (保存新的版本）出现提示，输入 Y
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     <br/>
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
     <span style="color:rgb(51,51,51);font-family:'Microsoft Yahei', '微软雅黑', arial, '宋体', sans-serif;background-color:rgb(255,255,255);">
      输入完后用reset recycle-bin 命令 清空交换机回收站，就把以前版本的信息全部清楚掉了，然后输入 reboot 重启交换机后输入 dir/all 命令就会发现H3C交换机的版本已经升级新的版本。
     </span>
     <br/>
    </p>
    <br/>
    <br/>
    <h4>
     第二种方法利用console线直接升级设备，这是在没有多余网线的情况下解决设备升级。
    </h4>
    <p>
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft YaHei';font-size:14px;background-color:rgb(255,255,255);">
     1.H3C设备使用con口传IOS文件到设备中，用于在网口无法灌入版本IOS文件时或者用于确认设备是否有硬件故障时使用。
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft YaHei';font-size:14px;background-color:rgb(255,255,255);">
     本文使用MSR系列路由器作为范例，华三其他设备可参考本文。
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft YaHei';font-size:14px;background-color:rgb(255,255,255);">
     升级过程是一样的，只是选项卡方式不同
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft YaHei';font-size:14px;background-color:rgb(255,255,255);">
     <br/>
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft YaHei';font-size:14px;background-color:rgb(255,255,255);">
     2.
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft YaHei';font-size:14px;background-color:rgb(255,255,255);">
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      设备重启，当显示如图时，按CTRL+B键进入到bootrom菜单，默认为空密码，直接回车进入。
     </span>
     <br/>
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft YaHei';font-size:14px;background-color:rgb(255,255,255);">
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/df86679dd62a520c4f4f518e49e89bfe.jpeg">
       <br/>
      </img>
     </span>
    </p>
    <p style="color:rgb(51,51,51);font-family:'Microsoft YaHei';font-size:14px;background-color:rgb(255,255,255);">
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      <br/>
     </span>
    </p>
    <p>
     3.
     <span style="background-color:rgb(255,255,255);color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;">
      之后会看见选项菜单，输入2回车，进入到serial菜单。在选择5，设置下串口的波特率。默认为9600，如果以这个速率传ios会比较慢的。
     </span>
    </p>
    <p>
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/5a339be7c536914832661c231c88b3f3.jpeg">
       <br/>
      </img>
     </span>
    </p>
    <p>
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      4.
      <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
       一般我们都会选择最高速率115200。其实这个速率也是比较低的了，对于网口速率来说算是龟速了。选择5后会提示你将串口变更到115200速率。在超级终端上点击如圆圈上按钮。先挂起通讯
      </span>
     </span>
    </p>
    <p>
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
       <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/2e2eb8d25ade56cce6bd5505e427b578.jpeg"/>
      </span>
     </span>
    </p>
    <p>
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      </span>
     </span>
    </p>
    <p style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
     5.选择文件-属性-点击配置
    </p>
    <p style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
     在位/秒 处选择115200，点击确定。
    </p>
    <p style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
     返回到页面上时回车一下。之后会在115200后有个*号就表明已经切换到115200速率上了。
    </p>
    <p>
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
       <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/f81e3b7832c4016127219d7d5e363f80.jpeg"/>
      </span>
     </span>
    </p>
    <p>
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
       6.
      </span>
     </span>
     <span style="background-color:rgb(255,255,255);color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;">
      之后选择2，进行升级IOS。选择后会在最下提示CCCC这样的字符，这样就可以进行下一步操作了。
     </span>
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      </span>
     </span>
    </p>
    <p style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
     选择传送-发送文件。选择升级文件，协议选择Xmodem，在点击发送。
    </p>
    <p style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
     会提示如下图，这样就不要操作了。等待就好。看文件的大小，会比较慢
    </p>
    <p style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/c9b3efff86e9df18b7d1ca7b7defaa1a.jpeg">
      <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/c588529fc3910ffbacfc6cfcf5757d23.jpeg">
       <br/>
      </img>
     </img>
    </p>
    <p style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      当传送完毕后，会提示你输入一个文件名字。可以输入main.bin。需是英文字符后缀必须为.bin就可以 。之后确认y。在选择0退回到主菜单。选择0重启设备生效版本升级。
     </span>
     <br/>
    </p>
    <p>
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
       <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
        7.
        <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/d51254e50812feeb8464bc1c4b6b210b.jpeg">
         <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/f309ca1186182b7206c2bfefd3600f49.jpeg"/>
        </img>
       </span>
       <br/>
      </span>
     </span>
    </p>
    <p>
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
       <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
        <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
         重启后，超级终端就会中断了，重新挂起连接，将波特率修改会9600就可以正常显示重启过程了。等待重启完毕就是新版本了。
        </span>
        <br/>
       </span>
      </span>
     </span>
    </p>
    <p>
     <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
      <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
       <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
        <span style="color:rgb(51,51,51);font-family:arial, 'Microsoft YaHei', '宋体', sans-serif, tahoma;font-size:14px;background-color:rgb(255,255,255);">
         转自百度，有解不开的未知数二次编辑。
        </span>
       </span>
      </span>
     </span>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f71715f3333383139353734:2f61727469636c652f64657461696c732f3831303134363036" class_="artid" style="display:none">
 </p>
</div>


