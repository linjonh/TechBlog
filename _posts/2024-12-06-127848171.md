---
layout: post
title: "前端JS-base64转图片"
date: 2024-12-06 10:20:46 +0800
description: "因为我这边的 base64二进制文件流缺失前缀需要在js/ts 简单处理下拼接图片类型data:im"
keywords: "js base64转图片"
categories: ['未分类']
tags: ['前端', 'Vue', 'Python', 'Javascript', 'Java']
artid: "127848171"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=127848171
  alt: "前端JS-base64转图片"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     前端JS base64转图片
    </h1>
   </div>
   <div class="ai-article-tag" id="ai-article-tag">
    <div class="ai-article-tag-box">
     <p class="ai-article-tag-item-active">
      <img alt="" class="item-target" src="https://img-home.csdnimg.cn/images/20240715101418.png"/>
     </p>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"Base64"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"Base64"}}' href="https://so.csdn.net/so/search/s.do?q=Base64&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       Base64
      </span>
     </a>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"图片处理"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"图片处理"}}' href="https://so.csdn.net/so/search/s.do?q=%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       图片处理
      </span>
     </a>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"JavaScript"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"JavaScript"}}' href="https://so.csdn.net/so/search/s.do?q=JavaScript&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       JavaScript
      </span>
     </a>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"前端开发"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"前端开发"}}' href="https://so.csdn.net/so/search/s.do?q=%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       前端开发
      </span>
     </a>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"img标签"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"img标签"}}' href="https://so.csdn.net/so/search/s.do?q=img%E6%A0%87%E7%AD%BE&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       img标签
      </span>
     </a>
    </div>
    <span class="ai-article-tag-text">
     关键词由CSDN通过智能技术生成
    </span>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     这个需求看上去很唬人是吧，其实很简单，只需要img标签就可以了
    </p>
    <p>
     接口出参见下图
    </p>
    <p class="img-center">
     <img alt="" height="258" src="https://i-blog.csdnimg.cn/blog_migrate/7de6c563deb9acf3ef4e5ddd0627fb9e.png" width="1200"/>
    </p>
    <p>
     因为我这边的 base64二进制文件流缺失前缀需要在js/ts 简单处理下拼接图片类型data:image/png;base64
    </p>
    <pre><code class="language-TypeScript">// resct hooks ts
const [imgBase64, setImgBase64] = useState&lt;any&gt;();
const onGetCaptcha = () =&gt; {
    const params = {
      captchaId: generateUUID(),
    };
    GetCaptcha(params).then((res) =&gt; {
      if (res.success) {
        setImgBase64(`data:image/png;base64,${res?.data}`);
      }
    });
  };</code></pre>
    <p>
     处理好后
    </p>
    <p>
     直接在img中使用就可以
    </p>
    <pre><code class="language-TypeScript">&lt;span style={<!-- -->{ marginLeft: '5px' }}&gt;
  &lt;img
    style={<!-- -->{ width: '99px', height: '35px' }}
    src={imgBase64}
    alt=""
  /&gt;
&lt;/span&gt;</code></pre>
    <p class="img-center">
     <img alt="" height="356" src="https://i-blog.csdnimg.cn/blog_migrate/80b1e4abbf8973ebdc5442dafe814a2d.png" width="584"/>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34363630303933312f:61727469636c652f64657461696c732f313237383438313731" class_="artid" style="display:none">
 </p>
</div>
